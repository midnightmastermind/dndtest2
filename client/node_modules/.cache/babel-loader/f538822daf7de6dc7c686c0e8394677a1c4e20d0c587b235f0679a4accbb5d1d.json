{"ast":null,"code":"/* character-counter.tsx generated by @compiled/babel-plugin v0.38.1 */\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport \"./character-counter.compiled.css\";\nimport * as React from 'react';\nimport { ax, ix } from \"@compiled/react/runtime\";\nimport { useContext, useEffect, useRef, useState } from 'react';\nimport ErrorIcon from '@atlaskit/icon/core/migration/status-error--error';\nimport { Text } from '@atlaskit/primitives/compiled';\nimport VisuallyHidden from '@atlaskit/visually-hidden';\nimport { FieldId } from './field-id-context';\n\n// Extracted styles for character counter message container\nvar messageContainerStyles = null;\n\n// Extracted styles for error icon wrapper\nvar errorIconWrapperStyles = null;\n\n// Error icon with wrapper for character count violations\nvar ErrorIconWithWrapper = function ErrorIconWithWrapper() {\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: ax([\"_1e0c1txw _4t3i7vkz _4cvr1h6o\"])\n  }, /*#__PURE__*/React.createElement(ErrorIcon, {\n    LEGACY_margin: \"0 -2px 0 0\",\n    LEGACY_size: \"small\",\n    label: \"error\",\n    size: \"small\"\n  }));\n};\n// Helper to pluralise \"character(s)\"\nvar pluralize = function pluralize(count) {\n  return \"character\".concat(count !== 1 ? 's' : '');\n};\n\n/**\n * __Character Counter__\n *\n * A character counter component that displays remaining characters for text input.\n * Displays messages for over or under the maximum or minimum character limits.\n */\nexport var CharacterCounter = function CharacterCounter(_ref) {\n  var maxCharacters = _ref.maxCharacters,\n    minCharacters = _ref.minCharacters,\n    currentValue = _ref.currentValue,\n    overMaximumMessage = _ref.overMaximumMessage,\n    underMaximumMessage = _ref.underMaximumMessage,\n    underMinimumMessage = _ref.underMinimumMessage,\n    _ref$shouldShowAsErro = _ref.shouldShowAsError,\n    shouldShowAsError = _ref$shouldShowAsErro === void 0 ? true : _ref$shouldShowAsErro,\n    inputId = _ref.inputId,\n    testId = _ref.testId;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    announcementText = _useState2[0],\n    setAnnouncementText = _useState2[1];\n  var debounceTimeoutRef = useRef(null);\n\n  // Resolve the field ID from context (form use) or inputId prop (standalone use)\n  var contextFieldId = useContext(FieldId);\n  var resolvedFieldId = contextFieldId || inputId;\n  var currentLength = (currentValue === null || currentValue === void 0 ? void 0 : currentValue.length) || 0;\n\n  // Check if character count violates limits\n  var isTooShort = minCharacters !== undefined && currentLength < minCharacters;\n  var isTooLong = maxCharacters !== undefined && currentLength > maxCharacters;\n\n  // Determine what to display based on the current value, the maximum and minimum character limits, and any custom messages\n  var getMessage = function getMessage() {\n    // Below minimum so show custom message or default\n    if (isTooShort) {\n      var needed = minCharacters - currentLength;\n      return underMinimumMessage || \"\".concat(needed, \" more \").concat(pluralize(needed), \" needed\");\n    }\n\n    // Over maximum so show custom message or default\n    if (isTooLong) {\n      var over = currentLength - maxCharacters;\n      return overMaximumMessage || \"\".concat(over, \" \").concat(pluralize(over), \" too many\");\n    }\n\n    // Within limits - show remaining count (if max is defined)\n    if (maxCharacters) {\n      var remaining = maxCharacters - currentLength;\n      return underMaximumMessage || \"\".concat(remaining, \" \").concat(pluralize(remaining), \" remaining\");\n    }\n\n    // No message to show (min only limit satisfied)\n    return null;\n  };\n  var displayText = getMessage();\n\n  // Determine if the current character count violates limits\n  var displayAsError = (isTooShort || isTooLong) && shouldShowAsError;\n\n  // Debounce screen reader announcements so that it only reads the message when it input has settled\n  useEffect(function () {\n    // Debounce by 1 second to avoid announcing every keystroke\n    debounceTimeoutRef.current = setTimeout(function () {\n      setAnnouncementText(displayText || '');\n    }, 1000);\n\n    // Cleanup function clears the timeout when displayText changes or component unmounts\n    return function () {\n      clearTimeout(debounceTimeoutRef.current);\n    };\n  }, [displayText]);\n\n  // Don't render if there's no message to display (min only limit satisfied)\n  if (!displayText) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-testid\": testId\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: ax([\"_zulp12x7 _11c8dcr7 _1e0c1txw _1bah1q9y _syaze6sf _1pfh1b66\"])\n  }, displayAsError && /*#__PURE__*/React.createElement(ErrorIconWithWrapper, null), /*#__PURE__*/React.createElement(Text, {\n    color: displayAsError ? 'color.text.danger' : 'color.text.subtlest',\n    size: \"small\",\n    id: resolvedFieldId ? \"\".concat(resolvedFieldId, \"-character-counter\") : undefined\n  }, displayText)), /*#__PURE__*/React.createElement(VisuallyHidden, null, /*#__PURE__*/React.createElement(\"div\", {\n    \"aria-live\": \"polite\"\n  }, announcementText)));\n};","map":{"version":3,"names":["_slicedToArray","React","ax","ix","useContext","useEffect","useRef","useState","ErrorIcon","Text","VisuallyHidden","FieldId","messageContainerStyles","errorIconWrapperStyles","ErrorIconWithWrapper","createElement","className","LEGACY_margin","LEGACY_size","label","size","pluralize","count","concat","CharacterCounter","_ref","maxCharacters","minCharacters","currentValue","overMaximumMessage","underMaximumMessage","underMinimumMessage","_ref$shouldShowAsErro","shouldShowAsError","inputId","testId","_useState","_useState2","announcementText","setAnnouncementText","debounceTimeoutRef","contextFieldId","resolvedFieldId","currentLength","length","isTooShort","undefined","isTooLong","getMessage","needed","over","remaining","displayText","displayAsError","current","setTimeout","clearTimeout","color","id"],"sources":["/home/joshpoms/dndtest2/client/node_modules/@atlaskit/form/dist/esm/character-counter.js"],"sourcesContent":["/* character-counter.tsx generated by @compiled/babel-plugin v0.38.1 */\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport \"./character-counter.compiled.css\";\nimport * as React from 'react';\nimport { ax, ix } from \"@compiled/react/runtime\";\nimport { useContext, useEffect, useRef, useState } from 'react';\nimport ErrorIcon from '@atlaskit/icon/core/migration/status-error--error';\nimport { Text } from '@atlaskit/primitives/compiled';\nimport VisuallyHidden from '@atlaskit/visually-hidden';\nimport { FieldId } from './field-id-context';\n\n// Extracted styles for character counter message container\nvar messageContainerStyles = null;\n\n// Extracted styles for error icon wrapper\nvar errorIconWrapperStyles = null;\n\n// Error icon with wrapper for character count violations\nvar ErrorIconWithWrapper = function ErrorIconWithWrapper() {\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: ax([\"_1e0c1txw _4t3i7vkz _4cvr1h6o\"])\n  }, /*#__PURE__*/React.createElement(ErrorIcon, {\n    LEGACY_margin: \"0 -2px 0 0\",\n    LEGACY_size: \"small\",\n    label: \"error\",\n    size: \"small\"\n  }));\n};\n// Helper to pluralise \"character(s)\"\nvar pluralize = function pluralize(count) {\n  return \"character\".concat(count !== 1 ? 's' : '');\n};\n\n/**\n * __Character Counter__\n *\n * A character counter component that displays remaining characters for text input.\n * Displays messages for over or under the maximum or minimum character limits.\n */\nexport var CharacterCounter = function CharacterCounter(_ref) {\n  var maxCharacters = _ref.maxCharacters,\n    minCharacters = _ref.minCharacters,\n    currentValue = _ref.currentValue,\n    overMaximumMessage = _ref.overMaximumMessage,\n    underMaximumMessage = _ref.underMaximumMessage,\n    underMinimumMessage = _ref.underMinimumMessage,\n    _ref$shouldShowAsErro = _ref.shouldShowAsError,\n    shouldShowAsError = _ref$shouldShowAsErro === void 0 ? true : _ref$shouldShowAsErro,\n    inputId = _ref.inputId,\n    testId = _ref.testId;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    announcementText = _useState2[0],\n    setAnnouncementText = _useState2[1];\n  var debounceTimeoutRef = useRef(null);\n\n  // Resolve the field ID from context (form use) or inputId prop (standalone use)\n  var contextFieldId = useContext(FieldId);\n  var resolvedFieldId = contextFieldId || inputId;\n  var currentLength = (currentValue === null || currentValue === void 0 ? void 0 : currentValue.length) || 0;\n\n  // Check if character count violates limits\n  var isTooShort = minCharacters !== undefined && currentLength < minCharacters;\n  var isTooLong = maxCharacters !== undefined && currentLength > maxCharacters;\n\n  // Determine what to display based on the current value, the maximum and minimum character limits, and any custom messages\n  var getMessage = function getMessage() {\n    // Below minimum so show custom message or default\n    if (isTooShort) {\n      var needed = minCharacters - currentLength;\n      return underMinimumMessage || \"\".concat(needed, \" more \").concat(pluralize(needed), \" needed\");\n    }\n\n    // Over maximum so show custom message or default\n    if (isTooLong) {\n      var over = currentLength - maxCharacters;\n      return overMaximumMessage || \"\".concat(over, \" \").concat(pluralize(over), \" too many\");\n    }\n\n    // Within limits - show remaining count (if max is defined)\n    if (maxCharacters) {\n      var remaining = maxCharacters - currentLength;\n      return underMaximumMessage || \"\".concat(remaining, \" \").concat(pluralize(remaining), \" remaining\");\n    }\n\n    // No message to show (min only limit satisfied)\n    return null;\n  };\n  var displayText = getMessage();\n\n  // Determine if the current character count violates limits\n  var displayAsError = (isTooShort || isTooLong) && shouldShowAsError;\n\n  // Debounce screen reader announcements so that it only reads the message when it input has settled\n  useEffect(function () {\n    // Debounce by 1 second to avoid announcing every keystroke\n    debounceTimeoutRef.current = setTimeout(function () {\n      setAnnouncementText(displayText || '');\n    }, 1000);\n\n    // Cleanup function clears the timeout when displayText changes or component unmounts\n    return function () {\n      clearTimeout(debounceTimeoutRef.current);\n    };\n  }, [displayText]);\n\n  // Don't render if there's no message to display (min only limit satisfied)\n  if (!displayText) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-testid\": testId\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: ax([\"_zulp12x7 _11c8dcr7 _1e0c1txw _1bah1q9y _syaze6sf _1pfh1b66\"])\n  }, displayAsError && /*#__PURE__*/React.createElement(ErrorIconWithWrapper, null), /*#__PURE__*/React.createElement(Text, {\n    color: displayAsError ? 'color.text.danger' : 'color.text.subtlest',\n    size: \"small\",\n    id: resolvedFieldId ? \"\".concat(resolvedFieldId, \"-character-counter\") : undefined\n  }, displayText)), /*#__PURE__*/React.createElement(VisuallyHidden, null, /*#__PURE__*/React.createElement(\"div\", {\n    \"aria-live\": \"polite\"\n  }, announcementText)));\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}