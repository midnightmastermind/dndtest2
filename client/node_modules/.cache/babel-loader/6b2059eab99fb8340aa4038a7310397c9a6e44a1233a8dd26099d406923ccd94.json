{"ast":null,"code":"var _jsxFileName = \"/home/joshpoms/dndtest2/src/Grid.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useMemo } from \"react\";\nimport { DndContext, DragOverlay, PointerSensor, useSensor, useSensors } from \"@dnd-kit/core\";\nimport { SortableContext, verticalListSortingStrategy } from \"@dnd-kit/sortable\";\nimport { GridDndContext } from \"./GridDndContext\";\nimport SortableContainer from \"./SortableContainer\";\nimport Instance from \"./Instance\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Grid() {\n  _s();\n  var _activeInstance$label;\n  const {\n    containers,\n    instances,\n    activeId,\n    activeSize,\n    handleDragStart,\n    handleDragEnd,\n    handleDragCancel\n  } = useContext(GridDndContext);\n  const sensors = useSensors(useSensor(PointerSensor, {\n    activationConstraint: {\n      distance: 5\n    }\n  }));\n  const containerIds = useMemo(() => containers.map(c => c.id), [containers]);\n  const activeInstance = activeId ? instances.find(x => x.id === activeId) : null;\n  return /*#__PURE__*/_jsxDEV(DndContext, {\n    sensors: sensors,\n    onDragStart: handleDragStart,\n    onDragEnd: handleDragEnd,\n    onDragCancel: handleDragCancel,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"containers-col\",\n      children: /*#__PURE__*/_jsxDEV(SortableContext, {\n        items: containerIds,\n        strategy: verticalListSortingStrategy,\n        children: containers.map(c => /*#__PURE__*/_jsxDEV(SortableContainer, {\n          container: c\n        }, c.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DragOverlay, {\n      adjustScale: false,\n      children: activeId ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: activeSize === null || activeSize === void 0 ? void 0 : activeSize.width,\n          height: activeSize === null || activeSize === void 0 ? void 0 : activeSize.height\n        },\n        children: /*#__PURE__*/_jsxDEV(Instance, {\n          id: `overlay-${activeId}`,\n          label: (_activeInstance$label = activeInstance === null || activeInstance === void 0 ? void 0 : activeInstance.label) !== null && _activeInstance$label !== void 0 ? _activeInstance$label : \"Dragging\",\n          overlay: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(Grid, \"CbUhxuk6qYDCywlmRrmaEEsFhw8=\", false, function () {\n  return [useSensors, useSensor];\n});\n_c = Grid;\nvar _c;\n$RefreshReg$(_c, \"Grid\");","map":{"version":3,"names":["React","useContext","useMemo","DndContext","DragOverlay","PointerSensor","useSensor","useSensors","SortableContext","verticalListSortingStrategy","GridDndContext","SortableContainer","Instance","jsxDEV","_jsxDEV","Grid","_s","_activeInstance$label","containers","instances","activeId","activeSize","handleDragStart","handleDragEnd","handleDragCancel","sensors","activationConstraint","distance","containerIds","map","c","id","activeInstance","find","x","onDragStart","onDragEnd","onDragCancel","children","className","items","strategy","container","fileName","_jsxFileName","lineNumber","columnNumber","adjustScale","style","width","height","label","overlay","_c","$RefreshReg$"],"sources":["/home/joshpoms/dndtest2/src/Grid.jsx"],"sourcesContent":["import React, { useContext, useMemo } from \"react\";\nimport {\n  DndContext,\n  DragOverlay,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from \"@dnd-kit/core\";\nimport { SortableContext, verticalListSortingStrategy } from \"@dnd-kit/sortable\";\n\nimport { GridDndContext } from \"./GridDndContext\";\nimport SortableContainer from \"./SortableContainer\";\nimport Instance from \"./Instance\";\n\nexport default function Grid() {\n  const {\n    containers,\n    instances,\n    activeId,\n    activeSize,\n    handleDragStart,\n    handleDragEnd,\n    handleDragCancel,\n  } = useContext(GridDndContext);\n\n  const sensors = useSensors(\n    useSensor(PointerSensor, { activationConstraint: { distance: 5 } })\n  );\n\n  const containerIds = useMemo(() => containers.map((c) => c.id), [containers]);\n\n  const activeInstance = activeId\n    ? instances.find((x) => x.id === activeId)\n    : null;\n\n  return (\n    <DndContext\n      sensors={sensors}\n      onDragStart={handleDragStart}\n      onDragEnd={handleDragEnd}\n      onDragCancel={handleDragCancel}\n    >\n      <div className=\"containers-col\">\n        <SortableContext items={containerIds} strategy={verticalListSortingStrategy}>\n          {containers.map((c) => (\n            <SortableContainer key={c.id} container={c} />\n          ))}\n        </SortableContext>\n      </div>\n\n      <DragOverlay adjustScale={false}>\n        {activeId ? (\n          <div style={{ width: activeSize?.width, height: activeSize?.height }}>\n            {/* Minimal overlay: just show instance label if itâ€™s an instance drag */}\n            <Instance id={`overlay-${activeId}`} label={activeInstance?.label ?? \"Dragging\"} overlay />\n          </div>\n        ) : null}\n      </DragOverlay>\n    </DndContext>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}