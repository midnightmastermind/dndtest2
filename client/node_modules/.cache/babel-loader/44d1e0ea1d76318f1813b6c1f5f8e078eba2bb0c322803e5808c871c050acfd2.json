{"ast":null,"code":"import { isCacheDisabled } from './cache';\nimport { getShorthandDepth } from './shorthand';\n/**\n * Ordered style buckets using their short pseudo name.\n *\n * This is very bare-bones, with no support for nesting, like styles in\n * `@media` queries, pseudo-selectors mixed with shorthand properties, etc.\n *\n * If changes are needed to the pseudo-selectors, make sure that it aligns with the\n * definition in `packages/css/src/utils/style-ordering.ts`.\n */\nexport const styleBucketOrdering = [\n// shorthand properties\n's-0', 's-1', 's-2', 's-3', 's-4', 's-5',\n// catch-all\n'',\n// link\n'l',\n// visited\n'v',\n// focus-within\n'w',\n// focus\n'f',\n// focus-visible\n'i',\n// hover\n'h',\n// active\n'a',\n// at-rules\n'm'];\n/**\n * Holds all style buckets in memory that have been added to the head.\n */\nconst styleBucketsInHead = {};\n/**\n * Maps the long pseudo name to the short pseudo name.\n * Pseudos that match here will be ordered,\n * everything else will make their way to the catch all style bucket.\n * We reduce the pseudo name to save bundlesize.\n * Thankfully there aren't any overlaps, see: https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes.\n */\nconst pseudosMap = {\n  // link\n  k: 'l',\n  // visited\n  ited: 'v',\n  // focus-within\n  'us-within': 'w',\n  // focus\n  us: 'f',\n  // focus-visible\n  'us-visible': 'i',\n  // hover\n  er: 'h',\n  // active\n  ive: 'a'\n};\n/**\n * Lazily adds a `<style>` bucket to the `<head>`.\n * This will ensure that the style buckets are ordered.\n *\n * @param bucket Bucket to insert in the head.\n */\nfunction lazyAddStyleBucketToHead(bucketName, opts) {\n  if (!styleBucketsInHead[bucketName]) {\n    let currentBucketIndex = styleBucketOrdering.indexOf(bucketName) + 1;\n    let nextBucketFromCache = null;\n    // Find the next bucket which we will add our new style bucket before.\n    for (; currentBucketIndex < styleBucketOrdering.length; currentBucketIndex++) {\n      const nextBucket = styleBucketsInHead[styleBucketOrdering[currentBucketIndex]];\n      if (nextBucket) {\n        nextBucketFromCache = nextBucket;\n        break;\n      }\n    }\n    const tag = document.createElement('style');\n    opts.nonce && tag.setAttribute('nonce', opts.nonce);\n    tag.appendChild(document.createTextNode(''));\n    document.head.insertBefore(tag, nextBucketFromCache);\n    if (false) {\n      return tag;\n    }\n    styleBucketsInHead[bucketName] = tag;\n  }\n  return styleBucketsInHead[bucketName];\n}\n/**\n * Gets the bucket depending on the sheet.\n * This function makes assumptions as to the form of the input class name.\n *\n * Input:\n *\n * ```\n * \"._a1234567:hover{ color: red; }\"\n * ```\n *\n * Output:\n *\n * ```\n * \"h\"\n * ```\n *\n * @param sheet styles for which we are getting the bucket\n */\nexport const getStyleBucketName = sheet => {\n  // We are grouping all the at-rules like @media, @supports etc under `m` bucket.\n  if (sheet.charCodeAt(0) === 64 /* \"@\" */) {\n    return 'm';\n  }\n  const firstBracket = sheet.indexOf('{');\n  /**\n   * We assume that classname will always be 9 character long,\n   * using this the 10th characters could be a pseudo declaration.\n   */\n  if (sheet.charCodeAt(10) === 58 /* \":\" */) {\n    // We send through a subset of the string instead of the full pseudo name.\n    // For example `\"focus-visible\"` name would instead of `\"us-visible\"`.\n    // Return a mapped pseudo else the default catch all bucket.\n    const mapped = pseudosMap[sheet.slice(14, firstBracket)];\n    if (mapped) return mapped;\n  }\n  const property = sheet.slice(firstBracket + 1, sheet.indexOf(':', firstBracket)).trim();\n  const shorthandDepth = getShorthandDepth(property);\n  if (typeof shorthandDepth === 'number') {\n    return `s-${shorthandDepth}`;\n  }\n  // Return default catch all bucket\n  return '';\n};\n/**\n * Used to move styles to the head of the application during runtime.\n *\n * @param css string\n * @param opts StyleSheetOpts\n */\nexport default function insertRule(css, opts) {\n  const bucketName = getStyleBucketName(css);\n  const style = lazyAddStyleBucketToHead(bucketName, opts);\n  if (process.env.NODE_ENV === 'production') {\n    const sheet = style.sheet;\n    // Used to avoid unhandled exceptions across browsers with prefixed selectors such as -moz-placeholder.\n    try {\n      sheet.insertRule(css, sheet.cssRules.length);\n    } catch (_a) {}\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}","map":{"version":3,"names":["isCacheDisabled","getShorthandDepth","styleBucketOrdering","styleBucketsInHead","pseudosMap","k","ited","us","er","ive","lazyAddStyleBucketToHead","bucketName","opts","currentBucketIndex","indexOf","nextBucketFromCache","length","nextBucket","tag","document","createElement","nonce","setAttribute","appendChild","createTextNode","head","insertBefore","getStyleBucketName","sheet","charCodeAt","firstBracket","mapped","slice","property","trim","shorthandDepth","insertRule","css","style","process","env","NODE_ENV","cssRules","_a"],"sources":["/data/data/com.termux/files/home/dndkittest2/client/node_modules/@compiled/react/src/runtime/sheet.ts"],"sourcesContent":["import { isCacheDisabled } from './cache';\nimport { getShorthandDepth } from './shorthand';\nimport type { Bucket, StyleSheetOpts } from './types';\n\n/**\n * Ordered style buckets using their short pseudo name.\n *\n * This is very bare-bones, with no support for nesting, like styles in\n * `@media` queries, pseudo-selectors mixed with shorthand properties, etc.\n *\n * If changes are needed to the pseudo-selectors, make sure that it aligns with the\n * definition in `packages/css/src/utils/style-ordering.ts`.\n */\nexport const styleBucketOrdering: Bucket[] = [\n  // shorthand properties\n  's-0',\n  's-1',\n  's-2',\n  's-3',\n  's-4',\n  's-5',\n  // catch-all\n  '',\n  // link\n  'l',\n  // visited\n  'v',\n  // focus-within\n  'w',\n  // focus\n  'f',\n  // focus-visible\n  'i',\n  // hover\n  'h',\n  // active\n  'a',\n  // at-rules\n  'm',\n];\n\n/**\n * Holds all style buckets in memory that have been added to the head.\n */\nconst styleBucketsInHead: Partial<Record<Bucket, HTMLStyleElement>> = {};\n\n/**\n * Maps the long pseudo name to the short pseudo name.\n * Pseudos that match here will be ordered,\n * everything else will make their way to the catch all style bucket.\n * We reduce the pseudo name to save bundlesize.\n * Thankfully there aren't any overlaps, see: https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes.\n */\nconst pseudosMap: Record<string, Bucket | undefined> = {\n  // link\n  k: 'l',\n  // visited\n  ited: 'v',\n  // focus-within\n  'us-within': 'w',\n  // focus\n  us: 'f',\n  // focus-visible\n  'us-visible': 'i',\n  // hover\n  er: 'h',\n  // active\n  ive: 'a',\n};\n\n/**\n * Lazily adds a `<style>` bucket to the `<head>`.\n * This will ensure that the style buckets are ordered.\n *\n * @param bucket Bucket to insert in the head.\n */\nfunction lazyAddStyleBucketToHead(bucketName: Bucket, opts: StyleSheetOpts): HTMLStyleElement {\n  if (!styleBucketsInHead[bucketName]) {\n    let currentBucketIndex = styleBucketOrdering.indexOf(bucketName) + 1;\n    let nextBucketFromCache = null;\n\n    // Find the next bucket which we will add our new style bucket before.\n    for (; currentBucketIndex < styleBucketOrdering.length; currentBucketIndex++) {\n      const nextBucket = styleBucketsInHead[styleBucketOrdering[currentBucketIndex]];\n      if (nextBucket) {\n        nextBucketFromCache = nextBucket;\n        break;\n      }\n    }\n\n    const tag = document.createElement('style');\n    opts.nonce && tag.setAttribute('nonce', opts.nonce);\n    tag.appendChild(document.createTextNode(''));\n    document.head.insertBefore(tag, nextBucketFromCache);\n\n    if (isCacheDisabled()) {\n      return tag;\n    }\n\n    styleBucketsInHead[bucketName] = tag;\n  }\n\n  return styleBucketsInHead[bucketName]!;\n}\n\n/**\n * Gets the bucket depending on the sheet.\n * This function makes assumptions as to the form of the input class name.\n *\n * Input:\n *\n * ```\n * \"._a1234567:hover{ color: red; }\"\n * ```\n *\n * Output:\n *\n * ```\n * \"h\"\n * ```\n *\n * @param sheet styles for which we are getting the bucket\n */\nexport const getStyleBucketName = (sheet: string): Bucket => {\n  // We are grouping all the at-rules like @media, @supports etc under `m` bucket.\n  if (sheet.charCodeAt(0) === 64 /* \"@\" */) {\n    return 'm';\n  }\n\n  const firstBracket = sheet.indexOf('{');\n\n  /**\n   * We assume that classname will always be 9 character long,\n   * using this the 10th characters could be a pseudo declaration.\n   */\n  if (sheet.charCodeAt(10) === 58 /* \":\" */) {\n    // We send through a subset of the string instead of the full pseudo name.\n    // For example `\"focus-visible\"` name would instead of `\"us-visible\"`.\n    // Return a mapped pseudo else the default catch all bucket.\n    const mapped = pseudosMap[sheet.slice(14, firstBracket)];\n    if (mapped) return mapped;\n  }\n\n  const property = sheet.slice(firstBracket + 1, sheet.indexOf(':', firstBracket)).trim();\n\n  const shorthandDepth = getShorthandDepth(property);\n  if (typeof shorthandDepth === 'number') {\n    return `s-${shorthandDepth}` as const;\n  }\n\n  // Return default catch all bucket\n  return '';\n};\n\n/**\n * Used to move styles to the head of the application during runtime.\n *\n * @param css string\n * @param opts StyleSheetOpts\n */\nexport default function insertRule(css: string, opts: StyleSheetOpts): void {\n  const bucketName = getStyleBucketName(css);\n  const style = lazyAddStyleBucketToHead(bucketName, opts);\n\n  if (process.env.NODE_ENV === 'production') {\n    const sheet = style.sheet as CSSStyleSheet;\n\n    // Used to avoid unhandled exceptions across browsers with prefixed selectors such as -moz-placeholder.\n    try {\n      sheet.insertRule(css, sheet.cssRules.length);\n    } catch {}\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}