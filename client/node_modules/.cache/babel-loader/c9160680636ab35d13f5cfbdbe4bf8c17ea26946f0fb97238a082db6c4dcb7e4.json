{"ast":null,"code":"var _jsxFileName = \"/home/joshpoms/dndtest2/src/App.js\",\n  _s = $RefreshSig$();\n// App.js\nimport React, { useMemo, useState } from \"react\";\nimport Grid from \"./Grid\";\nimport Container from \"./Container\";\nimport { GridDndContext } from \"./GridDndContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction uid() {\n  return Date.now().toString(36) + Math.random().toString(36).slice(2, 10);\n}\nexport default function App() {\n  _s();\n  // DnD shared state\n  const [activeId, setActiveId] = useState(null);\n  const [activeSize, setActiveSize] = useState(null);\n\n  // data state (start empty)\n  const [containers, setContainers] = useState([]);\n  const [instances, setInstances] = useState([]);\n\n  // helpers\n  const addContainer = () => {\n    const id = uid();\n    setContainers(prev => [...prev, {\n      id,\n      label: `Container ${prev.length + 1}`\n    }]);\n  };\n  const addInstance = containerId => {\n    const id = uid();\n    setInstances(prev => [...prev, {\n      id,\n      containerId,\n      label: `Item ${prev.length + 1}`\n    }]);\n  };\n  const moveInstance = (instanceId, toContainerId) => {\n    setInstances(prev => prev.map(inst => inst.id === instanceId ? {\n      ...inst,\n      containerId: toContainerId\n    } : inst));\n  };\n\n  // ✅ drag handlers owned by App\n  const handleDragStart = event => {\n    var _event$active$rect, _event$active$rect$cu;\n    setActiveId(event.active.id);\n    const rect = (_event$active$rect = event.active.rect) === null || _event$active$rect === void 0 ? void 0 : (_event$active$rect$cu = _event$active$rect.current) === null || _event$active$rect$cu === void 0 ? void 0 : _event$active$rect$cu.initial;\n    if (rect) setActiveSize({\n      width: rect.width,\n      height: rect.height\n    });\n  };\n  const handleDragEnd = event => {\n    const {\n      active,\n      over\n    } = event;\n    setActiveId(null);\n    setActiveSize(null);\n    if (!over) return;\n    const instanceId = active.id;\n    const toContainerId = over.id;\n    moveInstance(instanceId, toContainerId);\n  };\n  const handleDragCancel = () => {\n    setActiveId(null);\n    setActiveSize(null);\n  };\n  const ctxValue = useMemo(() => ({\n    // drag state\n    activeId,\n    activeSize,\n    setActiveId,\n    setActiveSize,\n    // data state\n    containers,\n    setContainers,\n    instances,\n    setInstances,\n    // helpers\n    addContainer,\n    addInstance,\n    moveInstance,\n    // ✅ handlers\n    handleDragStart,\n    handleDragEnd,\n    handleDragCancel\n  }), [activeId, activeSize, containers, instances]);\n  return /*#__PURE__*/_jsxDEV(GridDndContext.Provider, {\n    value: ctxValue,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-root\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dnd-page\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 12,\n            alignItems: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: 0\n            },\n            children: \"Basic dnd-kit Example\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addContainer,\n            children: \"+ Create Container\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"containers-row\",\n            children: containers.map(c => /*#__PURE__*/_jsxDEV(Container, {\n              container: c\n            }, c.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), containers.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 12,\n            opacity: 0.7,\n            fontSize: 13\n          },\n          children: \"Create a container to get started.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"tb0QriXCFBrHjQMgx/yTct65nX0=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useMemo","useState","Grid","Container","GridDndContext","jsxDEV","_jsxDEV","uid","Date","now","toString","Math","random","slice","App","_s","activeId","setActiveId","activeSize","setActiveSize","containers","setContainers","instances","setInstances","addContainer","id","prev","label","length","addInstance","containerId","moveInstance","instanceId","toContainerId","map","inst","handleDragStart","event","_event$active$rect","_event$active$rect$cu","active","rect","current","initial","width","height","handleDragEnd","over","handleDragCancel","ctxValue","Provider","value","children","className","style","display","gap","alignItems","margin","fileName","_jsxFileName","lineNumber","columnNumber","onClick","c","container","marginTop","opacity","fontSize","_c","$RefreshReg$"],"sources":["/home/joshpoms/dndtest2/src/App.js"],"sourcesContent":["// App.js\nimport React, { useMemo, useState } from \"react\";\nimport Grid from \"./Grid\";\nimport Container from \"./Container\";\nimport { GridDndContext } from \"./GridDndContext\";\n\nfunction uid() {\n  return Date.now().toString(36) + Math.random().toString(36).slice(2, 10);\n}\n\nexport default function App() {\n  // DnD shared state\n  const [activeId, setActiveId] = useState(null);\n  const [activeSize, setActiveSize] = useState(null);\n\n  // data state (start empty)\n  const [containers, setContainers] = useState([]);\n  const [instances, setInstances] = useState([]);\n\n  // helpers\n  const addContainer = () => {\n    const id = uid();\n    setContainers((prev) => [\n      ...prev,\n      { id, label: `Container ${prev.length + 1}` },\n    ]);\n  };\n\n  const addInstance = (containerId) => {\n    const id = uid();\n    setInstances((prev) => [\n      ...prev,\n      { id, containerId, label: `Item ${prev.length + 1}` },\n    ]);\n  };\n\n  const moveInstance = (instanceId, toContainerId) => {\n    setInstances((prev) =>\n      prev.map((inst) =>\n        inst.id === instanceId ? { ...inst, containerId: toContainerId } : inst\n      )\n    );\n  };\n\n  // ✅ drag handlers owned by App\n  const handleDragStart = (event) => {\n    setActiveId(event.active.id);\n\n    const rect = event.active.rect?.current?.initial;\n    if (rect) setActiveSize({ width: rect.width, height: rect.height });\n  };\n\n  const handleDragEnd = (event) => {\n    const { active, over } = event;\n\n    setActiveId(null);\n    setActiveSize(null);\n\n    if (!over) return;\n\n    const instanceId = active.id;\n    const toContainerId = over.id;\n    moveInstance(instanceId, toContainerId);\n  };\n\n  const handleDragCancel = () => {\n    setActiveId(null);\n    setActiveSize(null);\n  };\n\n  const ctxValue = useMemo(\n    () => ({\n      // drag state\n      activeId,\n      activeSize,\n      setActiveId,\n      setActiveSize,\n\n      // data state\n      containers,\n      setContainers,\n      instances,\n      setInstances,\n\n      // helpers\n      addContainer,\n      addInstance,\n      moveInstance,\n\n      // ✅ handlers\n      handleDragStart,\n      handleDragEnd,\n      handleDragCancel,\n    }),\n    [activeId, activeSize, containers, instances]\n  );\n\n  return (\n    <GridDndContext.Provider value={ctxValue}>\n      <div className=\"app-root\">\n        <div className=\"dnd-page\">\n          <div style={{ display: \"flex\", gap: 12, alignItems: \"center\" }}>\n            <h2 style={{ margin: 0 }}>Basic dnd-kit Example</h2>\n            <button onClick={addContainer}>+ Create Container</button>\n          </div>\n\n          <Grid>\n            <div className=\"containers-row\">\n              {containers.map((c) => (\n                <Container key={c.id} container={c} />\n              ))}\n            </div>\n          </Grid>\n\n          {containers.length === 0 && (\n            <div style={{ marginTop: 12, opacity: 0.7, fontSize: 13 }}>\n              Create a container to get started.\n            </div>\n          )}\n        </div>\n      </div>\n    </GridDndContext.Provider>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}