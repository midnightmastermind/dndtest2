{"ast":null,"code":"var _jsxFileName = \"/home/joshpoms/dndtest2/client/src/SortableContainer.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useMemo, useCallback } from \"react\";\nimport { useDroppable, useDndContext, DragOverlay } from \"@dnd-kit/core\";\nimport { SortableContext, useSortable, verticalListSortingStrategy } from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\nimport { GridDataContext } from \"./GridDataContext\";\nimport { GridActionsContext } from \"./GridActionsContext\";\nimport SortableInstance from \"./SortableInstance\";\nimport Instance from \"./Instance\";\nimport MoreVerticalIcon from \"@atlaskit/icon/glyph/more-vertical\";\n\n/* -------------------------------------------\n   ✅ simple overlay clone for container drags\n------------------------------------------- */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ContainerClone({\n  container\n}) {\n  var _container$label;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-shell\",\n    style: {\n      pointerEvents: \"none\",\n      opacity: 0.95\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          touchAction: \"none\"\n        },\n        children: /*#__PURE__*/_jsxDEV(MoreVerticalIcon, {\n          size: \"small\",\n          primaryColor: \"#9AA0A6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 600,\n          padding: \"0px 10px\"\n        },\n        children: (_container$label = container === null || container === void 0 ? void 0 : container.label) !== null && _container$label !== void 0 ? _container$label : \"Container\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-list\",\n      style: {\n        minHeight: 40\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 12,\n          opacity: 0.6,\n          fontStyle: \"italic\",\n          padding: 8\n        },\n        children: \"Dragging\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this);\n}\n_c = ContainerClone;\nfunction SortableContainerInner({\n  container,\n  panelId\n}) {\n  _s();\n  var _active$data$current$, _active$data, _active$data$current, _over$data$current$co, _over$data, _over$data$current, _state$activeId, _state$activeSize, _containersRender$;\n  const {\n    state,\n    containersRender\n  } = useContext(GridDataContext);\n  const {\n    addInstanceToContainer,\n    useRenderCount\n  } = useContext(GridActionsContext);\n  const {\n    over,\n    active\n  } = useDndContext();\n  const activeRole = (_active$data$current$ = active === null || active === void 0 ? void 0 : (_active$data = active.data) === null || _active$data === void 0 ? void 0 : (_active$data$current = _active$data.current) === null || _active$data$current === void 0 ? void 0 : _active$data$current.role) !== null && _active$data$current$ !== void 0 ? _active$data$current$ : null;\n  const isDraggingContainer = activeRole === \"container\";\n  const isDraggingInstance = activeRole === \"instance\";\n  const onAdd = useCallback(() => addInstanceToContainer(container.id), [addInstanceToContainer, container.id]);\n  const {\n    setNodeRef,\n    attributes,\n    listeners,\n    transform,\n    transition,\n    isDragging\n  } = useSortable({\n    id: container.id,\n    data: {\n      role: \"container\",\n      containerId: container.id,\n      panelId,\n      label: container.label\n    }\n  });\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    opacity: isDragging ? 0.6 : 1\n  };\n\n  // ✅ droppable zones should be disabled while dragging a container\n  useDroppable({\n    id: `top:${container.id}`,\n    disabled: isDraggingContainer,\n    data: {\n      role: \"container:top\",\n      containerId: container.id,\n      label: container.label\n    }\n  });\n  const list = useDroppable({\n    id: `list:${container.id}`,\n    disabled: isDraggingContainer,\n    // ✅ key fix\n    data: {\n      role: \"container:list\",\n      containerId: container.id,\n      label: container.label\n    }\n  });\n  useDroppable({\n    id: `bottom:${container.id}`,\n    disabled: isDraggingContainer,\n    data: {\n      role: \"container:bottom\",\n      containerId: container.id,\n      label: container.label\n    }\n  });\n  const instanceMap = useMemo(() => {\n    const map = {};\n    for (const inst of state.instances || []) map[inst.id] = inst;\n    return map;\n  }, [state.instances]);\n  const items = useMemo(() => {\n    return (container.items || []).map(id => instanceMap[id]).filter(Boolean);\n  }, [container.items, instanceMap]);\n  const itemIds = useMemo(() => items.map(x => x.id), [items]);\n\n  // Only compute hover highlight when dragging instances\n  const overContainerId = isDraggingInstance ? (_over$data$current$co = over === null || over === void 0 ? void 0 : (_over$data = over.data) === null || _over$data === void 0 ? void 0 : (_over$data$current = _over$data.current) === null || _over$data$current === void 0 ? void 0 : _over$data$current.containerId) !== null && _over$data$current$co !== void 0 ? _over$data$current$co : typeof (over === null || over === void 0 ? void 0 : over.id) === \"string\" && over.id.startsWith(\"list:\") ? over.id.slice(\"list:\".length) : null : null;\n  const isHoveringThisContainer = isDraggingInstance && (list.isOver || overContainerId && overContainerId === container.id);\n\n  // ✅ use ONLY state\n  const activeId = (_state$activeId = state.activeId) !== null && _state$activeId !== void 0 ? _state$activeId : null;\n  const activeSize = (_state$activeSize = state.activeSize) !== null && _state$activeSize !== void 0 ? _state$activeSize : null;\n  const activeInstance = useMemo(() => {\n    if (!activeId) return null;\n    return (state.instances || []).find(x => x.id === activeId) || null;\n  }, [activeId, state.instances]);\n  const activeContainer = useMemo(() => {\n    if (!activeId) return null;\n    return (state.containers || []).find(c => c.id === activeId) || null;\n  }, [activeId, state.containers]);\n\n  // ✅ ensure only ONE overlay exists\n  const isOverlayHost = !(containersRender !== null && containersRender !== void 0 && containersRender.length) || ((_containersRender$ = containersRender[0]) === null || _containersRender$ === void 0 ? void 0 : _containersRender$.id) === container.id;\n  useRenderCount(`SortableContainer ${container.id}`);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: setNodeRef,\n    style: style,\n    className: \"container-shell\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          touchAction: \"none\"\n        },\n        ...attributes,\n        ...listeners,\n        children: /*#__PURE__*/_jsxDEV(MoreVerticalIcon, {\n          size: \"small\",\n          primaryColor: \"#9AA0A6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 600,\n          padding: \"0px 10px\"\n        },\n        children: container.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          marginLeft: \"auto\"\n        },\n        onClick: onAdd,\n        children: \"+ Instance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: list.setNodeRef,\n      className: \"container-list\" + (isHoveringThisContainer ? \" over\" : \"\"),\n      children: [/*#__PURE__*/_jsxDEV(SortableContext, {\n        id: `container-sortable:${container.id}`,\n        items: itemIds,\n        strategy: verticalListSortingStrategy,\n        children: items.map(inst => /*#__PURE__*/_jsxDEV(SortableInstance, {\n          instance: inst,\n          containerId: container.id\n        }, inst.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), items.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 12,\n          opacity: 0.6,\n          fontStyle: \"italic\"\n        },\n        children: \"Drop items here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this);\n}\n_s(SortableContainerInner, \"TJLNwOq0rG03uDhPI8l3dMwX/k0=\", false, function () {\n  return [useDndContext, useSortable, useDroppable, useDroppable, useDroppable, useRenderCount];\n});\n_c2 = SortableContainerInner;\nexport default _c3 = /*#__PURE__*/React.memo(SortableContainerInner, (prev, next) => {\n  var _prev$container, _next$container, _prev$container2, _next$container2, _prev$container3, _next$container3;\n  if (((_prev$container = prev.container) === null || _prev$container === void 0 ? void 0 : _prev$container.id) !== ((_next$container = next.container) === null || _next$container === void 0 ? void 0 : _next$container.id)) return false;\n  if (((_prev$container2 = prev.container) === null || _prev$container2 === void 0 ? void 0 : _prev$container2.label) !== ((_next$container2 = next.container) === null || _next$container2 === void 0 ? void 0 : _next$container2.label)) return false;\n  const a = ((_prev$container3 = prev.container) === null || _prev$container3 === void 0 ? void 0 : _prev$container3.items) || [];\n  const b = ((_next$container3 = next.container) === null || _next$container3 === void 0 ? void 0 : _next$container3.items) || [];\n  if (a.length !== b.length) return false;\n  for (let i = 0; i < a.length; i++) if (a[i] !== b[i]) return false;\n  return true;\n});\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"ContainerClone\");\n$RefreshReg$(_c2, \"SortableContainerInner\");\n$RefreshReg$(_c3, \"%default%\");","map":{"version":3,"names":["React","useContext","useMemo","useCallback","useDroppable","useDndContext","DragOverlay","SortableContext","useSortable","verticalListSortingStrategy","CSS","GridDataContext","GridActionsContext","SortableInstance","Instance","MoreVerticalIcon","jsxDEV","_jsxDEV","ContainerClone","container","_container$label","className","style","pointerEvents","opacity","children","touchAction","size","primaryColor","fileName","_jsxFileName","lineNumber","columnNumber","fontWeight","padding","label","minHeight","fontSize","fontStyle","_c","SortableContainerInner","panelId","_s","_active$data$current$","_active$data","_active$data$current","_over$data$current$co","_over$data","_over$data$current","_state$activeId","_state$activeSize","_containersRender$","state","containersRender","addInstanceToContainer","useRenderCount","over","active","activeRole","data","current","role","isDraggingContainer","isDraggingInstance","onAdd","id","setNodeRef","attributes","listeners","transform","transition","isDragging","containerId","Transform","toString","disabled","list","instanceMap","map","inst","instances","items","filter","Boolean","itemIds","x","overContainerId","startsWith","slice","length","isHoveringThisContainer","isOver","activeId","activeSize","activeInstance","find","activeContainer","containers","c","isOverlayHost","ref","marginLeft","onClick","strategy","instance","_c2","_c3","memo","prev","next","_prev$container","_next$container","_prev$container2","_next$container2","_prev$container3","_next$container3","a","b","i","$RefreshReg$"],"sources":["/home/joshpoms/dndtest2/client/src/SortableContainer.jsx"],"sourcesContent":["import React, { useContext, useMemo, useCallback } from \"react\";\nimport { useDroppable, useDndContext, DragOverlay } from \"@dnd-kit/core\";\nimport {\n  SortableContext,\n  useSortable,\n  verticalListSortingStrategy,\n} from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\n\nimport { GridDataContext } from \"./GridDataContext\";\nimport { GridActionsContext } from \"./GridActionsContext\";\nimport SortableInstance from \"./SortableInstance\";\nimport Instance from \"./Instance\";\nimport MoreVerticalIcon from \"@atlaskit/icon/glyph/more-vertical\";\n\n/* -------------------------------------------\n   ✅ simple overlay clone for container drags\n------------------------------------------- */\nfunction ContainerClone({ container }) {\n  return (\n    <div className=\"container-shell\" style={{ pointerEvents: \"none\", opacity: 0.95 }}>\n      <div className=\"container-header\">\n        <div style={{ touchAction: \"none\" }}>\n          <MoreVerticalIcon size=\"small\" primaryColor=\"#9AA0A6\" />\n        </div>\n        <div style={{ fontWeight: 600, padding: \"0px 10px\" }}>{container?.label ?? \"Container\"}</div>\n      </div>\n      <div className=\"container-list\" style={{ minHeight: 40 }}>\n        <div style={{ fontSize: 12, opacity: 0.6, fontStyle: \"italic\", padding: 8 }}>\n          Dragging…\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction SortableContainerInner({ container, panelId }) {\n  const { state, containersRender } = useContext(GridDataContext);\n  const { addInstanceToContainer, useRenderCount } = useContext(GridActionsContext);\n  const { over, active } = useDndContext();\n\n  const activeRole = active?.data?.current?.role ?? null;\n  const isDraggingContainer = activeRole === \"container\";\n  const isDraggingInstance = activeRole === \"instance\";\n\n  const onAdd = useCallback(() => addInstanceToContainer(container.id), [\n    addInstanceToContainer,\n    container.id,\n  ]);\n\n  const {\n    setNodeRef,\n    attributes,\n    listeners,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({\n    id: container.id,\n    data: { role: \"container\", containerId: container.id, panelId, label: container.label },\n  });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    opacity: isDragging ? 0.6 : 1,\n  };\n\n  // ✅ droppable zones should be disabled while dragging a container\n  useDroppable({\n    id: `top:${container.id}`,\n    disabled: isDraggingContainer,\n    data: { role: \"container:top\", containerId: container.id, label: container.label },\n  });\n\n  const list = useDroppable({\n    id: `list:${container.id}`,\n    disabled: isDraggingContainer, // ✅ key fix\n    data: { role: \"container:list\", containerId: container.id, label: container.label },\n  });\n\n  useDroppable({\n    id: `bottom:${container.id}`,\n    disabled: isDraggingContainer,\n    data: { role: \"container:bottom\", containerId: container.id, label: container.label },\n  });\n\n  const instanceMap = useMemo(() => {\n    const map = {};\n    for (const inst of state.instances || []) map[inst.id] = inst;\n    return map;\n  }, [state.instances]);\n\n  const items = useMemo(() => {\n    return (container.items || []).map((id) => instanceMap[id]).filter(Boolean);\n  }, [container.items, instanceMap]);\n\n  const itemIds = useMemo(() => items.map((x) => x.id), [items]);\n\n  // Only compute hover highlight when dragging instances\n  const overContainerId =\n    isDraggingInstance\n      ? (over?.data?.current?.containerId ??\n        (typeof over?.id === \"string\" && over.id.startsWith(\"list:\")\n          ? over.id.slice(\"list:\".length)\n          : null))\n      : null;\n\n  const isHoveringThisContainer =\n    isDraggingInstance &&\n    (list.isOver || (overContainerId && overContainerId === container.id));\n\n  // ✅ use ONLY state\n  const activeId = state.activeId ?? null;\n  const activeSize = state.activeSize ?? null;\n\n  const activeInstance = useMemo(() => {\n    if (!activeId) return null;\n    return (state.instances || []).find((x) => x.id === activeId) || null;\n  }, [activeId, state.instances]);\n\n  const activeContainer = useMemo(() => {\n    if (!activeId) return null;\n    return (state.containers || []).find((c) => c.id === activeId) || null;\n  }, [activeId, state.containers]);\n\n  // ✅ ensure only ONE overlay exists\n  const isOverlayHost =\n    !containersRender?.length || containersRender[0]?.id === container.id;\n\n  useRenderCount(`SortableContainer ${container.id}`);\n\n  return (\n    <div ref={setNodeRef} style={style} className=\"container-shell\">\n      <div className=\"container-header\">\n        <div style={{ touchAction: \"none\" }} {...attributes} {...listeners}>\n          <MoreVerticalIcon size=\"small\" primaryColor=\"#9AA0A6\" />\n        </div>\n\n        <div style={{ fontWeight: 600, padding: \"0px 10px\" }}>{container.label}</div>\n        <button style={{ marginLeft: \"auto\" }} onClick={onAdd}>\n          + Instance\n        </button>\n      </div>\n\n      <div\n        ref={list.setNodeRef}\n        className={\"container-list\" + (isHoveringThisContainer ? \" over\" : \"\")}\n      >\n        <SortableContext\n          id={`container-sortable:${container.id}`}\n          items={itemIds}\n          strategy={verticalListSortingStrategy}\n        >\n          {items.map((inst) => (\n            <SortableInstance key={inst.id} instance={inst} containerId={container.id} />\n          ))}\n        </SortableContext>\n\n        {items.length === 0 && (\n          <div style={{ fontSize: 12, opacity: 0.6, fontStyle: \"italic\" }}>\n            Drop items here\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(SortableContainerInner, (prev, next) => {\n  if (prev.container?.id !== next.container?.id) return false;\n  if (prev.container?.label !== next.container?.label) return false;\n\n  const a = prev.container?.items || [];\n  const b = next.container?.items || [];\n  if (a.length !== b.length) return false;\n  for (let i = 0; i < a.length; i++) if (a[i] !== b[i]) return false;\n\n  return true;\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}