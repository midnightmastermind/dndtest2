{"ast":null,"code":"var _jsxFileName = \"/home/joshpoms/dndtest2/src/Grid.jsx\",\n  _s = $RefreshSig$();\n// Grid.jsx\nimport React, { useContext, useMemo } from \"react\";\nimport { DndContext, DragOverlay, PointerSensor, useSensor, useSensors } from \"@dnd-kit/core\";\nimport { SortableContext, verticalListSortingStrategy } from \"@dnd-kit/sortable\";\nimport { GridDndContext } from \"./GridDndContext\";\nimport SortableContainer from \"./SortableContainer\";\nimport Instance from \"./Instance\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Grid() {\n  _s();\n  var _activeInstance$label;\n  const {\n    containersRender,\n    instances,\n    activeId,\n    activeSize,\n    handleDragStart,\n    handleDragOver,\n    // ✅\n    handleDragEnd,\n    handleDragCancel\n  } = useContext(GridDndContext);\n  const sensors = useSensors(useSensor(PointerSensor, {\n    activationConstraint: {\n      distance: 5\n    }\n  }));\n  const containerIds = useMemo(() => containersRender.map(c => c.id), [containersRender]);\n  const activeInstance = activeId ? instances.find(x => x.id === activeId) : null;\n  return /*#__PURE__*/_jsxDEV(DndContext, {\n    sensors: sensors,\n    onDragStart: handleDragStart,\n    onDragEnd: handleDragEnd // ✅ commit\n    ,\n    onDragCancel: handleDragCancel // ✅ revert\n    ,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"containers-col\",\n      children: /*#__PURE__*/_jsxDEV(SortableContext, {\n        items: containerIds,\n        strategy: verticalListSortingStrategy,\n        children: containersRender.map(c => /*#__PURE__*/_jsxDEV(SortableContainer, {\n          container: c\n        }, c.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DragOverlay, {\n      adjustScale: false,\n      children: activeId ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: activeSize === null || activeSize === void 0 ? void 0 : activeSize.width,\n          height: activeSize === null || activeSize === void 0 ? void 0 : activeSize.height\n        },\n        children: /*#__PURE__*/_jsxDEV(Instance, {\n          id: `overlay-${activeId}`,\n          label: (_activeInstance$label = activeInstance === null || activeInstance === void 0 ? void 0 : activeInstance.label) !== null && _activeInstance$label !== void 0 ? _activeInstance$label : \"Dragging\",\n          overlay: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(Grid, \"JcIGWkhrYeWpq7IHVOhfHDXqiZI=\", false, function () {\n  return [useSensors, useSensor];\n});\n_c = Grid;\nvar _c;\n$RefreshReg$(_c, \"Grid\");","map":{"version":3,"names":["React","useContext","useMemo","DndContext","DragOverlay","PointerSensor","useSensor","useSensors","SortableContext","verticalListSortingStrategy","GridDndContext","SortableContainer","Instance","jsxDEV","_jsxDEV","Grid","_s","_activeInstance$label","containersRender","instances","activeId","activeSize","handleDragStart","handleDragOver","handleDragEnd","handleDragCancel","sensors","activationConstraint","distance","containerIds","map","c","id","activeInstance","find","x","onDragStart","onDragEnd","onDragCancel","children","className","items","strategy","container","fileName","_jsxFileName","lineNumber","columnNumber","adjustScale","style","width","height","label","overlay","_c","$RefreshReg$"],"sources":["/home/joshpoms/dndtest2/src/Grid.jsx"],"sourcesContent":["// Grid.jsx\nimport React, { useContext, useMemo } from \"react\";\nimport {\n  DndContext,\n  DragOverlay,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from \"@dnd-kit/core\";\nimport { SortableContext, verticalListSortingStrategy } from \"@dnd-kit/sortable\";\n\nimport { GridDndContext } from \"./GridDndContext\";\nimport SortableContainer from \"./SortableContainer\";\nimport Instance from \"./Instance\";\n\nexport default function Grid() {\n  const {\n    containersRender,\n    instances,\n    activeId,\n    activeSize,\n    handleDragStart,\n    handleDragOver,     // ✅\n    handleDragEnd,\n    handleDragCancel,\n  } = useContext(GridDndContext);\n\n  const sensors = useSensors(\n    useSensor(PointerSensor, { activationConstraint: { distance: 5 } })\n  );\n\n  const containerIds = useMemo(\n    () => containersRender.map((c) => c.id),\n    [containersRender]\n  );\n\n  const activeInstance = activeId ? instances.find((x) => x.id === activeId) : null;\n\n  return (\n    <DndContext\n      sensors={sensors}\n      onDragStart={handleDragStart}\n      onDragEnd={handleDragEnd}       // ✅ commit\n      onDragCancel={handleDragCancel} // ✅ revert\n    >\n      <div className=\"containers-col\">\n        <SortableContext items={containerIds} strategy={verticalListSortingStrategy}>\n          {containersRender.map((c) => (\n            <SortableContainer key={c.id} container={c} />\n          ))}\n        </SortableContext>\n      </div>\n\n      <DragOverlay adjustScale={false}>\n        {activeId ? (\n          <div style={{ width: activeSize?.width, height: activeSize?.height }}>\n            <Instance\n              id={`overlay-${activeId}`}\n              label={activeInstance?.label ?? \"Dragging\"}\n              overlay\n            />\n          </div>\n        ) : null}\n      </DragOverlay>\n    </DndContext>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}