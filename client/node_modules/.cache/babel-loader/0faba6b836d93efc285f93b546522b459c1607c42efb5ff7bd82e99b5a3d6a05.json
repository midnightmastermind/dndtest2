{"ast":null,"code":"import _typeof from \"@babel/runtime/helpers/typeof\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { migrateEvaluationDetails, migrateSecondaryExposures } from '../utils';\n// Reference: https://github.com/statsig-io/js-lite/blob/main/src/Layer.ts\nexport var Layer = /*#__PURE__*/function () {\n  function Layer(name, layerValue, ruleID, evaluationDetails) {\n    var logParameterFunction = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n    var secondaryExposures = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : [];\n    var undelegatedSecondaryExposures = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : [];\n    var allocatedExperimentName = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : '';\n    var explicitParameters = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : [];\n    _classCallCheck(this, Layer);\n    this._logParameterFunction = logParameterFunction;\n    this._name = name;\n    this._value = JSON.parse(JSON.stringify(layerValue !== null && layerValue !== void 0 ? layerValue : {}));\n    this._ruleID = ruleID !== null && ruleID !== void 0 ? ruleID : '';\n    this._evaluationDetails = evaluationDetails;\n    this._secondaryExposures = secondaryExposures;\n    this._undelegatedSecondaryExposures = undelegatedSecondaryExposures;\n    this._allocatedExperimentName = allocatedExperimentName;\n    this._explicitParameters = explicitParameters;\n  }\n  return _createClass(Layer, [{\n    key: \"get\",\n    value: function get(key, defaultValue, typeGuard) {\n      var _this = this;\n      var val = this._value[key];\n      if (val == null) {\n        return defaultValue;\n      }\n      var logAndReturn = function logAndReturn() {\n        _this._logLayerParameterExposure(key);\n        return val;\n      };\n      if (typeGuard) {\n        return typeGuard(val) ? logAndReturn() : defaultValue;\n      }\n      if (defaultValue == null) {\n        return logAndReturn();\n      }\n      if (_typeof(val) === _typeof(defaultValue) && Array.isArray(defaultValue) === Array.isArray(val)) {\n        return logAndReturn();\n      }\n      return defaultValue;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue(key, defaultValue) {\n      // eslint-disable-next-line eqeqeq\n      if (defaultValue == undefined) {\n        defaultValue = null;\n      }\n      var val = this._value[key];\n      if (val != null) {\n        this._logLayerParameterExposure(key);\n      }\n      return val !== null && val !== void 0 ? val : defaultValue;\n    }\n  }, {\n    key: \"_logLayerParameterExposure\",\n    value: function _logLayerParameterExposure(parameterName) {\n      var _this$_logParameterFu;\n      (_this$_logParameterFu = this._logParameterFunction) === null || _this$_logParameterFu === void 0 || _this$_logParameterFu.call(this, this, parameterName);\n    }\n  }], [{\n    key: \"fromLayer\",\n    value: function fromLayer(layer) {\n      var _layer$__evaluation$s, _layer$__evaluation, _layer$__evaluation$u, _layer$__evaluation2, _layer$__evaluation3, _layer$__evaluation4;\n      var value = new Layer(layer.name, layer.__value, layer.ruleID, migrateEvaluationDetails(layer.details), function (_layer, parameterName) {\n        return layer.get(parameterName);\n      }, migrateSecondaryExposures((_layer$__evaluation$s = (_layer$__evaluation = layer.__evaluation) === null || _layer$__evaluation === void 0 ? void 0 : _layer$__evaluation.secondary_exposures) !== null && _layer$__evaluation$s !== void 0 ? _layer$__evaluation$s : []), migrateSecondaryExposures((_layer$__evaluation$u = (_layer$__evaluation2 = layer.__evaluation) === null || _layer$__evaluation2 === void 0 ? void 0 : _layer$__evaluation2.undelegated_secondary_exposures) !== null && _layer$__evaluation$u !== void 0 ? _layer$__evaluation$u : []), (_layer$__evaluation3 = layer.__evaluation) === null || _layer$__evaluation3 === void 0 ? void 0 : _layer$__evaluation3.allocated_experiment_name, (_layer$__evaluation4 = layer.__evaluation) === null || _layer$__evaluation4 === void 0 ? void 0 : _layer$__evaluation4.explicit_parameters);\n      return value;\n    }\n\n    /** @deprecated - do not use, this is still exported for backwards compatibility but will be removed in the next major version  */\n\n    /** @deprecated - do not use, this is still exported for backwards compatibility but will be removed in the next major version  */\n  }]);\n}();","map":{"version":3,"names":["_typeof","_classCallCheck","_createClass","migrateEvaluationDetails","migrateSecondaryExposures","Layer","name","layerValue","ruleID","evaluationDetails","logParameterFunction","arguments","length","undefined","secondaryExposures","undelegatedSecondaryExposures","allocatedExperimentName","explicitParameters","_logParameterFunction","_name","_value","JSON","parse","stringify","_ruleID","_evaluationDetails","_secondaryExposures","_undelegatedSecondaryExposures","_allocatedExperimentName","_explicitParameters","key","value","get","defaultValue","typeGuard","_this","val","logAndReturn","_logLayerParameterExposure","Array","isArray","getValue","parameterName","_this$_logParameterFu","call","fromLayer","layer","_layer$__evaluation$s","_layer$__evaluation","_layer$__evaluation$u","_layer$__evaluation2","_layer$__evaluation3","_layer$__evaluation4","__value","details","_layer","__evaluation","secondary_exposures","undelegated_secondary_exposures","allocated_experiment_name","explicit_parameters"],"sources":["/data/data/com.termux/files/home/dndkittest2/client/node_modules/@atlaskit/feature-gate-js-client/dist/esm/client/compat/Layer.js"],"sourcesContent":["import _typeof from \"@babel/runtime/helpers/typeof\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { migrateEvaluationDetails, migrateSecondaryExposures } from '../utils';\n// Reference: https://github.com/statsig-io/js-lite/blob/main/src/Layer.ts\nexport var Layer = /*#__PURE__*/function () {\n  function Layer(name, layerValue, ruleID, evaluationDetails) {\n    var logParameterFunction = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n    var secondaryExposures = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : [];\n    var undelegatedSecondaryExposures = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : [];\n    var allocatedExperimentName = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : '';\n    var explicitParameters = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : [];\n    _classCallCheck(this, Layer);\n    this._logParameterFunction = logParameterFunction;\n    this._name = name;\n    this._value = JSON.parse(JSON.stringify(layerValue !== null && layerValue !== void 0 ? layerValue : {}));\n    this._ruleID = ruleID !== null && ruleID !== void 0 ? ruleID : '';\n    this._evaluationDetails = evaluationDetails;\n    this._secondaryExposures = secondaryExposures;\n    this._undelegatedSecondaryExposures = undelegatedSecondaryExposures;\n    this._allocatedExperimentName = allocatedExperimentName;\n    this._explicitParameters = explicitParameters;\n  }\n  return _createClass(Layer, [{\n    key: \"get\",\n    value: function get(key, defaultValue, typeGuard) {\n      var _this = this;\n      var val = this._value[key];\n      if (val == null) {\n        return defaultValue;\n      }\n      var logAndReturn = function logAndReturn() {\n        _this._logLayerParameterExposure(key);\n        return val;\n      };\n      if (typeGuard) {\n        return typeGuard(val) ? logAndReturn() : defaultValue;\n      }\n      if (defaultValue == null) {\n        return logAndReturn();\n      }\n      if (_typeof(val) === _typeof(defaultValue) && Array.isArray(defaultValue) === Array.isArray(val)) {\n        return logAndReturn();\n      }\n      return defaultValue;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue(key, defaultValue) {\n      // eslint-disable-next-line eqeqeq\n      if (defaultValue == undefined) {\n        defaultValue = null;\n      }\n      var val = this._value[key];\n      if (val != null) {\n        this._logLayerParameterExposure(key);\n      }\n      return val !== null && val !== void 0 ? val : defaultValue;\n    }\n  }, {\n    key: \"_logLayerParameterExposure\",\n    value: function _logLayerParameterExposure(parameterName) {\n      var _this$_logParameterFu;\n      (_this$_logParameterFu = this._logParameterFunction) === null || _this$_logParameterFu === void 0 || _this$_logParameterFu.call(this, this, parameterName);\n    }\n  }], [{\n    key: \"fromLayer\",\n    value: function fromLayer(layer) {\n      var _layer$__evaluation$s, _layer$__evaluation, _layer$__evaluation$u, _layer$__evaluation2, _layer$__evaluation3, _layer$__evaluation4;\n      var value = new Layer(layer.name, layer.__value, layer.ruleID, migrateEvaluationDetails(layer.details), function (_layer, parameterName) {\n        return layer.get(parameterName);\n      }, migrateSecondaryExposures((_layer$__evaluation$s = (_layer$__evaluation = layer.__evaluation) === null || _layer$__evaluation === void 0 ? void 0 : _layer$__evaluation.secondary_exposures) !== null && _layer$__evaluation$s !== void 0 ? _layer$__evaluation$s : []), migrateSecondaryExposures((_layer$__evaluation$u = (_layer$__evaluation2 = layer.__evaluation) === null || _layer$__evaluation2 === void 0 ? void 0 : _layer$__evaluation2.undelegated_secondary_exposures) !== null && _layer$__evaluation$u !== void 0 ? _layer$__evaluation$u : []), (_layer$__evaluation3 = layer.__evaluation) === null || _layer$__evaluation3 === void 0 ? void 0 : _layer$__evaluation3.allocated_experiment_name, (_layer$__evaluation4 = layer.__evaluation) === null || _layer$__evaluation4 === void 0 ? void 0 : _layer$__evaluation4.explicit_parameters);\n      return value;\n    }\n\n    /** @deprecated - do not use, this is still exported for backwards compatibility but will be removed in the next major version  */\n\n    /** @deprecated - do not use, this is still exported for backwards compatibility but will be removed in the next major version  */\n  }]);\n}();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}