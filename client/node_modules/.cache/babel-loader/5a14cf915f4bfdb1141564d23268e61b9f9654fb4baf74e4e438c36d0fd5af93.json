{"ast":null,"code":"// state/masterReducer.js\nimport { ActionTypes } from \"./actions\";\nexport function masterReducer(state, action) {\n  switch (action.type) {\n    case ActionTypes.ADD_CONTAINER:\n      {\n        const {\n          id,\n          label\n        } = action.payload;\n        return {\n          ...state,\n          containers: [...state.containers, {\n            id,\n            label,\n            items: []\n          }]\n        };\n      }\n    case ActionTypes.ADD_INSTANCE_TO_CONTAINER:\n      {\n        const {\n          containerId,\n          instance\n        } = action.payload;\n        return {\n          ...state,\n          instances: [...state.instances, instance],\n          containers: state.containers.map(c => c.id === containerId ? {\n            ...c,\n            items: [...c.items, instance.id]\n          } : c)\n        };\n      }\n    case ActionTypes.SET_ACTIVE_ID:\n      {\n        return {\n          ...state,\n          activeId: action.payload.activeId\n        };\n      }\n    case ActionTypes.SET_ACTIVE_SIZE:\n      {\n        return {\n          ...state,\n          activeSize: action.payload.activeSize\n        };\n      }\n    case ActionTypes.SET_DEBUG_EVENT:\n      {\n        return {\n          ...state,\n          debugEvent: action.payload.debugEvent\n        };\n      }\n    case ActionTypes.SET_CONTAINERS:\n      {\n        return {\n          ...state,\n          containers: action.payload.containers\n        };\n      }\n    case ActionTypes.SOFT_TICK:\n      {\n        return {\n          ...state,\n          softTick: state.softTick + 1\n        };\n      }\n    case ActionTypes.SET_INSTANCES:\n      {\n        return {\n          ...state,\n          instances: action.payload.instances\n        };\n      }\n    case ActionTypes.PATCH_CONTAINER_ITEMS:\n      {\n        const {\n          containerId,\n          items\n        } = action.payload;\n        return {\n          ...state,\n          containers: state.containers.map(c => c.id === containerId ? {\n            ...c,\n            items\n          } : c)\n        };\n      }\n    case ActionTypes.PATCH_INSTANCE:\n      {\n        const {\n          instance\n        } = action.payload;\n        return {\n          ...state,\n          instances: state.instances.map(i => i.id === instance.id ? instance : i)\n        };\n      }\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["ActionTypes","masterReducer","state","action","type","ADD_CONTAINER","id","label","payload","containers","items","ADD_INSTANCE_TO_CONTAINER","containerId","instance","instances","map","c","SET_ACTIVE_ID","activeId","SET_ACTIVE_SIZE","activeSize","SET_DEBUG_EVENT","debugEvent","SET_CONTAINERS","SOFT_TICK","softTick","SET_INSTANCES","PATCH_CONTAINER_ITEMS","PATCH_INSTANCE","i"],"sources":["/home/joshpoms/dndtest2/client/src/state/masterReducer.js"],"sourcesContent":["// state/masterReducer.js\nimport { ActionTypes } from \"./actions\";\n\nexport function masterReducer(state, action) {\n    switch (action.type) {\n        case ActionTypes.ADD_CONTAINER: {\n            const { id, label } = action.payload;\n            return {\n                ...state,\n                containers: [...state.containers, { id, label, items: [] }],\n            };\n        }\n\n        case ActionTypes.ADD_INSTANCE_TO_CONTAINER: {\n            const { containerId, instance } = action.payload;\n\n            return {\n                ...state,\n                instances: [...state.instances, instance],\n                containers: state.containers.map((c) =>\n                    c.id === containerId ? { ...c, items: [...c.items, instance.id] } : c\n                ),\n            };\n        }\n\n        case ActionTypes.SET_ACTIVE_ID: {\n            return { ...state, activeId: action.payload.activeId };\n        }\n\n        case ActionTypes.SET_ACTIVE_SIZE: {\n            return { ...state, activeSize: action.payload.activeSize };\n        }\n\n        case ActionTypes.SET_DEBUG_EVENT: {\n            return { ...state, debugEvent: action.payload.debugEvent };\n        }\n\n        case ActionTypes.SET_CONTAINERS: {\n            return { ...state, containers: action.payload.containers };\n        }\n\n        case ActionTypes.SOFT_TICK: {\n            return { ...state, softTick: state.softTick + 1 };\n        }\n        case ActionTypes.SET_INSTANCES: {\n            return { ...state, instances: action.payload.instances };\n        }\n\n        case ActionTypes.PATCH_CONTAINER_ITEMS: {\n            const { containerId, items } = action.payload;\n            return {\n                ...state,\n                containers: state.containers.map((c) =>\n                    c.id === containerId ? { ...c, items } : c\n                ),\n            };\n        }\n\n        case ActionTypes.PATCH_INSTANCE: {\n            const { instance } = action.payload;\n            return {\n                ...state,\n                instances: state.instances.map((i) => (i.id === instance.id ? instance : i)),\n            };\n        }\n\n        default:\n            return state;\n    }\n}\n"],"mappings":"AAAA;AACA,SAASA,WAAW,QAAQ,WAAW;AAEvC,OAAO,SAASC,aAAaA,CAACC,KAAK,EAAEC,MAAM,EAAE;EACzC,QAAQA,MAAM,CAACC,IAAI;IACf,KAAKJ,WAAW,CAACK,aAAa;MAAE;QAC5B,MAAM;UAAEC,EAAE;UAAEC;QAAM,CAAC,GAAGJ,MAAM,CAACK,OAAO;QACpC,OAAO;UACH,GAAGN,KAAK;UACRO,UAAU,EAAE,CAAC,GAAGP,KAAK,CAACO,UAAU,EAAE;YAAEH,EAAE;YAAEC,KAAK;YAAEG,KAAK,EAAE;UAAG,CAAC;QAC9D,CAAC;MACL;IAEA,KAAKV,WAAW,CAACW,yBAAyB;MAAE;QACxC,MAAM;UAAEC,WAAW;UAAEC;QAAS,CAAC,GAAGV,MAAM,CAACK,OAAO;QAEhD,OAAO;UACH,GAAGN,KAAK;UACRY,SAAS,EAAE,CAAC,GAAGZ,KAAK,CAACY,SAAS,EAAED,QAAQ,CAAC;UACzCJ,UAAU,EAAEP,KAAK,CAACO,UAAU,CAACM,GAAG,CAAEC,CAAC,IAC/BA,CAAC,CAACV,EAAE,KAAKM,WAAW,GAAG;YAAE,GAAGI,CAAC;YAAEN,KAAK,EAAE,CAAC,GAAGM,CAAC,CAACN,KAAK,EAAEG,QAAQ,CAACP,EAAE;UAAE,CAAC,GAAGU,CACxE;QACJ,CAAC;MACL;IAEA,KAAKhB,WAAW,CAACiB,aAAa;MAAE;QAC5B,OAAO;UAAE,GAAGf,KAAK;UAAEgB,QAAQ,EAAEf,MAAM,CAACK,OAAO,CAACU;QAAS,CAAC;MAC1D;IAEA,KAAKlB,WAAW,CAACmB,eAAe;MAAE;QAC9B,OAAO;UAAE,GAAGjB,KAAK;UAAEkB,UAAU,EAAEjB,MAAM,CAACK,OAAO,CAACY;QAAW,CAAC;MAC9D;IAEA,KAAKpB,WAAW,CAACqB,eAAe;MAAE;QAC9B,OAAO;UAAE,GAAGnB,KAAK;UAAEoB,UAAU,EAAEnB,MAAM,CAACK,OAAO,CAACc;QAAW,CAAC;MAC9D;IAEA,KAAKtB,WAAW,CAACuB,cAAc;MAAE;QAC7B,OAAO;UAAE,GAAGrB,KAAK;UAAEO,UAAU,EAAEN,MAAM,CAACK,OAAO,CAACC;QAAW,CAAC;MAC9D;IAEA,KAAKT,WAAW,CAACwB,SAAS;MAAE;QACxB,OAAO;UAAE,GAAGtB,KAAK;UAAEuB,QAAQ,EAAEvB,KAAK,CAACuB,QAAQ,GAAG;QAAE,CAAC;MACrD;IACA,KAAKzB,WAAW,CAAC0B,aAAa;MAAE;QAC5B,OAAO;UAAE,GAAGxB,KAAK;UAAEY,SAAS,EAAEX,MAAM,CAACK,OAAO,CAACM;QAAU,CAAC;MAC5D;IAEA,KAAKd,WAAW,CAAC2B,qBAAqB;MAAE;QACpC,MAAM;UAAEf,WAAW;UAAEF;QAAM,CAAC,GAAGP,MAAM,CAACK,OAAO;QAC7C,OAAO;UACH,GAAGN,KAAK;UACRO,UAAU,EAAEP,KAAK,CAACO,UAAU,CAACM,GAAG,CAAEC,CAAC,IAC/BA,CAAC,CAACV,EAAE,KAAKM,WAAW,GAAG;YAAE,GAAGI,CAAC;YAAEN;UAAM,CAAC,GAAGM,CAC7C;QACJ,CAAC;MACL;IAEA,KAAKhB,WAAW,CAAC4B,cAAc;MAAE;QAC7B,MAAM;UAAEf;QAAS,CAAC,GAAGV,MAAM,CAACK,OAAO;QACnC,OAAO;UACH,GAAGN,KAAK;UACRY,SAAS,EAAEZ,KAAK,CAACY,SAAS,CAACC,GAAG,CAAEc,CAAC,IAAMA,CAAC,CAACvB,EAAE,KAAKO,QAAQ,CAACP,EAAE,GAAGO,QAAQ,GAAGgB,CAAE;QAC/E,CAAC;MACL;IAEA;MACI,OAAO3B,KAAK;EACpB;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}