{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport React, { useCallback, useMemo } from 'react';\nimport { default as AnalyticsReactContext } from '@atlaskit/analytics-next-stable-react-context';\nimport { useAnalyticsContext } from '../../hooks/useAnalyticsContext';\nimport { useTrackedRef } from '../../hooks/useTrackedRef';\nvar AnalyticsListener = function AnalyticsListener(_ref) {\n  var children = _ref.children,\n    channel = _ref.channel,\n    onEvent = _ref.onEvent;\n  var _useAnalyticsContext = useAnalyticsContext(),\n    _useAnalyticsContext$ = _useAnalyticsContext.getAtlaskitAnalyticsEventHandlers,\n    getAtlaskitAnalyticsEventHandlers = _useAnalyticsContext$ === void 0 ? function () {\n      return [];\n    } : _useAnalyticsContext$,\n    getAtlaskitAnalyticsContext = _useAnalyticsContext.getAtlaskitAnalyticsContext;\n  var onEventRef = useTrackedRef(onEvent);\n  var channelRef = useTrackedRef(channel);\n  var getAnalyticsEventHandlers = useCallback(function () {\n    var thisHandler = function thisHandler(event, eventChannel) {\n      if (channelRef.current === '*' || channelRef.current === eventChannel) {\n        onEventRef.current(event, eventChannel);\n      }\n    };\n    return [thisHandler].concat(_toConsumableArray(getAtlaskitAnalyticsEventHandlers()));\n  }, [channelRef, onEventRef, getAtlaskitAnalyticsEventHandlers]);\n  var value = useMemo(function () {\n    return {\n      getAtlaskitAnalyticsContext: getAtlaskitAnalyticsContext,\n      getAtlaskitAnalyticsEventHandlers: getAnalyticsEventHandlers\n    };\n  }, [getAtlaskitAnalyticsContext, getAnalyticsEventHandlers]);\n  return /*#__PURE__*/React.createElement(AnalyticsReactContext.Provider, {\n    value: value\n  }, children);\n};\nexport default AnalyticsListener;","map":{"version":3,"names":["_toConsumableArray","React","useCallback","useMemo","default","AnalyticsReactContext","useAnalyticsContext","useTrackedRef","AnalyticsListener","_ref","children","channel","onEvent","_useAnalyticsContext","_useAnalyticsContext$","getAtlaskitAnalyticsEventHandlers","getAtlaskitAnalyticsContext","onEventRef","channelRef","getAnalyticsEventHandlers","thisHandler","event","eventChannel","current","concat","value","createElement","Provider"],"sources":["/data/data/com.termux/files/home/dndkittest2/client/node_modules/@atlaskit/analytics-next/dist/esm/components/AnalyticsListener/ModernAnalyticsListener.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport React, { useCallback, useMemo } from 'react';\nimport { default as AnalyticsReactContext } from '@atlaskit/analytics-next-stable-react-context';\nimport { useAnalyticsContext } from '../../hooks/useAnalyticsContext';\nimport { useTrackedRef } from '../../hooks/useTrackedRef';\nvar AnalyticsListener = function AnalyticsListener(_ref) {\n  var children = _ref.children,\n    channel = _ref.channel,\n    onEvent = _ref.onEvent;\n  var _useAnalyticsContext = useAnalyticsContext(),\n    _useAnalyticsContext$ = _useAnalyticsContext.getAtlaskitAnalyticsEventHandlers,\n    getAtlaskitAnalyticsEventHandlers = _useAnalyticsContext$ === void 0 ? function () {\n      return [];\n    } : _useAnalyticsContext$,\n    getAtlaskitAnalyticsContext = _useAnalyticsContext.getAtlaskitAnalyticsContext;\n  var onEventRef = useTrackedRef(onEvent);\n  var channelRef = useTrackedRef(channel);\n  var getAnalyticsEventHandlers = useCallback(function () {\n    var thisHandler = function thisHandler(event, eventChannel) {\n      if (channelRef.current === '*' || channelRef.current === eventChannel) {\n        onEventRef.current(event, eventChannel);\n      }\n    };\n    return [thisHandler].concat(_toConsumableArray(getAtlaskitAnalyticsEventHandlers()));\n  }, [channelRef, onEventRef, getAtlaskitAnalyticsEventHandlers]);\n  var value = useMemo(function () {\n    return {\n      getAtlaskitAnalyticsContext: getAtlaskitAnalyticsContext,\n      getAtlaskitAnalyticsEventHandlers: getAnalyticsEventHandlers\n    };\n  }, [getAtlaskitAnalyticsContext, getAnalyticsEventHandlers]);\n  return /*#__PURE__*/React.createElement(AnalyticsReactContext.Provider, {\n    value: value\n  }, children);\n};\nexport default AnalyticsListener;"],"mappings":"AAAA,OAAOA,kBAAkB,MAAM,0CAA0C;AACzE,OAAOC,KAAK,IAAIC,WAAW,EAAEC,OAAO,QAAQ,OAAO;AACnD,SAASC,OAAO,IAAIC,qBAAqB,QAAQ,+CAA+C;AAChG,SAASC,mBAAmB,QAAQ,iCAAiC;AACrE,SAASC,aAAa,QAAQ,2BAA2B;AACzD,IAAIC,iBAAiB,GAAG,SAASA,iBAAiBA,CAACC,IAAI,EAAE;EACvD,IAAIC,QAAQ,GAAGD,IAAI,CAACC,QAAQ;IAC1BC,OAAO,GAAGF,IAAI,CAACE,OAAO;IACtBC,OAAO,GAAGH,IAAI,CAACG,OAAO;EACxB,IAAIC,oBAAoB,GAAGP,mBAAmB,CAAC,CAAC;IAC9CQ,qBAAqB,GAAGD,oBAAoB,CAACE,iCAAiC;IAC9EA,iCAAiC,GAAGD,qBAAqB,KAAK,KAAK,CAAC,GAAG,YAAY;MACjF,OAAO,EAAE;IACX,CAAC,GAAGA,qBAAqB;IACzBE,2BAA2B,GAAGH,oBAAoB,CAACG,2BAA2B;EAChF,IAAIC,UAAU,GAAGV,aAAa,CAACK,OAAO,CAAC;EACvC,IAAIM,UAAU,GAAGX,aAAa,CAACI,OAAO,CAAC;EACvC,IAAIQ,yBAAyB,GAAGjB,WAAW,CAAC,YAAY;IACtD,IAAIkB,WAAW,GAAG,SAASA,WAAWA,CAACC,KAAK,EAAEC,YAAY,EAAE;MAC1D,IAAIJ,UAAU,CAACK,OAAO,KAAK,GAAG,IAAIL,UAAU,CAACK,OAAO,KAAKD,YAAY,EAAE;QACrEL,UAAU,CAACM,OAAO,CAACF,KAAK,EAAEC,YAAY,CAAC;MACzC;IACF,CAAC;IACD,OAAO,CAACF,WAAW,CAAC,CAACI,MAAM,CAACxB,kBAAkB,CAACe,iCAAiC,CAAC,CAAC,CAAC,CAAC;EACtF,CAAC,EAAE,CAACG,UAAU,EAAED,UAAU,EAAEF,iCAAiC,CAAC,CAAC;EAC/D,IAAIU,KAAK,GAAGtB,OAAO,CAAC,YAAY;IAC9B,OAAO;MACLa,2BAA2B,EAAEA,2BAA2B;MACxDD,iCAAiC,EAAEI;IACrC,CAAC;EACH,CAAC,EAAE,CAACH,2BAA2B,EAAEG,yBAAyB,CAAC,CAAC;EAC5D,OAAO,aAAalB,KAAK,CAACyB,aAAa,CAACrB,qBAAqB,CAACsB,QAAQ,EAAE;IACtEF,KAAK,EAAEA;EACT,CAAC,EAAEf,QAAQ,CAAC;AACd,CAAC;AACD,eAAeF,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}