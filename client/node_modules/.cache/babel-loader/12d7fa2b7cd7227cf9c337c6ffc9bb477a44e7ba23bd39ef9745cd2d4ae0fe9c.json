{"ast":null,"code":"var _jsxFileName = \"/home/joshpoms/dndtest2/client/src/Grid.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useMemo } from \"react\";\nimport { DndContext, DragOverlay, PointerSensor, useSensor, useSensors } from \"@dnd-kit/core\";\nimport { SortableContext, rectSortingStrategy, verticalListSortingStrategy } from \"@dnd-kit/sortable\";\nimport { GridDataContext } from \"./GridDataContext\";\nimport { GridActionsContext } from \"./GridActionsContext\";\nimport SortableContainer from \"./SortableContainer\";\nimport Instance from \"./Instance\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction GridInner({\n  components\n}) {\n  _s();\n  const {\n    containersRender,\n    instances,\n    activeId,\n    activeSize\n  } = useContext(GridDataContext);\n  const {\n    handleDragStart: handleDragStartProp,\n    handleDragOver: handleDragOverProp,\n    handleDragEnd: handleDragEndProp,\n    handleDragCancel: handleDragCancelProp,\n    useRenderCount\n  } = useContext(GridActionsContext);\n  const sensors = useSensors(useSensor(PointerSensor, {\n    activationConstraint: {\n      distance: 5\n    }\n  }));\n  const containerIds = useMemo(() => containersRender.map(c => c.id), [containersRender]);\n  const activeInstance = useMemo(() => {\n    if (!activeId) return null;\n    return instances.find(x => x.id === activeId) || null;\n  }, [activeId, instances]);\n  useRenderCount(\"Grid\");\n  return /*#__PURE__*/_jsxDEV(DndContext, {\n    sensors: sensors,\n    onDragStart: handleDragStart,\n    onDragOver: handleDragOver,\n    onDragEnd: handleDragEnd,\n    onDragCancel: handleDragCancel,\n    children: /*#__PURE__*/_jsxDEV(DragOverlay, {\n      dropAnimation: null,\n      zIndex: 100000,\n      children: [activeId && getPanel(activeId) ? /*#__PURE__*/_jsxDEV(PanelClone, {\n        panel: getPanel(activeId)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this) : null, !getPanel(activeId) && activeData ? renderDragOverlay({\n        active: {\n          id: activeId,\n          data: {\n            current: activeData\n          }\n        }\n      }) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(GridInner, \"DMiFbG7eqza0ty8O/h/WIMiEEaA=\", false, function () {\n  return [useSensors, useSensor, useRenderCount];\n});\n_c = GridInner;\nexport default _c2 = /*#__PURE__*/React.memo(GridInner);\nvar _c, _c2;\n$RefreshReg$(_c, \"GridInner\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useContext","useMemo","DndContext","DragOverlay","PointerSensor","useSensor","useSensors","SortableContext","rectSortingStrategy","verticalListSortingStrategy","GridDataContext","GridActionsContext","SortableContainer","Instance","jsxDEV","_jsxDEV","GridInner","components","_s","containersRender","instances","activeId","activeSize","handleDragStart","handleDragStartProp","handleDragOver","handleDragOverProp","handleDragEnd","handleDragEndProp","handleDragCancel","handleDragCancelProp","useRenderCount","sensors","activationConstraint","distance","containerIds","map","c","id","activeInstance","find","x","onDragStart","onDragOver","onDragEnd","onDragCancel","children","dropAnimation","zIndex","getPanel","PanelClone","panel","fileName","_jsxFileName","lineNumber","columnNumber","activeData","renderDragOverlay","active","data","current","_c","_c2","memo","$RefreshReg$"],"sources":["/home/joshpoms/dndtest2/client/src/Grid.jsx"],"sourcesContent":["import React, { useContext, useMemo } from \"react\";\nimport {\n  DndContext,\n  DragOverlay,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from \"@dnd-kit/core\";\nimport { SortableContext, rectSortingStrategy, verticalListSortingStrategy } from \"@dnd-kit/sortable\";\n\nimport { GridDataContext } from \"./GridDataContext\";\nimport { GridActionsContext } from \"./GridActionsContext\";\nimport SortableContainer from \"./SortableContainer\";\nimport Instance from \"./Instance\";\n\nfunction GridInner({components}) {\n  const { containersRender, instances, activeId, activeSize } =\n    useContext(GridDataContext);\n\n  const {\n    handleDragStart: handleDragStartProp,\n    handleDragOver: handleDragOverProp,\n    handleDragEnd: handleDragEndProp,\n    handleDragCancel: handleDragCancelProp,\n    useRenderCount,\n  } = useContext(GridActionsContext);\n\n  const sensors = useSensors(\n    useSensor(PointerSensor, { activationConstraint: { distance: 5 } })\n  );\n\n  const containerIds = useMemo(\n    () => containersRender.map((c) => c.id),\n    [containersRender]\n  );\n\n  const activeInstance = useMemo(() => {\n    if (!activeId) return null;\n    return instances.find((x) => x.id === activeId) || null;\n  }, [activeId, instances]);\n\n  useRenderCount(\"Grid\");\n\n  return (\n    <DndContext\n      sensors={sensors}\n      onDragStart={handleDragStart}\n      onDragOver={handleDragOver}\n      onDragEnd={handleDragEnd}\n      onDragCancel={handleDragCancel}\n    >\n      <DragOverlay dropAnimation={null} zIndex={100000}>\n        {activeId && getPanel(activeId) ? (\n          <PanelClone panel={getPanel(activeId)} />\n        ) : null}\n\n        {!getPanel(activeId) && activeData\n          ? renderDragOverlay({\n            active: { id: activeId, data: { current: activeData } }\n          })\n          : null}\n      </DragOverlay>\n    </DndContext>\n  );\n}\n\nexport default React.memo(GridInner);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}