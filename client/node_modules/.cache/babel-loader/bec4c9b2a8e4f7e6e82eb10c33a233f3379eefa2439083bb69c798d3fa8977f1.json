{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction _createForOfIteratorHelper(r, e) {\n  var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (!t) {\n    if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) {\n      t && (r = t);\n      var _n = 0,\n        F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          return _n >= r.length ? {\n            done: !0\n          } : {\n            done: !1,\n            value: r[_n++]\n          };\n        },\n        e: function e(r) {\n          throw r;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var o,\n    a = !0,\n    u = !1;\n  return {\n    s: function s() {\n      t = t.call(r);\n    },\n    n: function n() {\n      var r = t.next();\n      return a = r.done, r;\n    },\n    e: function e(r) {\n      u = !0, o = r;\n    },\n    f: function f() {\n      try {\n        a || null == t.return || t.return();\n      } finally {\n        if (u) throw o;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nimport { ATL_CTX_ISOLATION_CONTEXT_DOMAIN, ATL_CTX_ISOLATION_CONTEXT_ID, ATL_CTX_PERIMETER } from '../../common/constants';\n/**\n * Internal helper function used to parse cookie values and extract value of provided cookie name\n * @param {AtlCtxCookieName} cookieName - The name of the cookie to extract\n * @param {string} cookieString - The full cookie string\n * @returns {string | undefined} - The cookie value if present, undefined otherwise\n */\nfunction getRawCookieValue(cookieName, cookieString) {\n  if (!cookieString) {\n    return undefined;\n  }\n  var cookies = cookieString.split(';');\n  var _iterator = _createForOfIteratorHelper(cookies),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var cookie = _step.value;\n      var _cookie$trim$split = cookie.trim().split('='),\n        _cookie$trim$split2 = _slicedToArray(_cookie$trim$split, 2),\n        name = _cookie$trim$split2[0],\n        value = _cookie$trim$split2[1];\n      if (name === cookieName) {\n        return value;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return undefined;\n}\n\n/**\n * Internal helper function used to return the atl-ctx cookies for browser (which contains perimeter and ic_domain information).\n * Cookies are NOT set for regular commercial traffic.\n * @returns {AtlCtxCookieValues | undefined} - The parsed cookie contents or undefined if parsing fails (ex. if the cookies do not exist)\n */\nexport function parseAtlCtxCookies() {\n  var global = globalThis;\n  try {\n    // HOT-118791: the code below doesn't work on the server, and creates log spam in the catch block - \"Cannot read properties of undefined (reading 'cookie')\"\n    if (typeof globalThis.document === 'undefined') {\n      return undefined;\n    }\n    var cookies = global.document.cookie;\n    var perimeter = getRawCookieValue(ATL_CTX_PERIMETER, cookies);\n    if (!perimeter) {\n      // Indicative of non-isolated commercial perimeter\n      return undefined;\n    }\n    var icDomain = getRawCookieValue(ATL_CTX_ISOLATION_CONTEXT_DOMAIN, cookies);\n    var icId = getRawCookieValue(ATL_CTX_ISOLATION_CONTEXT_ID, cookies);\n\n    // The IC Domain and IC Id cookie values are empty strings for non Isolated Cloud\n    var emptyIcDomain = !icDomain || icDomain.length === 0;\n    var emptyIcId = !icId || icId.length === 0;\n    return {\n      perimeter: perimeter,\n      icDomain: emptyIcDomain ? undefined : icDomain,\n      icId: emptyIcId ? undefined : icId\n    };\n  } catch (e) {\n    console.warn('Failed to parse atl-ctx cookies:', e);\n    return undefined;\n  }\n}","map":{"version":3,"names":["_slicedToArray","_createForOfIteratorHelper","r","e","t","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","_n","F","s","n","done","value","f","TypeError","o","a","u","call","next","return","_arrayLikeToArray","toString","slice","constructor","name","from","test","ATL_CTX_ISOLATION_CONTEXT_DOMAIN","ATL_CTX_ISOLATION_CONTEXT_ID","ATL_CTX_PERIMETER","getRawCookieValue","cookieName","cookieString","undefined","cookies","split","_iterator","_step","cookie","_cookie$trim$split","trim","_cookie$trim$split2","err","parseAtlCtxCookies","global","globalThis","document","perimeter","icDomain","icId","emptyIcDomain","emptyIcId","console","warn"],"sources":["/home/joshpoms/dndtest2/client/node_modules/@atlaskit/atlassian-context/dist/esm/services/atl-cookies-lookup/index.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nimport { ATL_CTX_ISOLATION_CONTEXT_DOMAIN, ATL_CTX_ISOLATION_CONTEXT_ID, ATL_CTX_PERIMETER } from '../../common/constants';\n/**\n * Internal helper function used to parse cookie values and extract value of provided cookie name\n * @param {AtlCtxCookieName} cookieName - The name of the cookie to extract\n * @param {string} cookieString - The full cookie string\n * @returns {string | undefined} - The cookie value if present, undefined otherwise\n */\nfunction getRawCookieValue(cookieName, cookieString) {\n  if (!cookieString) {\n    return undefined;\n  }\n  var cookies = cookieString.split(';');\n  var _iterator = _createForOfIteratorHelper(cookies),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var cookie = _step.value;\n      var _cookie$trim$split = cookie.trim().split('='),\n        _cookie$trim$split2 = _slicedToArray(_cookie$trim$split, 2),\n        name = _cookie$trim$split2[0],\n        value = _cookie$trim$split2[1];\n      if (name === cookieName) {\n        return value;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return undefined;\n}\n\n/**\n * Internal helper function used to return the atl-ctx cookies for browser (which contains perimeter and ic_domain information).\n * Cookies are NOT set for regular commercial traffic.\n * @returns {AtlCtxCookieValues | undefined} - The parsed cookie contents or undefined if parsing fails (ex. if the cookies do not exist)\n */\nexport function parseAtlCtxCookies() {\n  var global = globalThis;\n  try {\n    // HOT-118791: the code below doesn't work on the server, and creates log spam in the catch block - \"Cannot read properties of undefined (reading 'cookie')\"\n    if (typeof globalThis.document === 'undefined') {\n      return undefined;\n    }\n    var cookies = global.document.cookie;\n    var perimeter = getRawCookieValue(ATL_CTX_PERIMETER, cookies);\n    if (!perimeter) {\n      // Indicative of non-isolated commercial perimeter\n      return undefined;\n    }\n    var icDomain = getRawCookieValue(ATL_CTX_ISOLATION_CONTEXT_DOMAIN, cookies);\n    var icId = getRawCookieValue(ATL_CTX_ISOLATION_CONTEXT_ID, cookies);\n\n    // The IC Domain and IC Id cookie values are empty strings for non Isolated Cloud\n    var emptyIcDomain = !icDomain || icDomain.length === 0;\n    var emptyIcId = !icId || icId.length === 0;\n    return {\n      perimeter: perimeter,\n      icDomain: emptyIcDomain ? undefined : icDomain,\n      icId: emptyIcId ? undefined : icId\n    };\n  } catch (e) {\n    console.warn('Failed to parse atl-ctx cookies:', e);\n    return undefined;\n  }\n}"],"mappings":"AAAA,OAAOA,cAAc,MAAM,sCAAsC;AACjE,SAASC,0BAA0BA,CAACC,CAAC,EAAEC,CAAC,EAAE;EAAE,IAAIC,CAAC,GAAG,WAAW,IAAI,OAAOC,MAAM,IAAIH,CAAC,CAACG,MAAM,CAACC,QAAQ,CAAC,IAAIJ,CAAC,CAAC,YAAY,CAAC;EAAE,IAAI,CAACE,CAAC,EAAE;IAAE,IAAIG,KAAK,CAACC,OAAO,CAACN,CAAC,CAAC,KAAKE,CAAC,GAAGK,2BAA2B,CAACP,CAAC,CAAC,CAAC,IAAIC,CAAC,IAAID,CAAC,IAAI,QAAQ,IAAI,OAAOA,CAAC,CAACQ,MAAM,EAAE;MAAEN,CAAC,KAAKF,CAAC,GAAGE,CAAC,CAAC;MAAE,IAAIO,EAAE,GAAG,CAAC;QAAEC,CAAC,GAAG,SAASA,CAACA,CAAA,EAAG,CAAC,CAAC;MAAE,OAAO;QAAEC,CAAC,EAAED,CAAC;QAAEE,CAAC,EAAE,SAASA,CAACA,CAAA,EAAG;UAAE,OAAOH,EAAE,IAAIT,CAAC,CAACQ,MAAM,GAAG;YAAEK,IAAI,EAAE,CAAC;UAAE,CAAC,GAAG;YAAEA,IAAI,EAAE,CAAC,CAAC;YAAEC,KAAK,EAAEd,CAAC,CAACS,EAAE,EAAE;UAAE,CAAC;QAAE,CAAC;QAAER,CAAC,EAAE,SAASA,CAACA,CAACD,CAAC,EAAE;UAAE,MAAMA,CAAC;QAAE,CAAC;QAAEe,CAAC,EAAEL;MAAE,CAAC;IAAE;IAAE,MAAM,IAAIM,SAAS,CAAC,uIAAuI,CAAC;EAAE;EAAE,IAAIC,CAAC;IAAEC,CAAC,GAAG,CAAC,CAAC;IAAEC,CAAC,GAAG,CAAC,CAAC;EAAE,OAAO;IAAER,CAAC,EAAE,SAASA,CAACA,CAAA,EAAG;MAAET,CAAC,GAAGA,CAAC,CAACkB,IAAI,CAACpB,CAAC,CAAC;IAAE,CAAC;IAAEY,CAAC,EAAE,SAASA,CAACA,CAAA,EAAG;MAAE,IAAIZ,CAAC,GAAGE,CAAC,CAACmB,IAAI,CAAC,CAAC;MAAE,OAAOH,CAAC,GAAGlB,CAAC,CAACa,IAAI,EAAEb,CAAC;IAAE,CAAC;IAAEC,CAAC,EAAE,SAASA,CAACA,CAACD,CAAC,EAAE;MAAEmB,CAAC,GAAG,CAAC,CAAC,EAAEF,CAAC,GAAGjB,CAAC;IAAE,CAAC;IAAEe,CAAC,EAAE,SAASA,CAACA,CAAA,EAAG;MAAE,IAAI;QAAEG,CAAC,IAAI,IAAI,IAAIhB,CAAC,CAACoB,MAAM,IAAIpB,CAAC,CAACoB,MAAM,CAAC,CAAC;MAAE,CAAC,SAAS;QAAE,IAAIH,CAAC,EAAE,MAAMF,CAAC;MAAE;IAAE;EAAE,CAAC;AAAE;AACr1B,SAASV,2BAA2BA,CAACP,CAAC,EAAEkB,CAAC,EAAE;EAAE,IAAIlB,CAAC,EAAE;IAAE,IAAI,QAAQ,IAAI,OAAOA,CAAC,EAAE,OAAOuB,iBAAiB,CAACvB,CAAC,EAAEkB,CAAC,CAAC;IAAE,IAAIhB,CAAC,GAAG,CAAC,CAAC,CAACsB,QAAQ,CAACJ,IAAI,CAACpB,CAAC,CAAC,CAACyB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAAE,OAAO,QAAQ,KAAKvB,CAAC,IAAIF,CAAC,CAAC0B,WAAW,KAAKxB,CAAC,GAAGF,CAAC,CAAC0B,WAAW,CAACC,IAAI,CAAC,EAAE,KAAK,KAAKzB,CAAC,IAAI,KAAK,KAAKA,CAAC,GAAGG,KAAK,CAACuB,IAAI,CAAC5B,CAAC,CAAC,GAAG,WAAW,KAAKE,CAAC,IAAI,0CAA0C,CAAC2B,IAAI,CAAC3B,CAAC,CAAC,GAAGqB,iBAAiB,CAACvB,CAAC,EAAEkB,CAAC,CAAC,GAAG,KAAK,CAAC;EAAE;AAAE;AACzX,SAASK,iBAAiBA,CAACvB,CAAC,EAAEkB,CAAC,EAAE;EAAE,CAAC,IAAI,IAAIA,CAAC,IAAIA,CAAC,GAAGlB,CAAC,CAACQ,MAAM,MAAMU,CAAC,GAAGlB,CAAC,CAACQ,MAAM,CAAC;EAAE,KAAK,IAAIP,CAAC,GAAG,CAAC,EAAEW,CAAC,GAAGP,KAAK,CAACa,CAAC,CAAC,EAAEjB,CAAC,GAAGiB,CAAC,EAAEjB,CAAC,EAAE,EAAEW,CAAC,CAACX,CAAC,CAAC,GAAGD,CAAC,CAACC,CAAC,CAAC;EAAE,OAAOW,CAAC;AAAE;AACnJ,SAASkB,gCAAgC,EAAEC,4BAA4B,EAAEC,iBAAiB,QAAQ,wBAAwB;AAC1H;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,iBAAiBA,CAACC,UAAU,EAAEC,YAAY,EAAE;EACnD,IAAI,CAACA,YAAY,EAAE;IACjB,OAAOC,SAAS;EAClB;EACA,IAAIC,OAAO,GAAGF,YAAY,CAACG,KAAK,CAAC,GAAG,CAAC;EACrC,IAAIC,SAAS,GAAGxC,0BAA0B,CAACsC,OAAO,CAAC;IACjDG,KAAK;EACP,IAAI;IACF,KAAKD,SAAS,CAAC5B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC6B,KAAK,GAAGD,SAAS,CAAC3B,CAAC,CAAC,CAAC,EAAEC,IAAI,GAAG;MAClD,IAAI4B,MAAM,GAAGD,KAAK,CAAC1B,KAAK;MACxB,IAAI4B,kBAAkB,GAAGD,MAAM,CAACE,IAAI,CAAC,CAAC,CAACL,KAAK,CAAC,GAAG,CAAC;QAC/CM,mBAAmB,GAAG9C,cAAc,CAAC4C,kBAAkB,EAAE,CAAC,CAAC;QAC3Df,IAAI,GAAGiB,mBAAmB,CAAC,CAAC,CAAC;QAC7B9B,KAAK,GAAG8B,mBAAmB,CAAC,CAAC,CAAC;MAChC,IAAIjB,IAAI,KAAKO,UAAU,EAAE;QACvB,OAAOpB,KAAK;MACd;IACF;EACF,CAAC,CAAC,OAAO+B,GAAG,EAAE;IACZN,SAAS,CAACtC,CAAC,CAAC4C,GAAG,CAAC;EAClB,CAAC,SAAS;IACRN,SAAS,CAACxB,CAAC,CAAC,CAAC;EACf;EACA,OAAOqB,SAAS;AAClB;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASU,kBAAkBA,CAAA,EAAG;EACnC,IAAIC,MAAM,GAAGC,UAAU;EACvB,IAAI;IACF;IACA,IAAI,OAAOA,UAAU,CAACC,QAAQ,KAAK,WAAW,EAAE;MAC9C,OAAOb,SAAS;IAClB;IACA,IAAIC,OAAO,GAAGU,MAAM,CAACE,QAAQ,CAACR,MAAM;IACpC,IAAIS,SAAS,GAAGjB,iBAAiB,CAACD,iBAAiB,EAAEK,OAAO,CAAC;IAC7D,IAAI,CAACa,SAAS,EAAE;MACd;MACA,OAAOd,SAAS;IAClB;IACA,IAAIe,QAAQ,GAAGlB,iBAAiB,CAACH,gCAAgC,EAAEO,OAAO,CAAC;IAC3E,IAAIe,IAAI,GAAGnB,iBAAiB,CAACF,4BAA4B,EAAEM,OAAO,CAAC;;IAEnE;IACA,IAAIgB,aAAa,GAAG,CAACF,QAAQ,IAAIA,QAAQ,CAAC3C,MAAM,KAAK,CAAC;IACtD,IAAI8C,SAAS,GAAG,CAACF,IAAI,IAAIA,IAAI,CAAC5C,MAAM,KAAK,CAAC;IAC1C,OAAO;MACL0C,SAAS,EAAEA,SAAS;MACpBC,QAAQ,EAAEE,aAAa,GAAGjB,SAAS,GAAGe,QAAQ;MAC9CC,IAAI,EAAEE,SAAS,GAAGlB,SAAS,GAAGgB;IAChC,CAAC;EACH,CAAC,CAAC,OAAOnD,CAAC,EAAE;IACVsD,OAAO,CAACC,IAAI,CAAC,kCAAkC,EAAEvD,CAAC,CAAC;IACnD,OAAOmC,SAAS;EAClB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}