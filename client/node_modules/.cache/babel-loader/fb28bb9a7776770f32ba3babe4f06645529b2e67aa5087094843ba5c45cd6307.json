{"ast":null,"code":"import FeatureGates from '@atlaskit/feature-gate-js-client';\nimport { debug } from './debug';\nvar pkgName = '@atlaskit/platform-feature-flags';\nexport var PFF_GLOBAL_KEY = '__PLATFORM_FEATURE_FLAGS__';\nvar hasProcessEnv = typeof process !== 'undefined' && typeof process.env !== 'undefined';\n\n// FF global overrides can be configured by test runners or Storybook\nvar ENV_ENABLE_PLATFORM_FF = hasProcessEnv ?\n// Use global \"process\" variable and process.env['FLAG_NAME'] syntax, so it can be replaced by webpack DefinePlugin\nprocess.env['ENABLE_PLATFORM_FF'] === 'true' : false;\n\n// STORYBOOK_ENABLE_PLATFORM_FF is included as storybook only allows env vars prefixed with STORYBOOK\n// https://github.com/storybookjs/storybook/issues/12270\n\nvar ENV_STORYBOOK_ENABLE_PLATFORM_FF = hasProcessEnv ?\n// Use global \"process\" variable and process.env['FLAG_NAME'] syntax, so it can be replaced by webpack DefinePlugin\nprocess.env['STORYBOOK_ENABLE_PLATFORM_FF'] === 'true' : false;\nvar ENABLE_GLOBAL_PLATFORM_FF_OVERRIDE = ENV_ENABLE_PLATFORM_FF || ENV_STORYBOOK_ENABLE_PLATFORM_FF;\nvar DEFAULT_PFF_GLOBAL = {\n  booleanResolver: undefined\n};\nvar globalVar = typeof window !== 'undefined' ? window : globalThis;\nglobalVar[PFF_GLOBAL_KEY] = globalVar[PFF_GLOBAL_KEY] || DEFAULT_PFF_GLOBAL;\nexport function setBooleanResolver(resolver) {\n  globalVar[PFF_GLOBAL_KEY].booleanResolver = resolver;\n}\nexport function resolveBooleanFlag(flagKey) {\n  if (ENABLE_GLOBAL_PLATFORM_FF_OVERRIDE) {\n    debug('[%s]: The feature flags were enabled while running tests. The flag \"%s\" will be always enabled.', pkgName, flagKey);\n    return true;\n  }\n  try {\n    var _globalVar$PFF_GLOBAL, _globalVar$PFF_GLOBAL2, _globalVar$PFF_GLOBAL3;\n    // booleanResolver will be empty for products like Trello, Elevate, Recruit etc.\n    // Currently only Confluence, Jira and Bitbucket has set it.\n    if (((_globalVar$PFF_GLOBAL = globalVar[PFF_GLOBAL_KEY]) === null || _globalVar$PFF_GLOBAL === void 0 ? void 0 : _globalVar$PFF_GLOBAL.booleanResolver) === undefined || ((_globalVar$PFF_GLOBAL2 = globalVar[PFF_GLOBAL_KEY]) === null || _globalVar$PFF_GLOBAL2 === void 0 ? void 0 : _globalVar$PFF_GLOBAL2.booleanResolver) === null) {\n      // eslint-disable-next-line @atlaskit/platform/use-recommended-utils\n      return FeatureGates.checkGate(flagKey);\n    }\n    var result = (_globalVar$PFF_GLOBAL3 = globalVar[PFF_GLOBAL_KEY]) === null || _globalVar$PFF_GLOBAL3 === void 0 ? void 0 : _globalVar$PFF_GLOBAL3.booleanResolver(flagKey);\n    if (typeof result !== 'boolean') {\n      // eslint-disable-next-line no-console\n      console.warn(\"\".concat(flagKey, \" resolved to a non-boolean value, returning false for safety\"));\n      return false;\n    }\n    return result;\n  } catch (e) {\n    return false;\n  }\n}","map":{"version":3,"names":["FeatureGates","debug","pkgName","PFF_GLOBAL_KEY","hasProcessEnv","process","env","ENV_ENABLE_PLATFORM_FF","ENV_STORYBOOK_ENABLE_PLATFORM_FF","ENABLE_GLOBAL_PLATFORM_FF_OVERRIDE","DEFAULT_PFF_GLOBAL","booleanResolver","undefined","globalVar","window","globalThis","setBooleanResolver","resolver","resolveBooleanFlag","flagKey","_globalVar$PFF_GLOBAL","_globalVar$PFF_GLOBAL2","_globalVar$PFF_GLOBAL3","checkGate","result","console","warn","concat","e"],"sources":["/home/joshpoms/dndtest2/client/node_modules/@atlaskit/platform-feature-flags/dist/esm/resolvers.js"],"sourcesContent":["import FeatureGates from '@atlaskit/feature-gate-js-client';\nimport { debug } from './debug';\nvar pkgName = '@atlaskit/platform-feature-flags';\nexport var PFF_GLOBAL_KEY = '__PLATFORM_FEATURE_FLAGS__';\nvar hasProcessEnv = typeof process !== 'undefined' && typeof process.env !== 'undefined';\n\n// FF global overrides can be configured by test runners or Storybook\nvar ENV_ENABLE_PLATFORM_FF = hasProcessEnv ?\n// Use global \"process\" variable and process.env['FLAG_NAME'] syntax, so it can be replaced by webpack DefinePlugin\nprocess.env['ENABLE_PLATFORM_FF'] === 'true' : false;\n\n// STORYBOOK_ENABLE_PLATFORM_FF is included as storybook only allows env vars prefixed with STORYBOOK\n// https://github.com/storybookjs/storybook/issues/12270\n\nvar ENV_STORYBOOK_ENABLE_PLATFORM_FF = hasProcessEnv ?\n// Use global \"process\" variable and process.env['FLAG_NAME'] syntax, so it can be replaced by webpack DefinePlugin\nprocess.env['STORYBOOK_ENABLE_PLATFORM_FF'] === 'true' : false;\nvar ENABLE_GLOBAL_PLATFORM_FF_OVERRIDE = ENV_ENABLE_PLATFORM_FF || ENV_STORYBOOK_ENABLE_PLATFORM_FF;\nvar DEFAULT_PFF_GLOBAL = {\n  booleanResolver: undefined\n};\nvar globalVar = typeof window !== 'undefined' ? window : globalThis;\nglobalVar[PFF_GLOBAL_KEY] = globalVar[PFF_GLOBAL_KEY] || DEFAULT_PFF_GLOBAL;\nexport function setBooleanResolver(resolver) {\n  globalVar[PFF_GLOBAL_KEY].booleanResolver = resolver;\n}\nexport function resolveBooleanFlag(flagKey) {\n  if (ENABLE_GLOBAL_PLATFORM_FF_OVERRIDE) {\n    debug('[%s]: The feature flags were enabled while running tests. The flag \"%s\" will be always enabled.', pkgName, flagKey);\n    return true;\n  }\n  try {\n    var _globalVar$PFF_GLOBAL, _globalVar$PFF_GLOBAL2, _globalVar$PFF_GLOBAL3;\n    // booleanResolver will be empty for products like Trello, Elevate, Recruit etc.\n    // Currently only Confluence, Jira and Bitbucket has set it.\n    if (((_globalVar$PFF_GLOBAL = globalVar[PFF_GLOBAL_KEY]) === null || _globalVar$PFF_GLOBAL === void 0 ? void 0 : _globalVar$PFF_GLOBAL.booleanResolver) === undefined || ((_globalVar$PFF_GLOBAL2 = globalVar[PFF_GLOBAL_KEY]) === null || _globalVar$PFF_GLOBAL2 === void 0 ? void 0 : _globalVar$PFF_GLOBAL2.booleanResolver) === null) {\n      // eslint-disable-next-line @atlaskit/platform/use-recommended-utils\n      return FeatureGates.checkGate(flagKey);\n    }\n    var result = (_globalVar$PFF_GLOBAL3 = globalVar[PFF_GLOBAL_KEY]) === null || _globalVar$PFF_GLOBAL3 === void 0 ? void 0 : _globalVar$PFF_GLOBAL3.booleanResolver(flagKey);\n    if (typeof result !== 'boolean') {\n      // eslint-disable-next-line no-console\n      console.warn(\"\".concat(flagKey, \" resolved to a non-boolean value, returning false for safety\"));\n      return false;\n    }\n    return result;\n  } catch (e) {\n    return false;\n  }\n}"],"mappings":"AAAA,OAAOA,YAAY,MAAM,kCAAkC;AAC3D,SAASC,KAAK,QAAQ,SAAS;AAC/B,IAAIC,OAAO,GAAG,kCAAkC;AAChD,OAAO,IAAIC,cAAc,GAAG,4BAA4B;AACxD,IAAIC,aAAa,GAAG,OAAOC,OAAO,KAAK,WAAW,IAAI,OAAOA,OAAO,CAACC,GAAG,KAAK,WAAW;;AAExF;AACA,IAAIC,sBAAsB,GAAGH,aAAa;AAC1C;AACAC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC,KAAK,MAAM,GAAG,KAAK;;AAEpD;AACA;;AAEA,IAAIE,gCAAgC,GAAGJ,aAAa;AACpD;AACAC,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC,KAAK,MAAM,GAAG,KAAK;AAC9D,IAAIG,kCAAkC,GAAGF,sBAAsB,IAAIC,gCAAgC;AACnG,IAAIE,kBAAkB,GAAG;EACvBC,eAAe,EAAEC;AACnB,CAAC;AACD,IAAIC,SAAS,GAAG,OAAOC,MAAM,KAAK,WAAW,GAAGA,MAAM,GAAGC,UAAU;AACnEF,SAAS,CAACV,cAAc,CAAC,GAAGU,SAAS,CAACV,cAAc,CAAC,IAAIO,kBAAkB;AAC3E,OAAO,SAASM,kBAAkBA,CAACC,QAAQ,EAAE;EAC3CJ,SAAS,CAACV,cAAc,CAAC,CAACQ,eAAe,GAAGM,QAAQ;AACtD;AACA,OAAO,SAASC,kBAAkBA,CAACC,OAAO,EAAE;EAC1C,IAAIV,kCAAkC,EAAE;IACtCR,KAAK,CAAC,iGAAiG,EAAEC,OAAO,EAAEiB,OAAO,CAAC;IAC1H,OAAO,IAAI;EACb;EACA,IAAI;IACF,IAAIC,qBAAqB,EAAEC,sBAAsB,EAAEC,sBAAsB;IACzE;IACA;IACA,IAAI,CAAC,CAACF,qBAAqB,GAAGP,SAAS,CAACV,cAAc,CAAC,MAAM,IAAI,IAAIiB,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,qBAAqB,CAACT,eAAe,MAAMC,SAAS,IAAI,CAAC,CAACS,sBAAsB,GAAGR,SAAS,CAACV,cAAc,CAAC,MAAM,IAAI,IAAIkB,sBAAsB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,sBAAsB,CAACV,eAAe,MAAM,IAAI,EAAE;MACxU;MACA,OAAOX,YAAY,CAACuB,SAAS,CAACJ,OAAO,CAAC;IACxC;IACA,IAAIK,MAAM,GAAG,CAACF,sBAAsB,GAAGT,SAAS,CAACV,cAAc,CAAC,MAAM,IAAI,IAAImB,sBAAsB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,sBAAsB,CAACX,eAAe,CAACQ,OAAO,CAAC;IAC1K,IAAI,OAAOK,MAAM,KAAK,SAAS,EAAE;MAC/B;MACAC,OAAO,CAACC,IAAI,CAAC,EAAE,CAACC,MAAM,CAACR,OAAO,EAAE,8DAA8D,CAAC,CAAC;MAChG,OAAO,KAAK;IACd;IACA,OAAOK,MAAM;EACf,CAAC,CAAC,OAAOI,CAAC,EAAE;IACV,OAAO,KAAK;EACd;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}