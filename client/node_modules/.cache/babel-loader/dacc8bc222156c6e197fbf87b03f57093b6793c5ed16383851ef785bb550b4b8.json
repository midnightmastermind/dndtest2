{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { COLOR_MODE_ATTRIBUTE, THEME_DATA_ATTRIBUTE } from './constants';\nimport getGlobalTheme from './get-global-theme';\n/**\n * A MutationObserver which watches the `<html>` element for changes to the theme.\n *\n * In React, use the {@link useThemeObserver `useThemeObserver`} hook instead.\n *\n * @param {function} callback - A callback function which fires when the theme changes.\n *\n * @example\n * ```\n * const observer = new ThemeMutationObserver((theme) => {});\n * observer.observe();\n * ```\n */\nvar ThemeMutationObserver = /*#__PURE__*/function () {\n  function ThemeMutationObserver(callback) {\n    _classCallCheck(this, ThemeMutationObserver);\n    _defineProperty(this, \"legacyObserver\", null);\n    this.callback = callback;\n    ThemeMutationObserver.callbacks.add(callback);\n  }\n  return _createClass(ThemeMutationObserver, [{\n    key: \"observe\",\n    value: function observe() {\n      if (!ThemeMutationObserver.observer) {\n        ThemeMutationObserver.observer = new MutationObserver(function () {\n          var theme = getGlobalTheme();\n          ThemeMutationObserver.callbacks.forEach(function (callback) {\n            return callback(theme);\n          });\n        });\n        // Observer only needs to be configured once\n        ThemeMutationObserver.observer.observe(document.documentElement, {\n          attributeFilter: [THEME_DATA_ATTRIBUTE, COLOR_MODE_ATTRIBUTE]\n        });\n      }\n    }\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {\n      if (this.callback) {\n        ThemeMutationObserver.callbacks.delete(this.callback);\n      }\n      if (ThemeMutationObserver.callbacks.size === 0 && ThemeMutationObserver.observer) {\n        ThemeMutationObserver.observer.disconnect();\n        ThemeMutationObserver.observer = null;\n      }\n    }\n  }]);\n}();\n_defineProperty(ThemeMutationObserver, \"observer\", null);\n_defineProperty(ThemeMutationObserver, \"callbacks\", new Set());\nexport { ThemeMutationObserver as default };","map":{"version":3,"names":["_classCallCheck","_createClass","_defineProperty","COLOR_MODE_ATTRIBUTE","THEME_DATA_ATTRIBUTE","getGlobalTheme","ThemeMutationObserver","callback","callbacks","add","key","value","observe","observer","MutationObserver","theme","forEach","document","documentElement","attributeFilter","disconnect","delete","size","Set","default"],"sources":["/data/data/com.termux/files/home/dndkittest2/client/node_modules/@atlaskit/tokens/dist/esm/theme-mutation-observer.js"],"sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { COLOR_MODE_ATTRIBUTE, THEME_DATA_ATTRIBUTE } from './constants';\nimport getGlobalTheme from './get-global-theme';\n/**\n * A MutationObserver which watches the `<html>` element for changes to the theme.\n *\n * In React, use the {@link useThemeObserver `useThemeObserver`} hook instead.\n *\n * @param {function} callback - A callback function which fires when the theme changes.\n *\n * @example\n * ```\n * const observer = new ThemeMutationObserver((theme) => {});\n * observer.observe();\n * ```\n */\nvar ThemeMutationObserver = /*#__PURE__*/function () {\n  function ThemeMutationObserver(callback) {\n    _classCallCheck(this, ThemeMutationObserver);\n    _defineProperty(this, \"legacyObserver\", null);\n    this.callback = callback;\n    ThemeMutationObserver.callbacks.add(callback);\n  }\n  return _createClass(ThemeMutationObserver, [{\n    key: \"observe\",\n    value: function observe() {\n      if (!ThemeMutationObserver.observer) {\n        ThemeMutationObserver.observer = new MutationObserver(function () {\n          var theme = getGlobalTheme();\n          ThemeMutationObserver.callbacks.forEach(function (callback) {\n            return callback(theme);\n          });\n        });\n        // Observer only needs to be configured once\n        ThemeMutationObserver.observer.observe(document.documentElement, {\n          attributeFilter: [THEME_DATA_ATTRIBUTE, COLOR_MODE_ATTRIBUTE]\n        });\n      }\n    }\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {\n      if (this.callback) {\n        ThemeMutationObserver.callbacks.delete(this.callback);\n      }\n      if (ThemeMutationObserver.callbacks.size === 0 && ThemeMutationObserver.observer) {\n        ThemeMutationObserver.observer.disconnect();\n        ThemeMutationObserver.observer = null;\n      }\n    }\n  }]);\n}();\n_defineProperty(ThemeMutationObserver, \"observer\", null);\n_defineProperty(ThemeMutationObserver, \"callbacks\", new Set());\nexport { ThemeMutationObserver as default };"],"mappings":"AAAA,OAAOA,eAAe,MAAM,uCAAuC;AACnE,OAAOC,YAAY,MAAM,oCAAoC;AAC7D,OAAOC,eAAe,MAAM,uCAAuC;AACnE,SAASC,oBAAoB,EAAEC,oBAAoB,QAAQ,aAAa;AACxE,OAAOC,cAAc,MAAM,oBAAoB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIC,qBAAqB,GAAG,aAAa,YAAY;EACnD,SAASA,qBAAqBA,CAACC,QAAQ,EAAE;IACvCP,eAAe,CAAC,IAAI,EAAEM,qBAAqB,CAAC;IAC5CJ,eAAe,CAAC,IAAI,EAAE,gBAAgB,EAAE,IAAI,CAAC;IAC7C,IAAI,CAACK,QAAQ,GAAGA,QAAQ;IACxBD,qBAAqB,CAACE,SAAS,CAACC,GAAG,CAACF,QAAQ,CAAC;EAC/C;EACA,OAAON,YAAY,CAACK,qBAAqB,EAAE,CAAC;IAC1CI,GAAG,EAAE,SAAS;IACdC,KAAK,EAAE,SAASC,OAAOA,CAAA,EAAG;MACxB,IAAI,CAACN,qBAAqB,CAACO,QAAQ,EAAE;QACnCP,qBAAqB,CAACO,QAAQ,GAAG,IAAIC,gBAAgB,CAAC,YAAY;UAChE,IAAIC,KAAK,GAAGV,cAAc,CAAC,CAAC;UAC5BC,qBAAqB,CAACE,SAAS,CAACQ,OAAO,CAAC,UAAUT,QAAQ,EAAE;YAC1D,OAAOA,QAAQ,CAACQ,KAAK,CAAC;UACxB,CAAC,CAAC;QACJ,CAAC,CAAC;QACF;QACAT,qBAAqB,CAACO,QAAQ,CAACD,OAAO,CAACK,QAAQ,CAACC,eAAe,EAAE;UAC/DC,eAAe,EAAE,CAACf,oBAAoB,EAAED,oBAAoB;QAC9D,CAAC,CAAC;MACJ;IACF;EACF,CAAC,EAAE;IACDO,GAAG,EAAE,YAAY;IACjBC,KAAK,EAAE,SAASS,UAAUA,CAAA,EAAG;MAC3B,IAAI,IAAI,CAACb,QAAQ,EAAE;QACjBD,qBAAqB,CAACE,SAAS,CAACa,MAAM,CAAC,IAAI,CAACd,QAAQ,CAAC;MACvD;MACA,IAAID,qBAAqB,CAACE,SAAS,CAACc,IAAI,KAAK,CAAC,IAAIhB,qBAAqB,CAACO,QAAQ,EAAE;QAChFP,qBAAqB,CAACO,QAAQ,CAACO,UAAU,CAAC,CAAC;QAC3Cd,qBAAqB,CAACO,QAAQ,GAAG,IAAI;MACvC;IACF;EACF,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AACHX,eAAe,CAACI,qBAAqB,EAAE,UAAU,EAAE,IAAI,CAAC;AACxDJ,eAAe,CAACI,qBAAqB,EAAE,WAAW,EAAE,IAAIiB,GAAG,CAAC,CAAC,CAAC;AAC9D,SAASjB,qBAAqB,IAAIkB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}