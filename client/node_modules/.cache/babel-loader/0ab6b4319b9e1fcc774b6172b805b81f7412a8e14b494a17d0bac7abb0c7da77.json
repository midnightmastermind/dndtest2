{"ast":null,"code":"import _typeof from \"@babel/runtime/helpers/typeof\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { migrateEvaluationDetails, migrateSecondaryExposures } from '../utils';\n// Reference: https://github.com/statsig-io/js-lite/blob/main/src/DynamicConfig.ts\nexport var DynamicConfig = /*#__PURE__*/function () {\n  function DynamicConfig(configName, configValue, ruleID, evaluationDetails) {\n    var secondaryExposures = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n    var allocatedExperimentName = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : '';\n    var onDefaultValueFallback = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : null;\n    _classCallCheck(this, DynamicConfig);\n    this.value = configValue;\n    this._name = configName;\n    this._ruleID = ruleID;\n    this._secondaryExposures = secondaryExposures;\n    this._allocatedExperimentName = allocatedExperimentName;\n    this._evaluationDetails = evaluationDetails;\n    this._onDefaultValueFallback = onDefaultValueFallback;\n  }\n  return _createClass(DynamicConfig, [{\n    key: \"get\",\n    value: function get(key, defaultValue, typeGuard) {\n      var _this$_onDefaultValue2;\n      var val = this.getValue(key, defaultValue);\n      if (val == null) {\n        return defaultValue;\n      }\n      var expectedType = Array.isArray(defaultValue) ? 'array' : _typeof(defaultValue);\n      var actualType = Array.isArray(val) ? 'array' : _typeof(val);\n      if (typeGuard) {\n        var _this$_onDefaultValue;\n        if (typeGuard(val)) {\n          this.fireExposure(key);\n          return val;\n        }\n        (_this$_onDefaultValue = this._onDefaultValueFallback) === null || _this$_onDefaultValue === void 0 || _this$_onDefaultValue.call(this, this, key, expectedType, actualType);\n        return defaultValue;\n      }\n      if (defaultValue == null || expectedType === actualType) {\n        this.fireExposure(key);\n        return val;\n      }\n      (_this$_onDefaultValue2 = this._onDefaultValueFallback) === null || _this$_onDefaultValue2 === void 0 || _this$_onDefaultValue2.call(this, this, key, expectedType, actualType);\n      return defaultValue;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue(key, defaultValue) {\n      if (key == null) {\n        return this.value;\n      }\n      if (defaultValue == null) {\n        defaultValue = null;\n      }\n      if (this.value[key] == null) {\n        return defaultValue;\n      }\n      this.fireExposure(key);\n      return this.value[key];\n    }\n  }, {\n    key: \"fireExposure\",\n    value: function fireExposure(key) {\n      // Call the wrapped experiment's get method to fire exposure\n      if (this.experiment) {\n        this.experiment.get(key);\n      }\n    }\n  }], [{\n    key: \"fromExperiment\",\n    value: function fromExperiment(experiment) {\n      var _experiment$__evaluat, _experiment$__evaluat2, _experiment$groupName;\n      var config = new DynamicConfig(experiment.name, experiment.value, experiment.ruleID, migrateEvaluationDetails(experiment.details), migrateSecondaryExposures((_experiment$__evaluat = (_experiment$__evaluat2 = experiment.__evaluation) === null || _experiment$__evaluat2 === void 0 ? void 0 : _experiment$__evaluat2.secondary_exposures) !== null && _experiment$__evaluat !== void 0 ? _experiment$__evaluat : []), (_experiment$groupName = experiment.groupName) !== null && _experiment$groupName !== void 0 ? _experiment$groupName : undefined);\n      config.experiment = experiment;\n      return config;\n    }\n\n    /** @deprecated - do not use, this is still exported for backwards compatibility but will be removed in the next major version  */\n  }]);\n}();","map":{"version":3,"names":["_typeof","_classCallCheck","_createClass","migrateEvaluationDetails","migrateSecondaryExposures","DynamicConfig","configName","configValue","ruleID","evaluationDetails","secondaryExposures","arguments","length","undefined","allocatedExperimentName","onDefaultValueFallback","value","_name","_ruleID","_secondaryExposures","_allocatedExperimentName","_evaluationDetails","_onDefaultValueFallback","key","get","defaultValue","typeGuard","_this$_onDefaultValue2","val","getValue","expectedType","Array","isArray","actualType","_this$_onDefaultValue","fireExposure","call","experiment","fromExperiment","_experiment$__evaluat","_experiment$__evaluat2","_experiment$groupName","config","name","details","__evaluation","secondary_exposures","groupName"],"sources":["/data/data/com.termux/files/home/dndkittest2/client/node_modules/@atlaskit/feature-gate-js-client/dist/esm/client/compat/DynamicConfig.js"],"sourcesContent":["import _typeof from \"@babel/runtime/helpers/typeof\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { migrateEvaluationDetails, migrateSecondaryExposures } from '../utils';\n// Reference: https://github.com/statsig-io/js-lite/blob/main/src/DynamicConfig.ts\nexport var DynamicConfig = /*#__PURE__*/function () {\n  function DynamicConfig(configName, configValue, ruleID, evaluationDetails) {\n    var secondaryExposures = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n    var allocatedExperimentName = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : '';\n    var onDefaultValueFallback = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : null;\n    _classCallCheck(this, DynamicConfig);\n    this.value = configValue;\n    this._name = configName;\n    this._ruleID = ruleID;\n    this._secondaryExposures = secondaryExposures;\n    this._allocatedExperimentName = allocatedExperimentName;\n    this._evaluationDetails = evaluationDetails;\n    this._onDefaultValueFallback = onDefaultValueFallback;\n  }\n  return _createClass(DynamicConfig, [{\n    key: \"get\",\n    value: function get(key, defaultValue, typeGuard) {\n      var _this$_onDefaultValue2;\n      var val = this.getValue(key, defaultValue);\n      if (val == null) {\n        return defaultValue;\n      }\n      var expectedType = Array.isArray(defaultValue) ? 'array' : _typeof(defaultValue);\n      var actualType = Array.isArray(val) ? 'array' : _typeof(val);\n      if (typeGuard) {\n        var _this$_onDefaultValue;\n        if (typeGuard(val)) {\n          this.fireExposure(key);\n          return val;\n        }\n        (_this$_onDefaultValue = this._onDefaultValueFallback) === null || _this$_onDefaultValue === void 0 || _this$_onDefaultValue.call(this, this, key, expectedType, actualType);\n        return defaultValue;\n      }\n      if (defaultValue == null || expectedType === actualType) {\n        this.fireExposure(key);\n        return val;\n      }\n      (_this$_onDefaultValue2 = this._onDefaultValueFallback) === null || _this$_onDefaultValue2 === void 0 || _this$_onDefaultValue2.call(this, this, key, expectedType, actualType);\n      return defaultValue;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue(key, defaultValue) {\n      if (key == null) {\n        return this.value;\n      }\n      if (defaultValue == null) {\n        defaultValue = null;\n      }\n      if (this.value[key] == null) {\n        return defaultValue;\n      }\n      this.fireExposure(key);\n      return this.value[key];\n    }\n  }, {\n    key: \"fireExposure\",\n    value: function fireExposure(key) {\n      // Call the wrapped experiment's get method to fire exposure\n      if (this.experiment) {\n        this.experiment.get(key);\n      }\n    }\n  }], [{\n    key: \"fromExperiment\",\n    value: function fromExperiment(experiment) {\n      var _experiment$__evaluat, _experiment$__evaluat2, _experiment$groupName;\n      var config = new DynamicConfig(experiment.name, experiment.value, experiment.ruleID, migrateEvaluationDetails(experiment.details), migrateSecondaryExposures((_experiment$__evaluat = (_experiment$__evaluat2 = experiment.__evaluation) === null || _experiment$__evaluat2 === void 0 ? void 0 : _experiment$__evaluat2.secondary_exposures) !== null && _experiment$__evaluat !== void 0 ? _experiment$__evaluat : []), (_experiment$groupName = experiment.groupName) !== null && _experiment$groupName !== void 0 ? _experiment$groupName : undefined);\n      config.experiment = experiment;\n      return config;\n    }\n\n    /** @deprecated - do not use, this is still exported for backwards compatibility but will be removed in the next major version  */\n  }]);\n}();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}