{"ast":null,"code":"var _jsxFileName = \"/home/joshpoms/dndtest2/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useState } from \"react\";\nimport Grid from \"./Grid\";\nimport { GridDndContext } from \"./GridDndContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction uid() {\n  return Date.now().toString(36) + Math.random().toString(36).slice(2, 10);\n}\nfunction arrayMove(arr, from, to) {\n  const copy = [...arr];\n  const [item] = copy.splice(from, 1);\n  copy.splice(to, 0, item);\n  return copy;\n}\nexport default function App() {\n  _s();\n  // drag state\n  const [activeId, setActiveId] = useState(null);\n  const [activeSize, setActiveSize] = useState(null);\n\n  // ✅ start empty\n  const [containers, setContainers] = useState([]); // {id,label,items:[]}\n  const [instances, setInstances] = useState([]); // {id,label}\n\n  // helpers\n  const addContainer = () => {\n    const id = uid();\n    setContainers(prev => [...prev, {\n      id,\n      label: `List ${prev.length + 1}`,\n      items: []\n    }]);\n  };\n  const addInstanceToContainer = containerId => {\n    const instanceId = uid();\n    setInstances(prev => [...prev, {\n      id: instanceId,\n      label: `Item ${prev.length + 1}`\n    }]);\n    setContainers(prev => prev.map(c => c.id === containerId ? {\n      ...c,\n      items: [...c.items, instanceId]\n    } : c));\n  };\n\n  // for quick lookup\n  const findContainerIndexById = (id, list = containers) => list.findIndex(c => c.id === id);\n  const findContainerByInstanceId = (instanceId, list = containers) => list.find(c => c.items.includes(instanceId));\n\n  // -------------------------\n  // Drag Handlers (App-owned)\n  // -------------------------\n  const handleDragStart = event => {\n    var _event$active$rect, _event$active$rect$cu;\n    setActiveId(event.active.id);\n    const rect = (_event$active$rect = event.active.rect) === null || _event$active$rect === void 0 ? void 0 : (_event$active$rect$cu = _event$active$rect.current) === null || _event$active$rect$cu === void 0 ? void 0 : _event$active$rect$cu.initial;\n    if (rect) setActiveSize({\n      width: rect.width,\n      height: rect.height\n    });\n  };\n  const handleDragCancel = () => {\n    setActiveId(null);\n    setActiveSize(null);\n  };\n  const handleDragEnd = event => {\n    var _active$data$current, _over$data$current;\n    const {\n      active,\n      over\n    } = event;\n    setActiveId(null);\n    setActiveSize(null);\n    if (!over) return;\n    const activeRole = (_active$data$current = active.data.current) === null || _active$data$current === void 0 ? void 0 : _active$data$current.role;\n    const overRole = (_over$data$current = over.data.current) === null || _over$data$current === void 0 ? void 0 : _over$data$current.role;\n\n    // -------------------------\n    // 1) CONTAINER SORTING\n    // -------------------------\n    if (activeRole === \"container\") {\n      var _over$data$current2;\n      const activeContainerId = active.id;\n\n      // Determine \"target container\" and insert index using the 3 drop roles\n      const targetContainerId = (_over$data$current2 = over.data.current) === null || _over$data$current2 === void 0 ? void 0 : _over$data$current2.containerId;\n      if (!targetContainerId) return;\n      setContainers(prev => {\n        const fromIndex = findContainerIndexById(activeContainerId, prev);\n        const targetIndex = findContainerIndexById(targetContainerId, prev);\n        if (fromIndex === -1 || targetIndex === -1) return prev;\n        let toIndex = targetIndex;\n\n        // If dropped on top/bottom sentinel, adjust\n        if (overRole === \"container:top\") {\n          toIndex = targetIndex; // before\n        } else if (overRole === \"container:bottom\") {\n          toIndex = targetIndex + 1; // after\n        } else {\n          // container:list: treat as \"move onto\" container -> keep as targetIndex\n          toIndex = targetIndex;\n        }\n\n        // if moving forward and inserting after, account for removal shift\n        const movingForward = fromIndex < toIndex;\n        const adjustedTo = movingForward ? toIndex - 1 : toIndex;\n        return arrayMove(prev, fromIndex, Math.max(0, Math.min(prev.length - 1, adjustedTo)));\n      });\n      return;\n    }\n\n    // -------------------------\n    // 2) INSTANCE SORTING / MOVING\n    // -------------------------\n    if (activeRole === \"instance\") {\n      const activeInstanceId = active.id;\n      setContainers(prev => {\n        var _over$data$current3;\n        const fromContainer = findContainerByInstanceId(activeInstanceId, prev);\n        if (!fromContainer) return prev;\n\n        // Where are we dropping?\n        const toContainerId = (_over$data$current3 = over.data.current) === null || _over$data$current3 === void 0 ? void 0 : _over$data$current3.containerId;\n        if (!toContainerId) return prev;\n        const toContainer = prev.find(c => c.id === toContainerId);\n        if (!toContainer) return prev;\n        const fromId = fromContainer.id;\n\n        // Remove from source\n        const next = prev.map(c => ({\n          ...c,\n          items: [...c.items]\n        }));\n        const src = next.find(c => c.id === fromId);\n        const dst = next.find(c => c.id === toContainerId);\n        src.items = src.items.filter(id => id !== activeInstanceId);\n\n        // Insert into destination (sortable if over an instance)\n        const overInstanceId = overRole === \"instance\" ? over.id : null;\n        if (!overInstanceId) {\n          // dropped on list area -> append\n          dst.items.push(activeInstanceId);\n        } else {\n          const insertIndex = dst.items.indexOf(overInstanceId);\n          const safeIndex = insertIndex >= 0 ? insertIndex : dst.items.length;\n          dst.items.splice(safeIndex, 0, activeInstanceId);\n        }\n        return next;\n      });\n      return;\n    }\n  };\n  const ctxValue = useMemo(() => ({\n    activeId,\n    activeSize,\n    setActiveId,\n    setActiveSize,\n    containers,\n    setContainers,\n    instances,\n    setInstances,\n    addContainer,\n    addInstanceToContainer,\n    handleDragStart,\n    handleDragEnd,\n    handleDragCancel\n  }), [activeId, activeSize, containers, instances]);\n  return /*#__PURE__*/_jsxDEV(GridDndContext.Provider, {\n    value: ctxValue,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-root\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dnd-page\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 12,\n            alignItems: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: 0\n            },\n            children: \"Sortable Containers + Instances\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addContainer,\n            children: \"+ Container\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), containers.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 12,\n            opacity: 0.7,\n            fontSize: 13\n          },\n          children: \"Create a container to start.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"tb0QriXCFBrHjQMgx/yTct65nX0=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useMemo","useState","Grid","GridDndContext","jsxDEV","_jsxDEV","uid","Date","now","toString","Math","random","slice","arrayMove","arr","from","to","copy","item","splice","App","_s","activeId","setActiveId","activeSize","setActiveSize","containers","setContainers","instances","setInstances","addContainer","id","prev","label","length","items","addInstanceToContainer","containerId","instanceId","map","c","findContainerIndexById","list","findIndex","findContainerByInstanceId","find","includes","handleDragStart","event","_event$active$rect","_event$active$rect$cu","active","rect","current","initial","width","height","handleDragCancel","handleDragEnd","_active$data$current","_over$data$current","over","activeRole","data","role","overRole","_over$data$current2","activeContainerId","targetContainerId","fromIndex","targetIndex","toIndex","movingForward","adjustedTo","max","min","activeInstanceId","_over$data$current3","fromContainer","toContainerId","toContainer","fromId","next","src","dst","filter","overInstanceId","push","insertIndex","indexOf","safeIndex","ctxValue","Provider","value","children","className","style","display","gap","alignItems","margin","fileName","_jsxFileName","lineNumber","columnNumber","onClick","marginTop","opacity","fontSize","_c","$RefreshReg$"],"sources":["/home/joshpoms/dndtest2/src/App.js"],"sourcesContent":["import React, { useMemo, useState } from \"react\";\nimport Grid from \"./Grid\";\nimport { GridDndContext } from \"./GridDndContext\";\n\nfunction uid() {\n  return Date.now().toString(36) + Math.random().toString(36).slice(2, 10);\n}\n\nfunction arrayMove(arr, from, to) {\n  const copy = [...arr];\n  const [item] = copy.splice(from, 1);\n  copy.splice(to, 0, item);\n  return copy;\n}\n\nexport default function App() {\n  // drag state\n  const [activeId, setActiveId] = useState(null);\n  const [activeSize, setActiveSize] = useState(null);\n\n  // ✅ start empty\n  const [containers, setContainers] = useState([]); // {id,label,items:[]}\n  const [instances, setInstances] = useState([]);   // {id,label}\n\n  // helpers\n  const addContainer = () => {\n    const id = uid();\n    setContainers((prev) => [\n      ...prev,\n      { id, label: `List ${prev.length + 1}`, items: [] },\n    ]);\n  };\n\n  const addInstanceToContainer = (containerId) => {\n    const instanceId = uid();\n    setInstances((prev) => [\n      ...prev,\n      { id: instanceId, label: `Item ${prev.length + 1}` },\n    ]);\n\n    setContainers((prev) =>\n      prev.map((c) =>\n        c.id === containerId ? { ...c, items: [...c.items, instanceId] } : c\n      )\n    );\n  };\n\n  // for quick lookup\n  const findContainerIndexById = (id, list = containers) =>\n    list.findIndex((c) => c.id === id);\n\n  const findContainerByInstanceId = (instanceId, list = containers) =>\n    list.find((c) => c.items.includes(instanceId));\n\n  // -------------------------\n  // Drag Handlers (App-owned)\n  // -------------------------\n  const handleDragStart = (event) => {\n    setActiveId(event.active.id);\n\n    const rect = event.active.rect?.current?.initial;\n    if (rect) setActiveSize({ width: rect.width, height: rect.height });\n  };\n\n  const handleDragCancel = () => {\n    setActiveId(null);\n    setActiveSize(null);\n  };\n\n  const handleDragEnd = (event) => {\n    const { active, over } = event;\n\n    setActiveId(null);\n    setActiveSize(null);\n\n    if (!over) return;\n\n    const activeRole = active.data.current?.role;\n    const overRole = over.data.current?.role;\n\n    // -------------------------\n    // 1) CONTAINER SORTING\n    // -------------------------\n    if (activeRole === \"container\") {\n      const activeContainerId = active.id;\n\n      // Determine \"target container\" and insert index using the 3 drop roles\n      const targetContainerId = over.data.current?.containerId;\n      if (!targetContainerId) return;\n\n      setContainers((prev) => {\n        const fromIndex = findContainerIndexById(activeContainerId, prev);\n        const targetIndex = findContainerIndexById(targetContainerId, prev);\n        if (fromIndex === -1 || targetIndex === -1) return prev;\n\n        let toIndex = targetIndex;\n\n        // If dropped on top/bottom sentinel, adjust\n        if (overRole === \"container:top\") {\n          toIndex = targetIndex; // before\n        } else if (overRole === \"container:bottom\") {\n          toIndex = targetIndex + 1; // after\n        } else {\n          // container:list: treat as \"move onto\" container -> keep as targetIndex\n          toIndex = targetIndex;\n        }\n\n        // if moving forward and inserting after, account for removal shift\n        const movingForward = fromIndex < toIndex;\n        const adjustedTo = movingForward ? toIndex - 1 : toIndex;\n\n        return arrayMove(prev, fromIndex, Math.max(0, Math.min(prev.length - 1, adjustedTo)));\n      });\n\n      return;\n    }\n\n    // -------------------------\n    // 2) INSTANCE SORTING / MOVING\n    // -------------------------\n    if (activeRole === \"instance\") {\n      const activeInstanceId = active.id;\n\n      setContainers((prev) => {\n        const fromContainer = findContainerByInstanceId(activeInstanceId, prev);\n        if (!fromContainer) return prev;\n\n        // Where are we dropping?\n        const toContainerId = over.data.current?.containerId;\n        if (!toContainerId) return prev;\n\n        const toContainer = prev.find((c) => c.id === toContainerId);\n        if (!toContainer) return prev;\n\n        const fromId = fromContainer.id;\n\n        // Remove from source\n        const next = prev.map((c) => ({ ...c, items: [...c.items] }));\n        const src = next.find((c) => c.id === fromId);\n        const dst = next.find((c) => c.id === toContainerId);\n\n        src.items = src.items.filter((id) => id !== activeInstanceId);\n\n        // Insert into destination (sortable if over an instance)\n        const overInstanceId = overRole === \"instance\" ? over.id : null;\n\n        if (!overInstanceId) {\n          // dropped on list area -> append\n          dst.items.push(activeInstanceId);\n        } else {\n          const insertIndex = dst.items.indexOf(overInstanceId);\n          const safeIndex = insertIndex >= 0 ? insertIndex : dst.items.length;\n          dst.items.splice(safeIndex, 0, activeInstanceId);\n        }\n\n        return next;\n      });\n\n      return;\n    }\n  };\n\n  const ctxValue = useMemo(\n    () => ({\n      activeId,\n      activeSize,\n      setActiveId,\n      setActiveSize,\n\n      containers,\n      setContainers,\n      instances,\n      setInstances,\n\n      addContainer,\n      addInstanceToContainer,\n\n      handleDragStart,\n      handleDragEnd,\n      handleDragCancel,\n    }),\n    [activeId, activeSize, containers, instances]\n  );\n\n  return (\n    <GridDndContext.Provider value={ctxValue}>\n      <div className=\"app-root\">\n        <div className=\"dnd-page\">\n          <div style={{ display: \"flex\", gap: 12, alignItems: \"center\" }}>\n            <h2 style={{ margin: 0 }}>Sortable Containers + Instances</h2>\n            <button onClick={addContainer}>+ Container</button>\n          </div>\n\n          <Grid />\n\n          {containers.length === 0 && (\n            <div style={{ marginTop: 12, opacity: 0.7, fontSize: 13 }}>\n              Create a container to start.\n            </div>\n          )}\n        </div>\n      </div>\n    </GridDndContext.Provider>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}