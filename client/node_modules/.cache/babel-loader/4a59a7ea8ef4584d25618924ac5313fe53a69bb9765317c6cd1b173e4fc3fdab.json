{"ast":null,"code":"var _jsxFileName = \"/data/data/com.termux/files/home/dndkittest2/client/src/Panel.jsx\",\n  _s = $RefreshSig$();\n// Panel.jsx\nimport React, { useRef, useMemo, useContext, useState } from \"react\";\nimport { useDraggable, useDndContext, useDroppable } from \"@dnd-kit/core\";\nimport ResizeHandle from \"./ResizeHandle\";\nimport { token } from \"@atlaskit/tokens\";\nimport MoreVerticalIcon from \"@atlaskit/icon/glyph/more-vertical\";\nimport { ActionTypes } from \"./state/actions\";\nimport { emit } from \"./socket\";\nimport { SortableContext, rectSortingStrategy } from \"@dnd-kit/sortable\";\nimport { GridActionsContext } from \"./GridActionsContext\";\nimport { GridDataContext } from \"./GridDataContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Panel({\n  panel,\n  components,\n  dispatch,\n  gridRef,\n  cols,\n  rows,\n  activeId,\n  gridActive,\n  activeSize,\n  activeInstance\n}) {\n  _s();\n  var _active$data$current$, _active$data, _active$data$current, _over$data, _ref, _liveSize$w, _liveSize$h;\n  const resizeTransformRef = useRef({\n    w: null,\n    h: null\n  });\n  const [liveSize, setLiveSize] = useState({\n    w: null,\n    h: null\n  });\n  const isResizing = liveSize.w != null || liveSize.h != null;\n  const [fullscreen, setFullscreen] = useState(false);\n  const prev = useRef(null);\n  const {\n    addContainerToPanel\n  } = useContext(GridActionsContext);\n  const {\n    state,\n    containersRender\n  } = useContext(GridDataContext);\n  const SortableContainer = components[\"SortableContainer\"];\n\n  // ✅ DnD context active/role\n  const {\n    active,\n    over\n  } = useDndContext();\n  const activeRole = (_active$data$current$ = active === null || active === void 0 ? void 0 : (_active$data = active.data) === null || _active$data === void 0 ? void 0 : (_active$data$current = _active$data.current) === null || _active$data$current === void 0 ? void 0 : _active$data$current.role) !== null && _active$data$current$ !== void 0 ? _active$data$current$ : null;\n  const isContainerDrag = activeRole === \"container\";\n  const isInstanceDrag = activeRole === \"instance\";\n  const isChildDrag = isContainerDrag || isInstanceDrag;\n\n  // ✅ IMPORTANT: disable panel dropzone during INSTANCE drag\n  // (instances must hit container droppables, not panel empty space)\n  const {\n    setNodeRef: setPanelDropRef\n  } = useDroppable({\n    id: `panelDrop:${panel.id}`,\n    data: {\n      role: \"panel:drop\",\n      panelId: panel.id\n    },\n    disabled: isInstanceDrag\n  });\n  const overData = (over === null || over === void 0 ? void 0 : (_over$data = over.data) === null || _over$data === void 0 ? void 0 : _over$data.current) || null;\n\n  // ---------------------------\n  // ✅ Helper: does \"over\" belong to THIS panel?\n  // Works for container drag AND instance drag\n  // ---------------------------\n  const containerIdBelongsToPanel = containerId => !!containerId && (panel.containers || []).includes(containerId);\n  const isOverThisPanel = (() => {\n    if (!overData) return false;\n\n    // panel empty-space dropzone (only relevant for container drag; we disabled it for instances)\n    if (overData.role === \"panel:drop\" && overData.panelId === panel.id) {\n      return true;\n    }\n\n    // container tiles (often carry panelId)\n    if (overData.role === \"container\" && overData.panelId === panel.id) {\n      return true;\n    }\n\n    // container:* droppables or instance/instance:* droppables should carry containerId\n    // If that containerId is in this panel, we treat it as \"over this panel\"\n    const roleStr = typeof overData.role === \"string\" ? overData.role : \"\";\n    const isContainerZone = roleStr.startsWith(\"container:\");\n    const isInstanceZone = roleStr === \"instance\" || roleStr.startsWith(\"instance:\");\n    if ((isContainerZone || isInstanceZone) && overData.containerId) {\n      return containerIdBelongsToPanel(overData.containerId);\n    }\n    return false;\n  })();\n  const collapsed = activeId === panel.id;\n\n  // ✅ highlight for container OR instance drags\n  const highlightPanel = isChildDrag && isOverThisPanel && !collapsed;\n\n  // ✅ draggable data\n  const data = useMemo(() => ({\n    role: \"panel\",\n    panelId: panel.id,\n    fromCol: panel.col,\n    fromRow: panel.row,\n    width: panel.width,\n    height: panel.height\n  }), [panel]);\n  const {\n    setNodeRef,\n    attributes,\n    listeners\n  } = useDraggable({\n    id: panel.id,\n    data,\n    disabled: fullscreen\n  });\n  const panelContainerIds = (panel === null || panel === void 0 ? void 0 : panel.containers) || [];\n  const containersSource = (_ref = containersRender !== null && containersRender !== void 0 ? containersRender : state === null || state === void 0 ? void 0 : state.containers) !== null && _ref !== void 0 ? _ref : [];\n  const panelContainers = panelContainerIds.map(id => containersSource.find(c => c.id === id)).filter(Boolean);\n  const updatePanelFinal = updated => {\n    dispatch({\n      type: ActionTypes.UPDATE_PANEL,\n      payload: updated\n    });\n    emit(\"update_panel\", {\n      panel: updated,\n      gridId: panel.gridId\n    });\n  };\n  const toggleFullscreen = () => {\n    if (!fullscreen) {\n      prev.current = {\n        row: panel.row,\n        col: panel.col,\n        width: panel.width,\n        height: panel.height\n      };\n      updatePanelFinal({\n        ...panel,\n        row: 0,\n        col: 0,\n        width: cols,\n        height: rows\n      });\n    } else {\n      const restore = prev.current ? {\n        ...panel,\n        ...prev.current\n      } : panel;\n      updatePanelFinal(restore);\n    }\n    setFullscreen(f => !f);\n  };\n  const getTrackInfo = () => {\n    var _gridRef$current;\n    const data = (_gridRef$current = gridRef.current) === null || _gridRef$current === void 0 ? void 0 : _gridRef$current.dataset.sizes;\n    return data ? JSON.parse(data) : null;\n  };\n  const colFromPx = px => {\n    const track = getTrackInfo();\n    if (!track) return 0;\n    const {\n      colSizes\n    } = track;\n    const rect = gridRef.current.getBoundingClientRect();\n    const rel = (px - rect.left) / rect.width;\n    const total = colSizes.reduce((a, b) => a + b, 0);\n    let acc = 0;\n    for (let i = 0; i < colSizes.length; i++) {\n      acc += colSizes[i];\n      if (rel < acc / total) return i;\n    }\n    return colSizes.length - 1;\n  };\n  const rowFromPx = py => {\n    const track = getTrackInfo();\n    if (!track) return 0;\n    const {\n      rowSizes\n    } = track;\n    const rect = gridRef.current.getBoundingClientRect();\n    const rel = (py - rect.top) / rect.height;\n    const total = rowSizes.reduce((a, b) => a + b, 0);\n    let acc = 0;\n    for (let i = 0; i < rowSizes.length; i++) {\n      acc += rowSizes[i];\n      if (rel < acc / total) return i;\n    }\n    return rowSizes.length - 1;\n  };\n  const beginResize = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    const getX = ev => {\n      var _ev$clientX, _ev$touches, _ev$touches$;\n      return (_ev$clientX = ev.clientX) !== null && _ev$clientX !== void 0 ? _ev$clientX : (_ev$touches = ev.touches) === null || _ev$touches === void 0 ? void 0 : (_ev$touches$ = _ev$touches[0]) === null || _ev$touches$ === void 0 ? void 0 : _ev$touches$.clientX;\n    };\n    const getY = ev => {\n      var _ev$clientY, _ev$touches2, _ev$touches2$;\n      return (_ev$clientY = ev.clientY) !== null && _ev$clientY !== void 0 ? _ev$clientY : (_ev$touches2 = ev.touches) === null || _ev$touches2 === void 0 ? void 0 : (_ev$touches2$ = _ev$touches2[0]) === null || _ev$touches2$ === void 0 ? void 0 : _ev$touches2$.clientY;\n    };\n    const move = ev => {\n      ev.preventDefault();\n      const x = getX(ev);\n      const y = getY(ev);\n      const col = colFromPx(x);\n      const row = rowFromPx(y);\n      const newW = Math.max(1, col - panel.col + 1);\n      const newH = Math.max(1, row - panel.row + 1);\n      const next = {\n        w: Math.min(newW, cols - panel.col),\n        h: Math.min(newH, rows - panel.row)\n      };\n      resizeTransformRef.current = next;\n      setLiveSize(next);\n    };\n    const stop = () => {\n      window.removeEventListener(\"mousemove\", move);\n      window.removeEventListener(\"mouseup\", stop);\n      window.removeEventListener(\"touchmove\", move);\n      window.removeEventListener(\"touchend\", stop);\n      const {\n        w,\n        h\n      } = resizeTransformRef.current;\n      resizeTransformRef.current = {\n        w: null,\n        h: null\n      };\n      setLiveSize({\n        w: null,\n        h: null\n      });\n      updatePanelFinal({\n        ...panel,\n        width: w !== null && w !== void 0 ? w : panel.width,\n        height: h !== null && h !== void 0 ? h : panel.height\n      });\n    };\n    window.addEventListener(\"mousemove\", move);\n    window.addEventListener(\"mouseup\", stop);\n    window.addEventListener(\"touchmove\", move, {\n      passive: false\n    });\n    window.addEventListener(\"touchend\", stop);\n  };\n  const liveW = (_liveSize$w = liveSize.w) !== null && _liveSize$w !== void 0 ? _liveSize$w : panel.width;\n  const liveH = (_liveSize$h = liveSize.h) !== null && _liveSize$h !== void 0 ? _liveSize$h : panel.height;\n  const gridArea = collapsed ? `${panel.row + 1} / ${panel.col + 1} / ${panel.row + 2} / ${panel.col + 2}` : `${panel.row + 1} / ${panel.col + 1} /\n       ${panel.row + liveH + 1} /\n       ${panel.col + liveW + 1}`;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    \"data-panel-id\": panel.id,\n    ref: setNodeRef,\n    style: {\n      gridArea,\n      background: token(\"elevation.surface\", \"rgba(17,17,17,0.95)\"),\n      borderRadius: 8,\n      border: highlightPanel ? \"2px solid rgba(50,150,255,0.9)\" : \"1px solid #AAA\",\n      boxShadow: highlightPanel ? \"0 0 0 3px rgba(50,150,255,0.35) inset\" : \"none\",\n      overflow: \"hidden\",\n      position: \"relative\",\n      margin: \"3px\",\n      transition: isResizing ? \"all 80ms linear\" : \"none\",\n      outline: isResizing ? \"2px solid rgba(50,150,255,0.6)\" : \"none\",\n      opacity: collapsed ? 0 : 1,\n      visibility: collapsed ? \"hidden\" : \"visible\",\n      pointerEvents: collapsed ? \"none\" : \"auto\",\n      zIndex: fullscreen ? 999 : 50\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: \"#2F343A\",\n          borderTopLeftRadius: 8,\n          borderTopRightRadius: 8,\n          display: \"flex\",\n          alignItems: \"center\",\n          fontWeight: 600,\n          color: \"white\",\n          flex: \"0 0 auto\",\n          position: \"relative\",\n          zIndex: fullscreen ? 999 : 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            cursor: \"grab\",\n            paddingLeft: 6,\n            touchAction: \"none\"\n          },\n          ...attributes,\n          ...listeners,\n          children: /*#__PURE__*/_jsxDEV(MoreVerticalIcon, {\n            size: \"small\",\n            primaryColor: \"#9AA0A6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => addContainerToPanel(panel.id),\n          style: {\n            marginRight: 6\n          },\n          children: \"+ Container\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleFullscreen,\n          style: {\n            marginRight: 6\n          },\n          children: fullscreen ? \"Restore\" : \"Fullscreen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-body\",\n        style: {\n          flex: 1,\n          minHeight: 0,\n          overflow: \"hidden\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel-scroll\",\n          style: {\n            width: \"100%\",\n            height: \"100%\",\n            overflowY: \"auto\",\n            overflowX: \"hidden\",\n            WebkitOverflowScrolling: \"touch\",\n            overscrollBehavior: \"contain\",\n            // ✅ NEVER disable scroll gestures\n            touchAction: \"pan-y\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: 18\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: 14,\n              boxSizing: \"border-box\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"containers-col\",\n              children: [/*#__PURE__*/_jsxDEV(SortableContext, {\n                items: panelContainerIds,\n                strategy: rectSortingStrategy,\n                children: panelContainers.map(c => /*#__PURE__*/_jsxDEV(SortableContainer, {\n                  container: c,\n                  panelId: panel.id\n                }, c.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 11\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 7\n              }, this), panelContainers.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 12,\n                  opacity: 0.7,\n                  fontSize: 13\n                },\n                children: \"Create a container to start.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: 28\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 3\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(ResizeHandle, {\n        onMouseDown: beginResize,\n        onTouchStart: beginResize\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 240,\n    columnNumber: 5\n  }, this);\n}\n_s(Panel, \"OrUjztEsTgjUQIeLOWHmoIgSxBw=\", false, function () {\n  return [useDndContext, useDroppable, useDraggable];\n});\n_c = Panel;\nvar _c;\n$RefreshReg$(_c, \"Panel\");","map":{"version":3,"names":["React","useRef","useMemo","useContext","useState","useDraggable","useDndContext","useDroppable","ResizeHandle","token","MoreVerticalIcon","ActionTypes","emit","SortableContext","rectSortingStrategy","GridActionsContext","GridDataContext","jsxDEV","_jsxDEV","Panel","panel","components","dispatch","gridRef","cols","rows","activeId","gridActive","activeSize","activeInstance","_s","_active$data$current$","_active$data","_active$data$current","_over$data","_ref","_liveSize$w","_liveSize$h","resizeTransformRef","w","h","liveSize","setLiveSize","isResizing","fullscreen","setFullscreen","prev","addContainerToPanel","state","containersRender","SortableContainer","active","over","activeRole","data","current","role","isContainerDrag","isInstanceDrag","isChildDrag","setNodeRef","setPanelDropRef","id","panelId","disabled","overData","containerIdBelongsToPanel","containerId","containers","includes","isOverThisPanel","roleStr","isContainerZone","startsWith","isInstanceZone","collapsed","highlightPanel","fromCol","col","fromRow","row","width","height","attributes","listeners","panelContainerIds","containersSource","panelContainers","map","find","c","filter","Boolean","updatePanelFinal","updated","type","UPDATE_PANEL","payload","gridId","toggleFullscreen","restore","f","getTrackInfo","_gridRef$current","dataset","sizes","JSON","parse","colFromPx","px","track","colSizes","rect","getBoundingClientRect","rel","left","total","reduce","a","b","acc","i","length","rowFromPx","py","rowSizes","top","beginResize","event","preventDefault","stopPropagation","getX","ev","_ev$clientX","_ev$touches","_ev$touches$","clientX","touches","getY","_ev$clientY","_ev$touches2","_ev$touches2$","clientY","move","x","y","newW","Math","max","newH","next","min","stop","window","removeEventListener","addEventListener","passive","liveW","liveH","gridArea","ref","style","background","borderRadius","border","boxShadow","overflow","position","margin","transition","outline","opacity","visibility","pointerEvents","zIndex","children","display","flexDirection","borderTopLeftRadius","borderTopRightRadius","alignItems","fontWeight","color","flex","cursor","paddingLeft","touchAction","size","primaryColor","fileName","_jsxFileName","lineNumber","columnNumber","onClick","marginRight","className","minHeight","overflowY","overflowX","WebkitOverflowScrolling","overscrollBehavior","padding","boxSizing","items","strategy","container","marginTop","fontSize","onMouseDown","onTouchStart","_c","$RefreshReg$"],"sources":["/data/data/com.termux/files/home/dndkittest2/client/src/Panel.jsx"],"sourcesContent":["// Panel.jsx\nimport React, { useRef, useMemo, useContext, useState } from \"react\";\nimport { useDraggable, useDndContext, useDroppable } from \"@dnd-kit/core\";\nimport ResizeHandle from \"./ResizeHandle\";\nimport { token } from \"@atlaskit/tokens\";\nimport MoreVerticalIcon from \"@atlaskit/icon/glyph/more-vertical\";\nimport { ActionTypes } from \"./state/actions\";\nimport { emit } from \"./socket\";\nimport { SortableContext, rectSortingStrategy } from \"@dnd-kit/sortable\";\nimport { GridActionsContext } from \"./GridActionsContext\";\nimport { GridDataContext } from \"./GridDataContext\";\n\nexport default function Panel({\n  panel,\n  components,\n  dispatch,\n  gridRef,\n  cols,\n  rows,\n  activeId,\n  gridActive,\n  activeSize,\n  activeInstance,\n}) {\n  const resizeTransformRef = useRef({ w: null, h: null });\n\n  const [liveSize, setLiveSize] = useState({ w: null, h: null });\n  const isResizing = liveSize.w != null || liveSize.h != null;\n\n  const [fullscreen, setFullscreen] = useState(false);\n  const prev = useRef(null);\n\n  const { addContainerToPanel } = useContext(GridActionsContext);\n  const { state, containersRender } = useContext(GridDataContext);\n\n  const SortableContainer = components[\"SortableContainer\"];\n\n  // ✅ DnD context active/role\n  const { active, over } = useDndContext();\n  const activeRole = active?.data?.current?.role ?? null;\n\n  const isContainerDrag = activeRole === \"container\";\n  const isInstanceDrag = activeRole === \"instance\";\n  const isChildDrag = isContainerDrag || isInstanceDrag;\n\n  // ✅ IMPORTANT: disable panel dropzone during INSTANCE drag\n  // (instances must hit container droppables, not panel empty space)\n  const { setNodeRef: setPanelDropRef } = useDroppable({\n    id: `panelDrop:${panel.id}`,\n    data: { role: \"panel:drop\", panelId: panel.id },\n    disabled: isInstanceDrag,\n  });\n\n  const overData = over?.data?.current || null;\n\n  // ---------------------------\n  // ✅ Helper: does \"over\" belong to THIS panel?\n  // Works for container drag AND instance drag\n  // ---------------------------\n  const containerIdBelongsToPanel = (containerId) =>\n    !!containerId && (panel.containers || []).includes(containerId);\n\n  const isOverThisPanel = (() => {\n    if (!overData) return false;\n\n    // panel empty-space dropzone (only relevant for container drag; we disabled it for instances)\n    if (overData.role === \"panel:drop\" && overData.panelId === panel.id) {\n      return true;\n    }\n\n    // container tiles (often carry panelId)\n    if (overData.role === \"container\" && overData.panelId === panel.id) {\n      return true;\n    }\n\n    // container:* droppables or instance/instance:* droppables should carry containerId\n    // If that containerId is in this panel, we treat it as \"over this panel\"\n    const roleStr = typeof overData.role === \"string\" ? overData.role : \"\";\n    const isContainerZone = roleStr.startsWith(\"container:\");\n    const isInstanceZone = roleStr === \"instance\" || roleStr.startsWith(\"instance:\");\n\n    if ((isContainerZone || isInstanceZone) && overData.containerId) {\n      return containerIdBelongsToPanel(overData.containerId);\n    }\n\n    return false;\n  })();\n\n  const collapsed = activeId === panel.id;\n\n  // ✅ highlight for container OR instance drags\n  const highlightPanel = isChildDrag && isOverThisPanel && !collapsed;\n\n  // ✅ draggable data\n  const data = useMemo(\n    () => ({\n      role: \"panel\",\n      panelId: panel.id,\n      fromCol: panel.col,\n      fromRow: panel.row,\n      width: panel.width,\n      height: panel.height,\n    }),\n    [panel]\n  );\n\n  const { setNodeRef, attributes, listeners } = useDraggable({\n    id: panel.id,\n    data,\n    disabled: fullscreen,\n  });\n\n  const panelContainerIds = panel?.containers || [];\n  const containersSource = containersRender ?? state?.containers ?? [];\n\n  const panelContainers = panelContainerIds\n    .map((id) => containersSource.find((c) => c.id === id))\n    .filter(Boolean);\n\n  const updatePanelFinal = (updated) => {\n    dispatch({ type: ActionTypes.UPDATE_PANEL, payload: updated });\n    emit(\"update_panel\", { panel: updated, gridId: panel.gridId });\n  };\n\n  const toggleFullscreen = () => {\n    if (!fullscreen) {\n      prev.current = {\n        row: panel.row,\n        col: panel.col,\n        width: panel.width,\n        height: panel.height,\n      };\n      updatePanelFinal({ ...panel, row: 0, col: 0, width: cols, height: rows });\n    } else {\n      const restore = prev.current ? { ...panel, ...prev.current } : panel;\n      updatePanelFinal(restore);\n    }\n    setFullscreen((f) => !f);\n  };\n\n  const getTrackInfo = () => {\n    const data = gridRef.current?.dataset.sizes;\n    return data ? JSON.parse(data) : null;\n  };\n\n  const colFromPx = (px) => {\n    const track = getTrackInfo();\n    if (!track) return 0;\n\n    const { colSizes } = track;\n    const rect = gridRef.current.getBoundingClientRect();\n    const rel = (px - rect.left) / rect.width;\n    const total = colSizes.reduce((a, b) => a + b, 0);\n\n    let acc = 0;\n    for (let i = 0; i < colSizes.length; i++) {\n      acc += colSizes[i];\n      if (rel < acc / total) return i;\n    }\n    return colSizes.length - 1;\n  };\n\n  const rowFromPx = (py) => {\n    const track = getTrackInfo();\n    if (!track) return 0;\n\n    const { rowSizes } = track;\n    const rect = gridRef.current.getBoundingClientRect();\n    const rel = (py - rect.top) / rect.height;\n    const total = rowSizes.reduce((a, b) => a + b, 0);\n\n    let acc = 0;\n    for (let i = 0; i < rowSizes.length; i++) {\n      acc += rowSizes[i];\n      if (rel < acc / total) return i;\n    }\n    return rowSizes.length - 1;\n  };\n\n  const beginResize = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n\n    const getX = (ev) => ev.clientX ?? ev.touches?.[0]?.clientX;\n    const getY = (ev) => ev.clientY ?? ev.touches?.[0]?.clientY;\n\n    const move = (ev) => {\n      ev.preventDefault();\n      const x = getX(ev);\n      const y = getY(ev);\n\n      const col = colFromPx(x);\n      const row = rowFromPx(y);\n\n      const newW = Math.max(1, col - panel.col + 1);\n      const newH = Math.max(1, row - panel.row + 1);\n\n      const next = {\n        w: Math.min(newW, cols - panel.col),\n        h: Math.min(newH, rows - panel.row),\n      };\n\n      resizeTransformRef.current = next;\n      setLiveSize(next);\n    };\n\n    const stop = () => {\n      window.removeEventListener(\"mousemove\", move);\n      window.removeEventListener(\"mouseup\", stop);\n      window.removeEventListener(\"touchmove\", move);\n      window.removeEventListener(\"touchend\", stop);\n\n      const { w, h } = resizeTransformRef.current;\n      resizeTransformRef.current = { w: null, h: null };\n      setLiveSize({ w: null, h: null });\n\n      updatePanelFinal({\n        ...panel,\n        width: w ?? panel.width,\n        height: h ?? panel.height,\n      });\n    };\n\n    window.addEventListener(\"mousemove\", move);\n    window.addEventListener(\"mouseup\", stop);\n    window.addEventListener(\"touchmove\", move, { passive: false });\n    window.addEventListener(\"touchend\", stop);\n  };\n\n  const liveW = liveSize.w ?? panel.width;\n  const liveH = liveSize.h ?? panel.height;\n\n  const gridArea = collapsed\n    ? `${panel.row + 1} / ${panel.col + 1} / ${panel.row + 2} / ${panel.col + 2}`\n    : `${panel.row + 1} / ${panel.col + 1} /\n       ${panel.row + liveH + 1} /\n       ${panel.col + liveW + 1}`;\n\n  return (\n    <div\n      data-panel-id={panel.id}\n      ref={setNodeRef}\n      style={{\n        gridArea,\n        background: token(\"elevation.surface\", \"rgba(17,17,17,0.95)\"),\n        borderRadius: 8,\n\n        border: highlightPanel\n          ? \"2px solid rgba(50,150,255,0.9)\"\n          : \"1px solid #AAA\",\n\n        boxShadow: highlightPanel\n          ? \"0 0 0 3px rgba(50,150,255,0.35) inset\"\n          : \"none\",\n\n        overflow: \"hidden\",\n        position: \"relative\",\n        margin: \"3px\",\n\n        transition: isResizing ? \"all 80ms linear\" : \"none\",\n        outline: isResizing ? \"2px solid rgba(50,150,255,0.6)\" : \"none\",\n\n        opacity: collapsed ? 0 : 1,\n        visibility: collapsed ? \"hidden\" : \"visible\",\n        pointerEvents: collapsed ? \"none\" : \"auto\",\n\n        zIndex: fullscreen ? 999 : 50,\n      }}\n    >\n      <div style={{ height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\n        {/* HEADER */}\n        <div\n          style={{\n            background: \"#2F343A\",\n            borderTopLeftRadius: 8,\n            borderTopRightRadius: 8,\n            display: \"flex\",\n            alignItems: \"center\",\n            fontWeight: 600,\n            color: \"white\",\n            flex: \"0 0 auto\",\n            position: \"relative\",\n            zIndex: fullscreen ? 999 : 1,\n          }}\n        >\n          <div\n            style={{ cursor: \"grab\", paddingLeft: 6, touchAction: \"none\" }}\n            {...attributes}\n            {...listeners}\n          >\n            <MoreVerticalIcon size=\"small\" primaryColor=\"#9AA0A6\" />\n          </div>\n\n          <div style={{ flex: 1 }} />\n\n          <button onClick={() => addContainerToPanel(panel.id)} style={{ marginRight: 6 }}>\n            + Container\n          </button>\n\n          <button onClick={toggleFullscreen} style={{ marginRight: 6 }}>\n            {fullscreen ? \"Restore\" : \"Fullscreen\"}\n          </button>\n        </div>\n\n        {/* ✅ BODY: 3-layer (clip shell -> padded dropzone -> scroller) */}\n{/* ✅ BODY: scroller is the dropzone (single scroll surface) */}\n<div\n  className=\"panel-body\"\n  style={{\n    flex: 1,\n    minHeight: 0,\n    overflow: \"hidden\",\n  }}\n>\n  <div\n  className=\"panel-scroll\"\n  style={{\n    width: \"100%\",\n    height: \"100%\",\n    overflowY: \"auto\",\n    overflowX: \"hidden\",\n    WebkitOverflowScrolling: \"touch\",\n    overscrollBehavior: \"contain\",\n\n    // ✅ NEVER disable scroll gestures\n    touchAction: \"pan-y\",\n  }}\n>\n  {/* ✅ scroll buffer at top */}\n  <div style={{ height: 18 }} />\n\n  {/* ✅ actual padded content */}\n  <div style={{ padding: 14, boxSizing: \"border-box\" }}>\n    <div className=\"containers-col\">\n      <SortableContext items={panelContainerIds} strategy={rectSortingStrategy}>\n        {panelContainers.map((c) => (\n          <SortableContainer key={c.id} container={c} panelId={panel.id} />\n        ))}\n      </SortableContext>\n\n      {panelContainers.length === 0 && (\n        <div style={{ marginTop: 12, opacity: 0.7, fontSize: 13 }}>\n          Create a container to start.\n        </div>\n      )}\n    </div>\n  </div>\n\n  {/* ✅ scroll buffer at bottom */}\n  <div style={{ height: 28 }} />\n</div>\n</div>\n\n        <ResizeHandle onMouseDown={beginResize} onTouchStart={beginResize} />\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}