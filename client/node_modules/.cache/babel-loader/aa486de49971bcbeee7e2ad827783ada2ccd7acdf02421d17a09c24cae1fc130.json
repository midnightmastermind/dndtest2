{"ast":null,"code":"var _jsxFileName = \"/home/joshpoms/dndtest2/client/src/Grid.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useMemo } from \"react\";\nimport { DndContext, DragOverlay, PointerSensor, useSensor, useSensors } from \"@dnd-kit/core\";\nimport { SortableContext, rectSortingStrategy, verticalListSortingStrategy } from \"@dnd-kit/sortable\";\nimport { GridDataContext } from \"./GridDataContext\";\nimport { GridActionsContext } from \"./GridActionsContext\";\nimport SortableContainer from \"./SortableContainer\";\nimport Instance from \"./Instance\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction GridInner({\n  components\n}) {\n  _s();\n  var _grid$rows, _grid$cols;\n  const {\n    containersRender,\n    instances,\n    activeId: globalActiveId,\n    activeSize\n  } = useContext(GridDataContext);\n  const {\n    handleDragStart: handleDragStartProp,\n    handleDragOver: handleDragOverProp,\n    handleDragEnd: handleDragEndProp,\n    handleDragCancel: handleDragCancelProp,\n    useRenderCount\n  } = useContext(GridActionsContext);\n  const sensors = useSensors(useSensor(TouchSensor, {\n    activationConstraint: {\n      delay: 500,\n      tolerance: 8\n    }\n  }), useSensor(PointerSensor));\n  const containerIds = useMemo(() => containersRender.map(c => c.id), [containersRender]);\n  const activeInstance = useMemo(() => {\n    if (!activeId) return null;\n    return instances.find(x => x.id === activeId) || null;\n  }, [activeId, instances]);\n  useRenderCount(\"Grid\");\n  const grid = state.grid;\n  const gridId = grid === null || grid === void 0 ? void 0 : grid._id;\n  const rows = (_grid$rows = grid === null || grid === void 0 ? void 0 : grid.rows) !== null && _grid$rows !== void 0 ? _grid$rows : 1;\n  const cols = (_grid$cols = grid === null || grid === void 0 ? void 0 : grid.cols) !== null && _grid$cols !== void 0 ? _grid$cols : 1;\n  const visiblePanels = state.panels.filter(p => p.gridId === gridId);\n  const gridRef = useRef(null);\n  const [activeId, setActiveId] = useState(globalActiveId);\n  const [activeData, setActiveData] = useState(null);\n  const [panelDragging, setPanelDragging] = useState(false);\n\n  /* ------------------------------------------------------------\n      ðŸ”¥ NEW: Track transform during panel drag\n  ------------------------------------------------------------ */\n  const panelDragLiveRef = useRef({\n    id: null,\n    dx: 0,\n    dy: 0\n  });\n\n  /* ------------------------------------------------------------\n      GRID SIZE STATE\n  ------------------------------------------------------------ */\n  const ensureSizes = (arr, count) => {\n    // If no sizes yet, create a fresh array\n    if (!Array.isArray(arr) || arr.length === 0) {\n      return Array(count).fill(1);\n    }\n\n    // If already the right length, keep as-is\n    if (arr.length === count) {\n      return arr;\n    }\n\n    // If fewer entries than count, pad with 1s\n    if (arr.length < count) {\n      return [...arr, ...Array(count - arr.length).fill(1)];\n    }\n\n    // If more entries than count, truncate\n    return arr.slice(0, count);\n  };\n  const [colSizes, setColSizes] = useState(() => ensureSizes(grid.colSizes, cols));\n  const [rowSizes, setRowSizes] = useState(() => ensureSizes(grid.rowSizes, rows));\n  useEffect(() => setColSizes(ensureSizes(grid.colSizes, cols)), [grid.colSizes, cols]);\n  useEffect(() => setRowSizes(ensureSizes(grid.rowSizes, rows)), [grid.rowSizes, rows]);\n  useEffect(() => {\n    if (gridRef.current) {\n      gridRef.current.dataset.sizes = JSON.stringify({\n        colSizes,\n        rowSizes\n      });\n    }\n  }, [colSizes, rowSizes]);\n  const colTemplate = colSizes.map(s => `${s}fr`).join(\" \");\n  const rowTemplate = rowSizes.map(s => `${s}fr`).join(\" \");\n  const getPanel = id => visiblePanels.find(p => p.id === id);\n\n  /* ------------------------------------------------------------\n      POINTER â†’ CELL\n  ------------------------------------------------------------ */\n  const getCellFromPointer = (clientX, clientY) => {\n    const rect = gridRef.current.getBoundingClientRect();\n    const relX = (clientX - rect.left) / rect.width;\n    const relY = (clientY - rect.top) / rect.height;\n    let col = 0;\n    let row = 0;\n    const totalCols = colSizes.reduce((a, b) => a + b, 0);\n    let acc = 0;\n    for (let i = 0; i < colSizes.length; i++) {\n      acc += colSizes[i];\n      if (relX < acc / totalCols) {\n        col = i;\n        break;\n      }\n    }\n    const totalRows = rowSizes.reduce((a, b) => a + b, 0);\n    acc = 0;\n    for (let i = 0; i < rowSizes.length; i++) {\n      acc += rowSizes[i];\n      if (relY < acc / totalRows) {\n        row = i;\n        break;\n      }\n    }\n    return {\n      row,\n      col\n    };\n  };\n  const getColPosition = i => {\n    const total = colSizes.reduce((a, b) => a + b, 0);\n    const before = colSizes.slice(0, i + 1).reduce((a, b) => a + b, 0);\n    return before / total * 100;\n  };\n  const getRowPosition = i => {\n    const total = rowSizes.reduce((a, b) => a + b, 0);\n    const before = rowSizes.slice(0, i + 1).reduce((a, b) => a + b, 0);\n    return before / total * 100;\n  };\n\n  /* ------------------------------------------------------------\n      DRAG START\n  ------------------------------------------------------------ */\n  const handleDragStart = event => {\n    setActiveId(event.active.id);\n    setActiveData(event.active.data.current);\n    const data = event.active.data.current;\n    if ((data === null || data === void 0 ? void 0 : data.role) === \"panel\") {\n      panelDragLiveRef.current = {\n        id: data.panelId,\n        dx: 0,\n        dy: 0\n      };\n      setPanelDragging(true);\n    } else {\n      handleDragStartProp(event);\n    }\n  };\n\n  /* ------------------------------------------------------------\n      ðŸ”¥ DRAG MOVE â€” Smooth panel transform\n  ------------------------------------------------------------ */\n  const handleDragMove = event => {\n    const data = event.active.data.current;\n\n    // ðŸ‘‡ Tasks: do nothing here, let onDragOver drive preview/sorting\n    if (!data || data.role !== \"panel\") return;\n\n    // Panels: smooth transform while dragging\n    const p = document.querySelector(`[data-panel-id='${data.panelId}']`);\n    if (p) {\n      p.style.transition = \"none\";\n      p.style.transform = `translate(${event.delta.x}px, ${event.delta.y}px)`;\n    }\n    panelDragLiveRef.current.dx = event.delta.x;\n    panelDragLiveRef.current.dy = event.delta.y;\n  };\n\n  /* ------------------------------------------------------------\n      SANITIZE PLACEMENT\n  ------------------------------------------------------------ */\n  const sanitizePanelPlacement = (panel, rows, cols) => ({\n    ...panel,\n    row: Math.max(0, Math.min(panel.row, rows - 1)),\n    col: Math.max(0, Math.min(panel.col, cols - 1)),\n    width: panel.width,\n    height: panel.height\n  });\n\n  /* ------------------------------------------------------------\n      ðŸ”¥ DRAG END â€” Commit final placement ONCE\n  ------------------------------------------------------------ */\n  const handleDragEnd = event => {\n    var _active$data;\n    const {\n      active\n    } = event;\n    setActiveId(null);\n    setPanelDragging(false);\n    const data = active === null || active === void 0 ? void 0 : (_active$data = active.data) === null || _active$data === void 0 ? void 0 : _active$data.current;\n    if (!data) return;\n    if (data.role !== \"panel\") {\n      handleDragEndProp(event);\n      return;\n    }\n    const panel = getPanel(active.id);\n    if (!panel) return;\n    const pointerX = event.activatorEvent.clientX + panelDragLiveRef.current.dx;\n    const pointerY = event.activatorEvent.clientY + panelDragLiveRef.current.dy;\n    const {\n      col,\n      row\n    } = getCellFromPointer(pointerX, pointerY);\n    let updated = sanitizePanelPlacement({\n      ...panel,\n      col,\n      row\n    }, rows, cols);\n    dispatch(updatePanel(updated));\n    emit(\"update_panel\", {\n      panel: updated,\n      gridId\n    });\n\n    /* ðŸ”¥ Reset transform after drop */\n    const p = document.querySelector(`[data-panel-id='${panel.id}']`);\n    if (p) {\n      p.style.transition = \"transform 150ms ease\";\n      p.style.transform = \"translate(0,0)\";\n    }\n    panelDragLiveRef.current = {\n      id: null,\n      dx: 0,\n      dy: 0\n    };\n  };\n\n  /* ------------------------------------------------------------\n      GRID RESIZING (unchanged)\n  ------------------------------------------------------------ */\n  const resizePendingRef = useRef({\n    rowSizes: null,\n    colSizes: null\n  });\n  const finalizeResize = () => {\n    var _state$grid, _pending$rowSizes, _pending$colSizes, _pending$rowSizes2, _pending$colSizes2;\n    const pending = resizePendingRef.current;\n    if (!pending.rowSizes && !pending.colSizes) return;\n    if (!((_state$grid = state.grid) !== null && _state$grid !== void 0 && _state$grid._id)) return;\n    dispatch(updateGrid({\n      _id: state.grid._id,\n      rows: state.grid.rows,\n      cols: state.grid.cols,\n      rowSizes: (_pending$rowSizes = pending.rowSizes) !== null && _pending$rowSizes !== void 0 ? _pending$rowSizes : rowSizes,\n      colSizes: (_pending$colSizes = pending.colSizes) !== null && _pending$colSizes !== void 0 ? _pending$colSizes : colSizes\n    }));\n    emit(\"update_grid\", {\n      gridId: state.grid._id,\n      grid: {\n        _id: state.grid._id,\n        rows: state.grid.rows,\n        cols: state.grid.cols,\n        rowSizes: (_pending$rowSizes2 = pending.rowSizes) !== null && _pending$rowSizes2 !== void 0 ? _pending$rowSizes2 : rowSizes,\n        colSizes: (_pending$colSizes2 = pending.colSizes) !== null && _pending$colSizes2 !== void 0 ? _pending$colSizes2 : colSizes\n      }\n    });\n    resizePendingRef.current = {\n      rowSizes: null,\n      colSizes: null\n    };\n  };\n  const getGridWidth = () => {\n    var _gridRef$current;\n    return ((_gridRef$current = gridRef.current) === null || _gridRef$current === void 0 ? void 0 : _gridRef$current.clientWidth) || 1;\n  };\n  const getGridHeight = () => {\n    var _gridRef$current2;\n    return ((_gridRef$current2 = gridRef.current) === null || _gridRef$current2 === void 0 ? void 0 : _gridRef$current2.clientHeight) || 1;\n  };\n  const resizeColumn = (i, pixelDelta) => {\n    const gridWidth = getGridWidth();\n    setColSizes(sizes => {\n      const next = i + 1;\n      if (next >= sizes.length) return sizes;\n      const total = sizes.reduce((a, b) => a + b, 0);\n      const frDelta = pixelDelta / gridWidth * total;\n      const copy = [...sizes];\n      copy[i] = Math.max(0.3, copy[i] + frDelta);\n      copy[next] = Math.max(0.3, copy[next] - frDelta);\n      resizePendingRef.current.colSizes = copy;\n      return copy;\n    });\n  };\n  const resizeRow = (i, pixelDelta) => {\n    const gridHeight = getGridHeight();\n    setRowSizes(sizes => {\n      const next = i + 1;\n      if (next >= sizes.length) return sizes;\n      const total = sizes.reduce((a, b) => a + b, 0);\n      const frDelta = pixelDelta / gridHeight * total;\n      const copy = [...sizes];\n      copy[i] = Math.max(0.3, copy[i] + frDelta);\n      copy[next] = Math.max(0.3, copy[next] - frDelta);\n      resizePendingRef.current.rowSizes = copy;\n      return copy;\n    });\n  };\n  const getClientX = e => e.touches ? e.touches[0].clientX : e.clientX;\n  const getClientY = e => e.touches ? e.touches[0].clientY : e.clientY;\n  const startColResize = (e, i) => {\n    e.preventDefault();\n    let startX = getClientX(e);\n    const move = ev => {\n      ev.preventDefault();\n      const currentX = getClientX(ev);\n      const delta = currentX - startX;\n      startX = currentX;\n      resizeColumn(i, delta);\n    };\n    const stop = () => {\n      window.removeEventListener(\"mousemove\", move);\n      window.removeEventListener(\"mouseup\", stop);\n      window.removeEventListener(\"touchmove\", move);\n      window.removeEventListener(\"touchend\", stop);\n      finalizeResize();\n    };\n    window.addEventListener(\"mousemove\", move);\n    window.addEventListener(\"mouseup\", stop);\n    window.addEventListener(\"touchmove\", move);\n    window.addEventListener(\"touchend\", stop);\n  };\n  const startRowResize = (e, i) => {\n    e.preventDefault();\n    let startY = getClientY(e);\n    const move = ev => {\n      ev.preventDefault();\n      const currentY = getClientY(ev);\n      const delta = currentY - startY;\n      startY = currentY;\n      resizeRow(i, delta);\n    };\n    const stop = () => {\n      window.removeEventListener(\"mousemove\", move);\n      window.removeEventListener(\"mouseup\", stop);\n      window.removeEventListener(\"touchmove\", move);\n      window.removeEventListener(\"touchend\", stop);\n      finalizeResize();\n    };\n    window.addEventListener(\"mousemove\", move);\n    window.addEventListener(\"mouseup\", stop);\n    window.addEventListener(\"touchmove\", move);\n    window.addEventListener(\"touchend\", stop);\n  };\n  if (!(grid !== null && grid !== void 0 && grid._id)) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading grid\\u2026\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 381,\n    columnNumber: 26\n  }, this);\n  return /*#__PURE__*/_jsxDEV(DndContext, {\n    sensors: sensors,\n    onDragStart: handleDragStart,\n    onDragMove: handleDragMove,\n    onDragOver: handleDragOverProp,\n    onDragEnd: handleDragEnd,\n    onDragCancel: handleDragCancel,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"absolute\",\n        inset: 0,\n        background: \"#1D2125\",\n        overflow: \"hidden\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: gridRef,\n        style: {\n          position: \"absolute\",\n          inset: 0,\n          display: \"grid\",\n          gridTemplateColumns: colTemplate,\n          gridTemplateRows: rowTemplate,\n          width: \"100%\",\n          height: \"93vh\",\n          overflow: \"hidden\",\n          touchAction: \"none\",\n          overscrollBehaviorY: \"none\"\n        },\n        children: [[...Array(rows)].map((_, r) => [...Array(cols)].map((_, c) => {\n          const dark = (r + c) % 2 === 0;\n          return /*#__PURE__*/_jsxDEV(CellDroppable, {\n            r: r,\n            c: c,\n            dark: dark\n          }, `${r}-${c}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 22\n          }, this);\n        })), [...Array(cols - 1)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          onMouseDown: e => startColResize(e, i),\n          onTouchStart: e => startColResize(e, i),\n          style: {\n            position: \"absolute\",\n            top: 0,\n            bottom: 0,\n            left: `${getColPosition(i)}%`,\n            width: 6,\n            marginLeft: -3,\n            cursor: \"col-resize\",\n            zIndex: 50,\n            background: \"transparent\"\n          }\n        }, `col-resize-${i}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 13\n        }, this)), [...Array(rows - 1)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          onMouseDown: e => startRowResize(e, i),\n          onTouchStart: e => startRowResize(e, i),\n          style: {\n            position: \"absolute\",\n            left: 0,\n            right: 0,\n            top: `${getRowPosition(i)}%`,\n            height: 6,\n            marginTop: -3,\n            cursor: \"row-resize\",\n            zIndex: 50,\n            background: \"transparent\"\n          }\n        }, `row-resize-${i}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 13\n        }, this)), visiblePanels.map(p => /*#__PURE__*/_jsxDEV(Panel, {\n          panel: p,\n          dispatch: dispatch,\n          gridRef: gridRef,\n          cols: cols,\n          rows: rows,\n          activeId: activeId,\n          components: components,\n          gridActive: panelDragging,\n          addContainer: addContainer\n        }, p.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(DragOverlay, {\n      dropAnimation: null,\n      zIndex: 100000,\n      children: [activeId && getPanel(activeId) ? /*#__PURE__*/_jsxDEV(PanelClone, {\n        panel: getPanel(activeId)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 11\n      }, this) : null, !getPanel(activeId) && activeData ? renderDragOverlay({\n        active: {\n          id: activeId,\n          data: {\n            current: activeData\n          }\n        }\n      }) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 383,\n    columnNumber: 5\n  }, this);\n}\n_s(GridInner, \"r+5LkVsUyprYLZlFzCQSGQ5mFV8=\", false, function () {\n  return [useSensors, useSensor, useSensor, useRenderCount];\n});\n_c = GridInner;\nexport default _c2 = /*#__PURE__*/React.memo(GridInner);\nvar _c, _c2;\n$RefreshReg$(_c, \"GridInner\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useContext","useMemo","DndContext","DragOverlay","PointerSensor","useSensor","useSensors","SortableContext","rectSortingStrategy","verticalListSortingStrategy","GridDataContext","GridActionsContext","SortableContainer","Instance","jsxDEV","_jsxDEV","GridInner","components","_s","_grid$rows","_grid$cols","containersRender","instances","activeId","globalActiveId","activeSize","handleDragStart","handleDragStartProp","handleDragOver","handleDragOverProp","handleDragEnd","handleDragEndProp","handleDragCancel","handleDragCancelProp","useRenderCount","sensors","TouchSensor","activationConstraint","delay","tolerance","containerIds","map","c","id","activeInstance","find","x","grid","state","gridId","_id","rows","cols","visiblePanels","panels","filter","p","gridRef","useRef","setActiveId","useState","activeData","setActiveData","panelDragging","setPanelDragging","panelDragLiveRef","dx","dy","ensureSizes","arr","count","Array","isArray","length","fill","slice","colSizes","setColSizes","rowSizes","setRowSizes","useEffect","current","dataset","sizes","JSON","stringify","colTemplate","s","join","rowTemplate","getPanel","getCellFromPointer","clientX","clientY","rect","getBoundingClientRect","relX","left","width","relY","top","height","col","row","totalCols","reduce","a","b","acc","i","totalRows","getColPosition","total","before","getRowPosition","event","active","data","role","panelId","handleDragMove","document","querySelector","style","transition","transform","delta","y","sanitizePanelPlacement","panel","Math","max","min","_active$data","pointerX","activatorEvent","pointerY","updated","dispatch","updatePanel","emit","resizePendingRef","finalizeResize","_state$grid","_pending$rowSizes","_pending$colSizes","_pending$rowSizes2","_pending$colSizes2","pending","updateGrid","getGridWidth","_gridRef$current","clientWidth","getGridHeight","_gridRef$current2","clientHeight","resizeColumn","pixelDelta","gridWidth","next","frDelta","copy","resizeRow","gridHeight","getClientX","e","touches","getClientY","startColResize","preventDefault","startX","move","ev","currentX","stop","window","removeEventListener","addEventListener","startRowResize","startY","currentY","children","fileName","_jsxFileName","lineNumber","columnNumber","onDragStart","onDragMove","onDragOver","onDragEnd","onDragCancel","position","inset","background","overflow","ref","display","gridTemplateColumns","gridTemplateRows","touchAction","overscrollBehaviorY","_","r","dark","CellDroppable","onMouseDown","onTouchStart","bottom","marginLeft","cursor","zIndex","right","marginTop","Panel","gridActive","addContainer","dropAnimation","PanelClone","renderDragOverlay","_c","_c2","memo","$RefreshReg$"],"sources":["/home/joshpoms/dndtest2/client/src/Grid.jsx"],"sourcesContent":["import React, { useContext, useMemo } from \"react\";\nimport {\n  DndContext,\n  DragOverlay,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from \"@dnd-kit/core\";\nimport { SortableContext, rectSortingStrategy, verticalListSortingStrategy } from \"@dnd-kit/sortable\";\n\nimport { GridDataContext } from \"./GridDataContext\";\nimport { GridActionsContext } from \"./GridActionsContext\";\nimport SortableContainer from \"./SortableContainer\";\nimport Instance from \"./Instance\";\n\nfunction GridInner({components}) {\n  const { containersRender, instances, activeId: globalActiveId, activeSize } =\n    useContext(GridDataContext);\n\n  const {\n    handleDragStart: handleDragStartProp,\n    handleDragOver: handleDragOverProp,\n    handleDragEnd: handleDragEndProp,\n    handleDragCancel: handleDragCancelProp,\n    useRenderCount,\n  } = useContext(GridActionsContext);\n\n  const sensors = useSensors(\n    useSensor(TouchSensor, {\n      activationConstraint: { delay: 500, tolerance: 8 }\n    }),\n    useSensor(PointerSensor)\n  );\n\n  const containerIds = useMemo(\n    () => containersRender.map((c) => c.id),\n    [containersRender]\n  );\n\n  const activeInstance = useMemo(() => {\n    if (!activeId) return null;\n    return instances.find((x) => x.id === activeId) || null;\n  }, [activeId, instances]);\n\n  useRenderCount(\"Grid\");\nconst grid = state.grid;\n  const gridId = grid?._id;\n  const rows = grid?.rows ?? 1;\n  const cols = grid?.cols ?? 1;\n\n  const visiblePanels = state.panels.filter((p) => p.gridId === gridId);\n\n  const gridRef = useRef(null);\n  const [activeId, setActiveId] = useState(globalActiveId);\n  const [activeData, setActiveData] = useState(null);\n  const [panelDragging, setPanelDragging] = useState(false);\n\n  /* ------------------------------------------------------------\n      ðŸ”¥ NEW: Track transform during panel drag\n  ------------------------------------------------------------ */\n  const panelDragLiveRef = useRef({ id: null, dx: 0, dy: 0 });\n\n  /* ------------------------------------------------------------\n      GRID SIZE STATE\n  ------------------------------------------------------------ */\n const ensureSizes = (arr, count) => {\n  // If no sizes yet, create a fresh array\n  if (!Array.isArray(arr) || arr.length === 0) {\n    return Array(count).fill(1);\n  }\n\n  // If already the right length, keep as-is\n  if (arr.length === count) {\n    return arr;\n  }\n\n  // If fewer entries than count, pad with 1s\n  if (arr.length < count) {\n    return [...arr, ...Array(count - arr.length).fill(1)];\n  }\n\n  // If more entries than count, truncate\n  return arr.slice(0, count);\n};\n\n\n  const [colSizes, setColSizes] = useState(() =>\n    ensureSizes(grid.colSizes, cols)\n  );\n  const [rowSizes, setRowSizes] = useState(() =>\n    ensureSizes(grid.rowSizes, rows)\n  );\n\n  useEffect(() => setColSizes(ensureSizes(grid.colSizes, cols)), [\n    grid.colSizes,\n    cols\n  ]);\n  useEffect(() => setRowSizes(ensureSizes(grid.rowSizes, rows)), [\n    grid.rowSizes,\n    rows\n  ]);\n\n  useEffect(() => {\n    if (gridRef.current) {\n      gridRef.current.dataset.sizes = JSON.stringify({ colSizes, rowSizes });\n    }\n  }, [colSizes, rowSizes]);\n\n  const colTemplate = colSizes.map((s) => `${s}fr`).join(\" \");\n  const rowTemplate = rowSizes.map((s) => `${s}fr`).join(\" \");\n\n\n\n  const getPanel = (id) => visiblePanels.find((p) => p.id === id);\n\n  /* ------------------------------------------------------------\n      POINTER â†’ CELL\n  ------------------------------------------------------------ */\n  const getCellFromPointer = (clientX, clientY) => {\n    const rect = gridRef.current.getBoundingClientRect();\n    const relX = (clientX - rect.left) / rect.width;\n    const relY = (clientY - rect.top) / rect.height;\n\n    let col = 0;\n    let row = 0;\n\n    const totalCols = colSizes.reduce((a, b) => a + b, 0);\n    let acc = 0;\n    for (let i = 0; i < colSizes.length; i++) {\n      acc += colSizes[i];\n      if (relX < acc / totalCols) { col = i; break; }\n    }\n\n    const totalRows = rowSizes.reduce((a, b) => a + b, 0);\n    acc = 0;\n    for (let i = 0; i < rowSizes.length; i++) {\n      acc += rowSizes[i];\n      if (relY < acc / totalRows) { row = i; break; }\n    }\n\n    return { row, col };\n  };\n\n  const getColPosition = (i) => {\n    const total = colSizes.reduce((a, b) => a + b, 0);\n    const before = colSizes.slice(0, i + 1).reduce((a, b) => a + b, 0);\n    return (before / total) * 100;\n  };\n\n  const getRowPosition = (i) => {\n    const total = rowSizes.reduce((a, b) => a + b, 0);\n    const before = rowSizes.slice(0, i + 1).reduce((a, b) => a + b, 0);\n    return (before / total) * 100;\n  };\n\n  /* ------------------------------------------------------------\n      DRAG START\n  ------------------------------------------------------------ */\n  const handleDragStart = (event) => {\n    setActiveId(event.active.id);\n    setActiveData(event.active.data.current);\n\n    const data = event.active.data.current;\n\n    if (data?.role === \"panel\") {\n      panelDragLiveRef.current = { id: data.panelId, dx: 0, dy: 0 };\n      setPanelDragging(true);\n    } else {\n      handleDragStartProp(event);\n    }\n  };\n\n  /* ------------------------------------------------------------\n      ðŸ”¥ DRAG MOVE â€” Smooth panel transform\n  ------------------------------------------------------------ */\nconst handleDragMove = (event) => {\n  const data = event.active.data.current;\n\n  // ðŸ‘‡ Tasks: do nothing here, let onDragOver drive preview/sorting\n  if (!data || data.role !== \"panel\") return;\n\n  // Panels: smooth transform while dragging\n  const p = document.querySelector(`[data-panel-id='${data.panelId}']`);\n  if (p) {\n    p.style.transition = \"none\";\n    p.style.transform = `translate(${event.delta.x}px, ${event.delta.y}px)`;\n  }\n\n  panelDragLiveRef.current.dx = event.delta.x;\n  panelDragLiveRef.current.dy = event.delta.y;\n};\n\n  /* ------------------------------------------------------------\n      SANITIZE PLACEMENT\n  ------------------------------------------------------------ */\n  const sanitizePanelPlacement = (panel, rows, cols) => ({\n    ...panel,\n    row: Math.max(0, Math.min(panel.row, rows - 1)),\n    col: Math.max(0, Math.min(panel.col, cols - 1)),\n    width: panel.width,\n    height: panel.height\n  });\n\n  /* ------------------------------------------------------------\n      ðŸ”¥ DRAG END â€” Commit final placement ONCE\n  ------------------------------------------------------------ */\n  const handleDragEnd = (event) => {\n    const { active } = event;\n\n    setActiveId(null);\n    setPanelDragging(false);\n\n    const data = active?.data?.current;\n    if (!data) return;\n\n    if (data.role !== \"panel\") {\n      handleDragEndProp(event);\n      return;\n    }\n\n    const panel = getPanel(active.id);\n    if (!panel) return;\n\n    const pointerX = event.activatorEvent.clientX + panelDragLiveRef.current.dx;\n    const pointerY = event.activatorEvent.clientY + panelDragLiveRef.current.dy;\n\n    const { col, row } = getCellFromPointer(pointerX, pointerY);\n\n    let updated = sanitizePanelPlacement(\n      { ...panel, col, row },\n      rows,\n      cols\n    );\n\n    dispatch(updatePanel(updated));\n    emit(\"update_panel\", { panel: updated, gridId });\n\n    /* ðŸ”¥ Reset transform after drop */\n    const p = document.querySelector(`[data-panel-id='${panel.id}']`);\n    if (p) {\n      p.style.transition = \"transform 150ms ease\";\n      p.style.transform = \"translate(0,0)\";\n    }\n\n    panelDragLiveRef.current = { id: null, dx: 0, dy: 0 };\n  };\n\n  /* ------------------------------------------------------------\n      GRID RESIZING (unchanged)\n  ------------------------------------------------------------ */\n  const resizePendingRef = useRef({\n    rowSizes: null,\n    colSizes: null\n  });\n\n  const finalizeResize = () => {\n    const pending = resizePendingRef.current;\n    if (!pending.rowSizes && !pending.colSizes) return;\n    if (!state.grid?._id) return;\n\n    dispatch(\n      updateGrid({\n        _id: state.grid._id,\n        rows: state.grid.rows,\n        cols: state.grid.cols,\n        rowSizes: pending.rowSizes ?? rowSizes,\n        colSizes: pending.colSizes ?? colSizes\n      })\n    );\n\n    emit(\"update_grid\", {\n      gridId: state.grid._id,\n      grid: {\n        _id: state.grid._id,\n        rows: state.grid.rows,\n        cols: state.grid.cols,\n        rowSizes: pending.rowSizes ?? rowSizes,\n        colSizes: pending.colSizes ?? colSizes\n      }\n    });\n\n    resizePendingRef.current = { rowSizes: null, colSizes: null };\n  };\n\n  const getGridWidth = () => gridRef.current?.clientWidth || 1;\n  const getGridHeight = () => gridRef.current?.clientHeight || 1;\n\n  const resizeColumn = (i, pixelDelta) => {\n    const gridWidth = getGridWidth();\n    setColSizes((sizes) => {\n      const next = i + 1;\n      if (next >= sizes.length) return sizes;\n\n      const total = sizes.reduce((a, b) => a + b, 0);\n      const frDelta = (pixelDelta / gridWidth) * total;\n\n      const copy = [...sizes];\n      copy[i] = Math.max(0.3, copy[i] + frDelta);\n      copy[next] = Math.max(0.3, copy[next] - frDelta);\n\n      resizePendingRef.current.colSizes = copy;\n      return copy;\n    });\n  };\n\n  const resizeRow = (i, pixelDelta) => {\n    const gridHeight = getGridHeight();\n    setRowSizes((sizes) => {\n      const next = i + 1;\n      if (next >= sizes.length) return sizes;\n\n      const total = sizes.reduce((a, b) => a + b, 0);\n      const frDelta = (pixelDelta / gridHeight) * total;\n\n      const copy = [...sizes];\n      copy[i] = Math.max(0.3, copy[i] + frDelta);\n      copy[next] = Math.max(0.3, copy[next] - frDelta);\n\n      resizePendingRef.current.rowSizes = copy;\n      return copy;\n    });\n  };\n\n  const getClientX = (e) => (e.touches ? e.touches[0].clientX : e.clientX);\n  const getClientY = (e) => (e.touches ? e.touches[0].clientY : e.clientY);\n\n  const startColResize = (e, i) => {\n    e.preventDefault();\n    let startX = getClientX(e);\n\n    const move = (ev) => {\n      ev.preventDefault();\n      const currentX = getClientX(ev);\n      const delta = currentX - startX;\n      startX = currentX;\n      resizeColumn(i, delta);\n    };\n\n    const stop = () => {\n      window.removeEventListener(\"mousemove\", move);\n      window.removeEventListener(\"mouseup\", stop);\n      window.removeEventListener(\"touchmove\", move);\n      window.removeEventListener(\"touchend\", stop);\n\n      finalizeResize();\n    };\n\n    window.addEventListener(\"mousemove\", move);\n    window.addEventListener(\"mouseup\", stop);\n    window.addEventListener(\"touchmove\", move);\n    window.addEventListener(\"touchend\", stop);\n  };\n\n  const startRowResize = (e, i) => {\n    e.preventDefault();\n    let startY = getClientY(e);\n\n    const move = (ev) => {\n      ev.preventDefault();\n      const currentY = getClientY(ev);\n      const delta = currentY - startY;\n      startY = currentY;\n      resizeRow(i, delta);\n    };\n\n    const stop = () => {\n      window.removeEventListener(\"mousemove\", move);\n      window.removeEventListener(\"mouseup\", stop);\n      window.removeEventListener(\"touchmove\", move);\n      window.removeEventListener(\"touchend\", stop);\n\n      finalizeResize();\n    };\n\n    window.addEventListener(\"mousemove\", move);\n    window.addEventListener(\"mouseup\", stop);\n    window.addEventListener(\"touchmove\", move);\n    window.addEventListener(\"touchend\", stop);\n  };\n\n  if (!grid?._id) return <div>Loading gridâ€¦</div>;\n  return (\n    <DndContext\n      sensors={sensors}\n      onDragStart={handleDragStart}\n      onDragMove={handleDragMove}\n      onDragOver={handleDragOverProp}\n      onDragEnd={handleDragEnd}\n      onDragCancel={handleDragCancel}\n    >\n  <div style={{ position: \"absolute\", inset: 0, background: \"#1D2125\", overflow: \"hidden\" }}>\n        <div\n          ref={gridRef}\n          style={{\n            position: \"absolute\",\n            inset: 0,\n            display: \"grid\",\n            gridTemplateColumns: colTemplate,\n            gridTemplateRows: rowTemplate,\n            width: \"100%\",\n            height: \"93vh\",\n            overflow: \"hidden\",\n            touchAction: \"none\",\n            overscrollBehaviorY: \"none\"\n          }}\n        >\n          {[...Array(rows)].map((_, r) =>\n            [...Array(cols)].map((_, c) => {\n              const dark = (r + c) % 2 === 0;\n              return <CellDroppable key={`${r}-${c}`} r={r} c={c} dark={dark} />;\n            })\n          )}\n\n          {/* Vertical resizers */}\n          {[...Array(cols - 1)].map((_, i) => (\n            <div\n              key={`col-resize-${i}`}\n              onMouseDown={(e) => startColResize(e, i)}\n              onTouchStart={(e) => startColResize(e, i)}\n              style={{\n                position: \"absolute\",\n                top: 0,\n                bottom: 0,\n                left: `${getColPosition(i)}%`,\n                width: 6,\n                marginLeft: -3,\n                cursor: \"col-resize\",\n                zIndex: 50,\n                background: \"transparent\"\n              }}\n            />\n          ))}\n\n          {/* Row resizers */}\n          {[...Array(rows - 1)].map((_, i) => (\n            <div\n              key={`row-resize-${i}`}\n              onMouseDown={(e) => startRowResize(e, i)}\n              onTouchStart={(e) => startRowResize(e, i)}\n              style={{\n                position: \"absolute\",\n                left: 0,\n                right: 0,\n                top: `${getRowPosition(i)}%`,\n                height: 6,\n                marginTop: -3,\n                cursor: \"row-resize\",\n                zIndex: 50,\n                background: \"transparent\"\n              }}\n            />\n          ))}\n\n          {/* Panels */}\n          {visiblePanels.map((p) => (\n            <Panel\n              key={p.id}\n              panel={p}\n              dispatch={dispatch}\n              gridRef={gridRef}\n              cols={cols}\n              rows={rows}\n              activeId={activeId}\n              components={components}\n              gridActive={panelDragging}\n              addContainer={addContainer}\n            />\n          ))}\n        </div>\n      </div>\n\n      <DragOverlay dropAnimation={null} zIndex={100000}>\n        {activeId && getPanel(activeId) ? (\n          <PanelClone panel={getPanel(activeId)} />\n        ) : null}\n\n        {!getPanel(activeId) && activeData\n          ? renderDragOverlay({\n            active: { id: activeId, data: { current: activeData } }\n          })\n          : null}\n      </DragOverlay>\n    </DndContext>\n  );\n}\n\nexport default React.memo(GridInner);\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,OAAO,QAAQ,OAAO;AAClD,SACEC,UAAU,EACVC,WAAW,EACXC,aAAa,EACbC,SAAS,EACTC,UAAU,QACL,eAAe;AACtB,SAASC,eAAe,EAAEC,mBAAmB,EAAEC,2BAA2B,QAAQ,mBAAmB;AAErG,SAASC,eAAe,QAAQ,mBAAmB;AACnD,SAASC,kBAAkB,QAAQ,sBAAsB;AACzD,OAAOC,iBAAiB,MAAM,qBAAqB;AACnD,OAAOC,QAAQ,MAAM,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,SAASC,SAASA,CAAC;EAACC;AAAU,CAAC,EAAE;EAAAC,EAAA;EAAA,IAAAC,UAAA,EAAAC,UAAA;EAC/B,MAAM;IAAEC,gBAAgB;IAAEC,SAAS;IAAEC,QAAQ,EAAEC,cAAc;IAAEC;EAAW,CAAC,GACzEzB,UAAU,CAACU,eAAe,CAAC;EAE7B,MAAM;IACJgB,eAAe,EAAEC,mBAAmB;IACpCC,cAAc,EAAEC,kBAAkB;IAClCC,aAAa,EAAEC,iBAAiB;IAChCC,gBAAgB,EAAEC,oBAAoB;IACtCC;EACF,CAAC,GAAGlC,UAAU,CAACW,kBAAkB,CAAC;EAElC,MAAMwB,OAAO,GAAG7B,UAAU,CACxBD,SAAS,CAAC+B,WAAW,EAAE;IACrBC,oBAAoB,EAAE;MAAEC,KAAK,EAAE,GAAG;MAAEC,SAAS,EAAE;IAAE;EACnD,CAAC,CAAC,EACFlC,SAAS,CAACD,aAAa,CACzB,CAAC;EAED,MAAMoC,YAAY,GAAGvC,OAAO,CAC1B,MAAMoB,gBAAgB,CAACoB,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,CAAC,EACvC,CAACtB,gBAAgB,CACnB,CAAC;EAED,MAAMuB,cAAc,GAAG3C,OAAO,CAAC,MAAM;IACnC,IAAI,CAACsB,QAAQ,EAAE,OAAO,IAAI;IAC1B,OAAOD,SAAS,CAACuB,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACH,EAAE,KAAKpB,QAAQ,CAAC,IAAI,IAAI;EACzD,CAAC,EAAE,CAACA,QAAQ,EAAED,SAAS,CAAC,CAAC;EAEzBY,cAAc,CAAC,MAAM,CAAC;EACxB,MAAMa,IAAI,GAAGC,KAAK,CAACD,IAAI;EACrB,MAAME,MAAM,GAAGF,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEG,GAAG;EACxB,MAAMC,IAAI,IAAAhC,UAAA,GAAG4B,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI,IAAI,cAAAhC,UAAA,cAAAA,UAAA,GAAI,CAAC;EAC5B,MAAMiC,IAAI,IAAAhC,UAAA,GAAG2B,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEK,IAAI,cAAAhC,UAAA,cAAAA,UAAA,GAAI,CAAC;EAE5B,MAAMiC,aAAa,GAAGL,KAAK,CAACM,MAAM,CAACC,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACP,MAAM,KAAKA,MAAM,CAAC;EAErE,MAAMQ,OAAO,GAAGC,MAAM,CAAC,IAAI,CAAC;EAC5B,MAAM,CAACnC,QAAQ,EAAEoC,WAAW,CAAC,GAAGC,QAAQ,CAACpC,cAAc,CAAC;EACxD,MAAM,CAACqC,UAAU,EAAEC,aAAa,CAAC,GAAGF,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACG,aAAa,EAAEC,gBAAgB,CAAC,GAAGJ,QAAQ,CAAC,KAAK,CAAC;;EAEzD;AACF;AACA;EACE,MAAMK,gBAAgB,GAAGP,MAAM,CAAC;IAAEf,EAAE,EAAE,IAAI;IAAEuB,EAAE,EAAE,CAAC;IAAEC,EAAE,EAAE;EAAE,CAAC,CAAC;;EAE3D;AACF;AACA;EACC,MAAMC,WAAW,GAAGA,CAACC,GAAG,EAAEC,KAAK,KAAK;IACnC;IACA,IAAI,CAACC,KAAK,CAACC,OAAO,CAACH,GAAG,CAAC,IAAIA,GAAG,CAACI,MAAM,KAAK,CAAC,EAAE;MAC3C,OAAOF,KAAK,CAACD,KAAK,CAAC,CAACI,IAAI,CAAC,CAAC,CAAC;IAC7B;;IAEA;IACA,IAAIL,GAAG,CAACI,MAAM,KAAKH,KAAK,EAAE;MACxB,OAAOD,GAAG;IACZ;;IAEA;IACA,IAAIA,GAAG,CAACI,MAAM,GAAGH,KAAK,EAAE;MACtB,OAAO,CAAC,GAAGD,GAAG,EAAE,GAAGE,KAAK,CAACD,KAAK,GAAGD,GAAG,CAACI,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CAAC;IACvD;;IAEA;IACA,OAAOL,GAAG,CAACM,KAAK,CAAC,CAAC,EAAEL,KAAK,CAAC;EAC5B,CAAC;EAGC,MAAM,CAACM,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC,MACvCQ,WAAW,CAACrB,IAAI,CAAC6B,QAAQ,EAAExB,IAAI,CACjC,CAAC;EACD,MAAM,CAAC0B,QAAQ,EAAEC,WAAW,CAAC,GAAGnB,QAAQ,CAAC,MACvCQ,WAAW,CAACrB,IAAI,CAAC+B,QAAQ,EAAE3B,IAAI,CACjC,CAAC;EAED6B,SAAS,CAAC,MAAMH,WAAW,CAACT,WAAW,CAACrB,IAAI,CAAC6B,QAAQ,EAAExB,IAAI,CAAC,CAAC,EAAE,CAC7DL,IAAI,CAAC6B,QAAQ,EACbxB,IAAI,CACL,CAAC;EACF4B,SAAS,CAAC,MAAMD,WAAW,CAACX,WAAW,CAACrB,IAAI,CAAC+B,QAAQ,EAAE3B,IAAI,CAAC,CAAC,EAAE,CAC7DJ,IAAI,CAAC+B,QAAQ,EACb3B,IAAI,CACL,CAAC;EAEF6B,SAAS,CAAC,MAAM;IACd,IAAIvB,OAAO,CAACwB,OAAO,EAAE;MACnBxB,OAAO,CAACwB,OAAO,CAACC,OAAO,CAACC,KAAK,GAAGC,IAAI,CAACC,SAAS,CAAC;QAAET,QAAQ;QAAEE;MAAS,CAAC,CAAC;IACxE;EACF,CAAC,EAAE,CAACF,QAAQ,EAAEE,QAAQ,CAAC,CAAC;EAExB,MAAMQ,WAAW,GAAGV,QAAQ,CAACnC,GAAG,CAAE8C,CAAC,IAAK,GAAGA,CAAC,IAAI,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;EAC3D,MAAMC,WAAW,GAAGX,QAAQ,CAACrC,GAAG,CAAE8C,CAAC,IAAK,GAAGA,CAAC,IAAI,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;EAI3D,MAAME,QAAQ,GAAI/C,EAAE,IAAKU,aAAa,CAACR,IAAI,CAAEW,CAAC,IAAKA,CAAC,CAACb,EAAE,KAAKA,EAAE,CAAC;;EAE/D;AACF;AACA;EACE,MAAMgD,kBAAkB,GAAGA,CAACC,OAAO,EAAEC,OAAO,KAAK;IAC/C,MAAMC,IAAI,GAAGrC,OAAO,CAACwB,OAAO,CAACc,qBAAqB,CAAC,CAAC;IACpD,MAAMC,IAAI,GAAG,CAACJ,OAAO,GAAGE,IAAI,CAACG,IAAI,IAAIH,IAAI,CAACI,KAAK;IAC/C,MAAMC,IAAI,GAAG,CAACN,OAAO,GAAGC,IAAI,CAACM,GAAG,IAAIN,IAAI,CAACO,MAAM;IAE/C,IAAIC,GAAG,GAAG,CAAC;IACX,IAAIC,GAAG,GAAG,CAAC;IAEX,MAAMC,SAAS,GAAG5B,QAAQ,CAAC6B,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC;IACrD,IAAIC,GAAG,GAAG,CAAC;IACX,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGjC,QAAQ,CAACH,MAAM,EAAEoC,CAAC,EAAE,EAAE;MACxCD,GAAG,IAAIhC,QAAQ,CAACiC,CAAC,CAAC;MAClB,IAAIb,IAAI,GAAGY,GAAG,GAAGJ,SAAS,EAAE;QAAEF,GAAG,GAAGO,CAAC;QAAE;MAAO;IAChD;IAEA,MAAMC,SAAS,GAAGhC,QAAQ,CAAC2B,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC;IACrDC,GAAG,GAAG,CAAC;IACP,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG/B,QAAQ,CAACL,MAAM,EAAEoC,CAAC,EAAE,EAAE;MACxCD,GAAG,IAAI9B,QAAQ,CAAC+B,CAAC,CAAC;MAClB,IAAIV,IAAI,GAAGS,GAAG,GAAGE,SAAS,EAAE;QAAEP,GAAG,GAAGM,CAAC;QAAE;MAAO;IAChD;IAEA,OAAO;MAAEN,GAAG;MAAED;IAAI,CAAC;EACrB,CAAC;EAED,MAAMS,cAAc,GAAIF,CAAC,IAAK;IAC5B,MAAMG,KAAK,GAAGpC,QAAQ,CAAC6B,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC;IACjD,MAAMM,MAAM,GAAGrC,QAAQ,CAACD,KAAK,CAAC,CAAC,EAAEkC,CAAC,GAAG,CAAC,CAAC,CAACJ,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC;IAClE,OAAQM,MAAM,GAAGD,KAAK,GAAI,GAAG;EAC/B,CAAC;EAED,MAAME,cAAc,GAAIL,CAAC,IAAK;IAC5B,MAAMG,KAAK,GAAGlC,QAAQ,CAAC2B,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC;IACjD,MAAMM,MAAM,GAAGnC,QAAQ,CAACH,KAAK,CAAC,CAAC,EAAEkC,CAAC,GAAG,CAAC,CAAC,CAACJ,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC;IAClE,OAAQM,MAAM,GAAGD,KAAK,GAAI,GAAG;EAC/B,CAAC;;EAED;AACF;AACA;EACE,MAAMtF,eAAe,GAAIyF,KAAK,IAAK;IACjCxD,WAAW,CAACwD,KAAK,CAACC,MAAM,CAACzE,EAAE,CAAC;IAC5BmB,aAAa,CAACqD,KAAK,CAACC,MAAM,CAACC,IAAI,CAACpC,OAAO,CAAC;IAExC,MAAMoC,IAAI,GAAGF,KAAK,CAACC,MAAM,CAACC,IAAI,CAACpC,OAAO;IAEtC,IAAI,CAAAoC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEC,IAAI,MAAK,OAAO,EAAE;MAC1BrD,gBAAgB,CAACgB,OAAO,GAAG;QAAEtC,EAAE,EAAE0E,IAAI,CAACE,OAAO;QAAErD,EAAE,EAAE,CAAC;QAAEC,EAAE,EAAE;MAAE,CAAC;MAC7DH,gBAAgB,CAAC,IAAI,CAAC;IACxB,CAAC,MAAM;MACLrC,mBAAmB,CAACwF,KAAK,CAAC;IAC5B;EACF,CAAC;;EAED;AACF;AACA;EACA,MAAMK,cAAc,GAAIL,KAAK,IAAK;IAChC,MAAME,IAAI,GAAGF,KAAK,CAACC,MAAM,CAACC,IAAI,CAACpC,OAAO;;IAEtC;IACA,IAAI,CAACoC,IAAI,IAAIA,IAAI,CAACC,IAAI,KAAK,OAAO,EAAE;;IAEpC;IACA,MAAM9D,CAAC,GAAGiE,QAAQ,CAACC,aAAa,CAAC,mBAAmBL,IAAI,CAACE,OAAO,IAAI,CAAC;IACrE,IAAI/D,CAAC,EAAE;MACLA,CAAC,CAACmE,KAAK,CAACC,UAAU,GAAG,MAAM;MAC3BpE,CAAC,CAACmE,KAAK,CAACE,SAAS,GAAG,aAAaV,KAAK,CAACW,KAAK,CAAChF,CAAC,OAAOqE,KAAK,CAACW,KAAK,CAACC,CAAC,KAAK;IACzE;IAEA9D,gBAAgB,CAACgB,OAAO,CAACf,EAAE,GAAGiD,KAAK,CAACW,KAAK,CAAChF,CAAC;IAC3CmB,gBAAgB,CAACgB,OAAO,CAACd,EAAE,GAAGgD,KAAK,CAACW,KAAK,CAACC,CAAC;EAC7C,CAAC;;EAEC;AACF;AACA;EACE,MAAMC,sBAAsB,GAAGA,CAACC,KAAK,EAAE9E,IAAI,EAAEC,IAAI,MAAM;IACrD,GAAG6E,KAAK;IACR1B,GAAG,EAAE2B,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,GAAG,CAACH,KAAK,CAAC1B,GAAG,EAAEpD,IAAI,GAAG,CAAC,CAAC,CAAC;IAC/CmD,GAAG,EAAE4B,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,GAAG,CAACH,KAAK,CAAC3B,GAAG,EAAElD,IAAI,GAAG,CAAC,CAAC,CAAC;IAC/C8C,KAAK,EAAE+B,KAAK,CAAC/B,KAAK;IAClBG,MAAM,EAAE4B,KAAK,CAAC5B;EAChB,CAAC,CAAC;;EAEF;AACF;AACA;EACE,MAAMvE,aAAa,GAAIqF,KAAK,IAAK;IAAA,IAAAkB,YAAA;IAC/B,MAAM;MAAEjB;IAAO,CAAC,GAAGD,KAAK;IAExBxD,WAAW,CAAC,IAAI,CAAC;IACjBK,gBAAgB,CAAC,KAAK,CAAC;IAEvB,MAAMqD,IAAI,GAAGD,MAAM,aAANA,MAAM,wBAAAiB,YAAA,GAANjB,MAAM,CAAEC,IAAI,cAAAgB,YAAA,uBAAZA,YAAA,CAAcpD,OAAO;IAClC,IAAI,CAACoC,IAAI,EAAE;IAEX,IAAIA,IAAI,CAACC,IAAI,KAAK,OAAO,EAAE;MACzBvF,iBAAiB,CAACoF,KAAK,CAAC;MACxB;IACF;IAEA,MAAMc,KAAK,GAAGvC,QAAQ,CAAC0B,MAAM,CAACzE,EAAE,CAAC;IACjC,IAAI,CAACsF,KAAK,EAAE;IAEZ,MAAMK,QAAQ,GAAGnB,KAAK,CAACoB,cAAc,CAAC3C,OAAO,GAAG3B,gBAAgB,CAACgB,OAAO,CAACf,EAAE;IAC3E,MAAMsE,QAAQ,GAAGrB,KAAK,CAACoB,cAAc,CAAC1C,OAAO,GAAG5B,gBAAgB,CAACgB,OAAO,CAACd,EAAE;IAE3E,MAAM;MAAEmC,GAAG;MAAEC;IAAI,CAAC,GAAGZ,kBAAkB,CAAC2C,QAAQ,EAAEE,QAAQ,CAAC;IAE3D,IAAIC,OAAO,GAAGT,sBAAsB,CAClC;MAAE,GAAGC,KAAK;MAAE3B,GAAG;MAAEC;IAAI,CAAC,EACtBpD,IAAI,EACJC,IACF,CAAC;IAEDsF,QAAQ,CAACC,WAAW,CAACF,OAAO,CAAC,CAAC;IAC9BG,IAAI,CAAC,cAAc,EAAE;MAAEX,KAAK,EAAEQ,OAAO;MAAExF;IAAO,CAAC,CAAC;;IAEhD;IACA,MAAMO,CAAC,GAAGiE,QAAQ,CAACC,aAAa,CAAC,mBAAmBO,KAAK,CAACtF,EAAE,IAAI,CAAC;IACjE,IAAIa,CAAC,EAAE;MACLA,CAAC,CAACmE,KAAK,CAACC,UAAU,GAAG,sBAAsB;MAC3CpE,CAAC,CAACmE,KAAK,CAACE,SAAS,GAAG,gBAAgB;IACtC;IAEA5D,gBAAgB,CAACgB,OAAO,GAAG;MAAEtC,EAAE,EAAE,IAAI;MAAEuB,EAAE,EAAE,CAAC;MAAEC,EAAE,EAAE;IAAE,CAAC;EACvD,CAAC;;EAED;AACF;AACA;EACE,MAAM0E,gBAAgB,GAAGnF,MAAM,CAAC;IAC9BoB,QAAQ,EAAE,IAAI;IACdF,QAAQ,EAAE;EACZ,CAAC,CAAC;EAEF,MAAMkE,cAAc,GAAGA,CAAA,KAAM;IAAA,IAAAC,WAAA,EAAAC,iBAAA,EAAAC,iBAAA,EAAAC,kBAAA,EAAAC,kBAAA;IAC3B,MAAMC,OAAO,GAAGP,gBAAgB,CAAC5D,OAAO;IACxC,IAAI,CAACmE,OAAO,CAACtE,QAAQ,IAAI,CAACsE,OAAO,CAACxE,QAAQ,EAAE;IAC5C,IAAI,GAAAmE,WAAA,GAAC/F,KAAK,CAACD,IAAI,cAAAgG,WAAA,eAAVA,WAAA,CAAY7F,GAAG,GAAE;IAEtBwF,QAAQ,CACNW,UAAU,CAAC;MACTnG,GAAG,EAAEF,KAAK,CAACD,IAAI,CAACG,GAAG;MACnBC,IAAI,EAAEH,KAAK,CAACD,IAAI,CAACI,IAAI;MACrBC,IAAI,EAAEJ,KAAK,CAACD,IAAI,CAACK,IAAI;MACrB0B,QAAQ,GAAAkE,iBAAA,GAAEI,OAAO,CAACtE,QAAQ,cAAAkE,iBAAA,cAAAA,iBAAA,GAAIlE,QAAQ;MACtCF,QAAQ,GAAAqE,iBAAA,GAAEG,OAAO,CAACxE,QAAQ,cAAAqE,iBAAA,cAAAA,iBAAA,GAAIrE;IAChC,CAAC,CACH,CAAC;IAEDgE,IAAI,CAAC,aAAa,EAAE;MAClB3F,MAAM,EAAED,KAAK,CAACD,IAAI,CAACG,GAAG;MACtBH,IAAI,EAAE;QACJG,GAAG,EAAEF,KAAK,CAACD,IAAI,CAACG,GAAG;QACnBC,IAAI,EAAEH,KAAK,CAACD,IAAI,CAACI,IAAI;QACrBC,IAAI,EAAEJ,KAAK,CAACD,IAAI,CAACK,IAAI;QACrB0B,QAAQ,GAAAoE,kBAAA,GAAEE,OAAO,CAACtE,QAAQ,cAAAoE,kBAAA,cAAAA,kBAAA,GAAIpE,QAAQ;QACtCF,QAAQ,GAAAuE,kBAAA,GAAEC,OAAO,CAACxE,QAAQ,cAAAuE,kBAAA,cAAAA,kBAAA,GAAIvE;MAChC;IACF,CAAC,CAAC;IAEFiE,gBAAgB,CAAC5D,OAAO,GAAG;MAAEH,QAAQ,EAAE,IAAI;MAAEF,QAAQ,EAAE;IAAK,CAAC;EAC/D,CAAC;EAED,MAAM0E,YAAY,GAAGA,CAAA;IAAA,IAAAC,gBAAA;IAAA,OAAM,EAAAA,gBAAA,GAAA9F,OAAO,CAACwB,OAAO,cAAAsE,gBAAA,uBAAfA,gBAAA,CAAiBC,WAAW,KAAI,CAAC;EAAA;EAC5D,MAAMC,aAAa,GAAGA,CAAA;IAAA,IAAAC,iBAAA;IAAA,OAAM,EAAAA,iBAAA,GAAAjG,OAAO,CAACwB,OAAO,cAAAyE,iBAAA,uBAAfA,iBAAA,CAAiBC,YAAY,KAAI,CAAC;EAAA;EAE9D,MAAMC,YAAY,GAAGA,CAAC/C,CAAC,EAAEgD,UAAU,KAAK;IACtC,MAAMC,SAAS,GAAGR,YAAY,CAAC,CAAC;IAChCzE,WAAW,CAAEM,KAAK,IAAK;MACrB,MAAM4E,IAAI,GAAGlD,CAAC,GAAG,CAAC;MAClB,IAAIkD,IAAI,IAAI5E,KAAK,CAACV,MAAM,EAAE,OAAOU,KAAK;MAEtC,MAAM6B,KAAK,GAAG7B,KAAK,CAACsB,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC;MAC9C,MAAMqD,OAAO,GAAIH,UAAU,GAAGC,SAAS,GAAI9C,KAAK;MAEhD,MAAMiD,IAAI,GAAG,CAAC,GAAG9E,KAAK,CAAC;MACvB8E,IAAI,CAACpD,CAAC,CAAC,GAAGqB,IAAI,CAACC,GAAG,CAAC,GAAG,EAAE8B,IAAI,CAACpD,CAAC,CAAC,GAAGmD,OAAO,CAAC;MAC1CC,IAAI,CAACF,IAAI,CAAC,GAAG7B,IAAI,CAACC,GAAG,CAAC,GAAG,EAAE8B,IAAI,CAACF,IAAI,CAAC,GAAGC,OAAO,CAAC;MAEhDnB,gBAAgB,CAAC5D,OAAO,CAACL,QAAQ,GAAGqF,IAAI;MACxC,OAAOA,IAAI;IACb,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,SAAS,GAAGA,CAACrD,CAAC,EAAEgD,UAAU,KAAK;IACnC,MAAMM,UAAU,GAAGV,aAAa,CAAC,CAAC;IAClC1E,WAAW,CAAEI,KAAK,IAAK;MACrB,MAAM4E,IAAI,GAAGlD,CAAC,GAAG,CAAC;MAClB,IAAIkD,IAAI,IAAI5E,KAAK,CAACV,MAAM,EAAE,OAAOU,KAAK;MAEtC,MAAM6B,KAAK,GAAG7B,KAAK,CAACsB,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC;MAC9C,MAAMqD,OAAO,GAAIH,UAAU,GAAGM,UAAU,GAAInD,KAAK;MAEjD,MAAMiD,IAAI,GAAG,CAAC,GAAG9E,KAAK,CAAC;MACvB8E,IAAI,CAACpD,CAAC,CAAC,GAAGqB,IAAI,CAACC,GAAG,CAAC,GAAG,EAAE8B,IAAI,CAACpD,CAAC,CAAC,GAAGmD,OAAO,CAAC;MAC1CC,IAAI,CAACF,IAAI,CAAC,GAAG7B,IAAI,CAACC,GAAG,CAAC,GAAG,EAAE8B,IAAI,CAACF,IAAI,CAAC,GAAGC,OAAO,CAAC;MAEhDnB,gBAAgB,CAAC5D,OAAO,CAACH,QAAQ,GAAGmF,IAAI;MACxC,OAAOA,IAAI;IACb,CAAC,CAAC;EACJ,CAAC;EAED,MAAMG,UAAU,GAAIC,CAAC,IAAMA,CAAC,CAACC,OAAO,GAAGD,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC1E,OAAO,GAAGyE,CAAC,CAACzE,OAAQ;EACxE,MAAM2E,UAAU,GAAIF,CAAC,IAAMA,CAAC,CAACC,OAAO,GAAGD,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC,CAACzE,OAAO,GAAGwE,CAAC,CAACxE,OAAQ;EAExE,MAAM2E,cAAc,GAAGA,CAACH,CAAC,EAAExD,CAAC,KAAK;IAC/BwD,CAAC,CAACI,cAAc,CAAC,CAAC;IAClB,IAAIC,MAAM,GAAGN,UAAU,CAACC,CAAC,CAAC;IAE1B,MAAMM,IAAI,GAAIC,EAAE,IAAK;MACnBA,EAAE,CAACH,cAAc,CAAC,CAAC;MACnB,MAAMI,QAAQ,GAAGT,UAAU,CAACQ,EAAE,CAAC;MAC/B,MAAM9C,KAAK,GAAG+C,QAAQ,GAAGH,MAAM;MAC/BA,MAAM,GAAGG,QAAQ;MACjBjB,YAAY,CAAC/C,CAAC,EAAEiB,KAAK,CAAC;IACxB,CAAC;IAED,MAAMgD,IAAI,GAAGA,CAAA,KAAM;MACjBC,MAAM,CAACC,mBAAmB,CAAC,WAAW,EAAEL,IAAI,CAAC;MAC7CI,MAAM,CAACC,mBAAmB,CAAC,SAAS,EAAEF,IAAI,CAAC;MAC3CC,MAAM,CAACC,mBAAmB,CAAC,WAAW,EAAEL,IAAI,CAAC;MAC7CI,MAAM,CAACC,mBAAmB,CAAC,UAAU,EAAEF,IAAI,CAAC;MAE5ChC,cAAc,CAAC,CAAC;IAClB,CAAC;IAEDiC,MAAM,CAACE,gBAAgB,CAAC,WAAW,EAAEN,IAAI,CAAC;IAC1CI,MAAM,CAACE,gBAAgB,CAAC,SAAS,EAAEH,IAAI,CAAC;IACxCC,MAAM,CAACE,gBAAgB,CAAC,WAAW,EAAEN,IAAI,CAAC;IAC1CI,MAAM,CAACE,gBAAgB,CAAC,UAAU,EAAEH,IAAI,CAAC;EAC3C,CAAC;EAED,MAAMI,cAAc,GAAGA,CAACb,CAAC,EAAExD,CAAC,KAAK;IAC/BwD,CAAC,CAACI,cAAc,CAAC,CAAC;IAClB,IAAIU,MAAM,GAAGZ,UAAU,CAACF,CAAC,CAAC;IAE1B,MAAMM,IAAI,GAAIC,EAAE,IAAK;MACnBA,EAAE,CAACH,cAAc,CAAC,CAAC;MACnB,MAAMW,QAAQ,GAAGb,UAAU,CAACK,EAAE,CAAC;MAC/B,MAAM9C,KAAK,GAAGsD,QAAQ,GAAGD,MAAM;MAC/BA,MAAM,GAAGC,QAAQ;MACjBlB,SAAS,CAACrD,CAAC,EAAEiB,KAAK,CAAC;IACrB,CAAC;IAED,MAAMgD,IAAI,GAAGA,CAAA,KAAM;MACjBC,MAAM,CAACC,mBAAmB,CAAC,WAAW,EAAEL,IAAI,CAAC;MAC7CI,MAAM,CAACC,mBAAmB,CAAC,SAAS,EAAEF,IAAI,CAAC;MAC3CC,MAAM,CAACC,mBAAmB,CAAC,WAAW,EAAEL,IAAI,CAAC;MAC7CI,MAAM,CAACC,mBAAmB,CAAC,UAAU,EAAEF,IAAI,CAAC;MAE5ChC,cAAc,CAAC,CAAC;IAClB,CAAC;IAEDiC,MAAM,CAACE,gBAAgB,CAAC,WAAW,EAAEN,IAAI,CAAC;IAC1CI,MAAM,CAACE,gBAAgB,CAAC,SAAS,EAAEH,IAAI,CAAC;IACxCC,MAAM,CAACE,gBAAgB,CAAC,WAAW,EAAEN,IAAI,CAAC;IAC1CI,MAAM,CAACE,gBAAgB,CAAC,UAAU,EAAEH,IAAI,CAAC;EAC3C,CAAC;EAED,IAAI,EAAC/H,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEG,GAAG,GAAE,oBAAOnC,OAAA;IAAAsK,QAAA,EAAK;EAAa;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EAC/C,oBACE1K,OAAA,CAACb,UAAU;IACTiC,OAAO,EAAEA,OAAQ;IACjBuJ,WAAW,EAAEhK,eAAgB;IAC7BiK,UAAU,EAAEnE,cAAe;IAC3BoE,UAAU,EAAE/J,kBAAmB;IAC/BgK,SAAS,EAAE/J,aAAc;IACzBgK,YAAY,EAAE9J,gBAAiB;IAAAqJ,QAAA,gBAEnCtK,OAAA;MAAK4G,KAAK,EAAE;QAAEoE,QAAQ,EAAE,UAAU;QAAEC,KAAK,EAAE,CAAC;QAAEC,UAAU,EAAE,SAAS;QAAEC,QAAQ,EAAE;MAAS,CAAE;MAAAb,QAAA,eACpFtK,OAAA;QACEoL,GAAG,EAAE1I,OAAQ;QACbkE,KAAK,EAAE;UACLoE,QAAQ,EAAE,UAAU;UACpBC,KAAK,EAAE,CAAC;UACRI,OAAO,EAAE,MAAM;UACfC,mBAAmB,EAAE/G,WAAW;UAChCgH,gBAAgB,EAAE7G,WAAW;UAC7BS,KAAK,EAAE,MAAM;UACbG,MAAM,EAAE,MAAM;UACd6F,QAAQ,EAAE,QAAQ;UAClBK,WAAW,EAAE,MAAM;UACnBC,mBAAmB,EAAE;QACvB,CAAE;QAAAnB,QAAA,GAED,CAAC,GAAG9G,KAAK,CAACpB,IAAI,CAAC,CAAC,CAACV,GAAG,CAAC,CAACgK,CAAC,EAAEC,CAAC,KACzB,CAAC,GAAGnI,KAAK,CAACnB,IAAI,CAAC,CAAC,CAACX,GAAG,CAAC,CAACgK,CAAC,EAAE/J,CAAC,KAAK;UAC7B,MAAMiK,IAAI,GAAG,CAACD,CAAC,GAAGhK,CAAC,IAAI,CAAC,KAAK,CAAC;UAC9B,oBAAO3B,OAAA,CAAC6L,aAAa;YAAmBF,CAAC,EAAEA,CAAE;YAAChK,CAAC,EAAEA,CAAE;YAACiK,IAAI,EAAEA;UAAK,GAApC,GAAGD,CAAC,IAAIhK,CAAC,EAAE;YAAA4I,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAA2B,CAAC;QACpE,CAAC,CACH,CAAC,EAGA,CAAC,GAAGlH,KAAK,CAACnB,IAAI,GAAG,CAAC,CAAC,CAAC,CAACX,GAAG,CAAC,CAACgK,CAAC,EAAE5F,CAAC,kBAC7B9F,OAAA;UAEE8L,WAAW,EAAGxC,CAAC,IAAKG,cAAc,CAACH,CAAC,EAAExD,CAAC,CAAE;UACzCiG,YAAY,EAAGzC,CAAC,IAAKG,cAAc,CAACH,CAAC,EAAExD,CAAC,CAAE;UAC1Cc,KAAK,EAAE;YACLoE,QAAQ,EAAE,UAAU;YACpB3F,GAAG,EAAE,CAAC;YACN2G,MAAM,EAAE,CAAC;YACT9G,IAAI,EAAE,GAAGc,cAAc,CAACF,CAAC,CAAC,GAAG;YAC7BX,KAAK,EAAE,CAAC;YACR8G,UAAU,EAAE,CAAC,CAAC;YACdC,MAAM,EAAE,YAAY;YACpBC,MAAM,EAAE,EAAE;YACVjB,UAAU,EAAE;UACd;QAAE,GAbG,cAAcpF,CAAC,EAAE;UAAAyE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAcvB,CACF,CAAC,EAGD,CAAC,GAAGlH,KAAK,CAACpB,IAAI,GAAG,CAAC,CAAC,CAAC,CAACV,GAAG,CAAC,CAACgK,CAAC,EAAE5F,CAAC,kBAC7B9F,OAAA;UAEE8L,WAAW,EAAGxC,CAAC,IAAKa,cAAc,CAACb,CAAC,EAAExD,CAAC,CAAE;UACzCiG,YAAY,EAAGzC,CAAC,IAAKa,cAAc,CAACb,CAAC,EAAExD,CAAC,CAAE;UAC1Cc,KAAK,EAAE;YACLoE,QAAQ,EAAE,UAAU;YACpB9F,IAAI,EAAE,CAAC;YACPkH,KAAK,EAAE,CAAC;YACR/G,GAAG,EAAE,GAAGc,cAAc,CAACL,CAAC,CAAC,GAAG;YAC5BR,MAAM,EAAE,CAAC;YACT+G,SAAS,EAAE,CAAC,CAAC;YACbH,MAAM,EAAE,YAAY;YACpBC,MAAM,EAAE,EAAE;YACVjB,UAAU,EAAE;UACd;QAAE,GAbG,cAAcpF,CAAC,EAAE;UAAAyE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAcvB,CACF,CAAC,EAGDpI,aAAa,CAACZ,GAAG,CAAEe,CAAC,iBACnBzC,OAAA,CAACsM,KAAK;UAEJpF,KAAK,EAAEzE,CAAE;UACTkF,QAAQ,EAAEA,QAAS;UACnBjF,OAAO,EAAEA,OAAQ;UACjBL,IAAI,EAAEA,IAAK;UACXD,IAAI,EAAEA,IAAK;UACX5B,QAAQ,EAAEA,QAAS;UACnBN,UAAU,EAAEA,UAAW;UACvBqM,UAAU,EAAEvJ,aAAc;UAC1BwJ,YAAY,EAAEA;QAAa,GATtB/J,CAAC,CAACb,EAAE;UAAA2I,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAUV,CACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN1K,OAAA,CAACZ,WAAW;MAACqN,aAAa,EAAE,IAAK;MAACN,MAAM,EAAE,MAAO;MAAA7B,QAAA,GAC9C9J,QAAQ,IAAImE,QAAQ,CAACnE,QAAQ,CAAC,gBAC7BR,OAAA,CAAC0M,UAAU;QAACxF,KAAK,EAAEvC,QAAQ,CAACnE,QAAQ;MAAE;QAAA+J,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,GACvC,IAAI,EAEP,CAAC/F,QAAQ,CAACnE,QAAQ,CAAC,IAAIsC,UAAU,GAC9B6J,iBAAiB,CAAC;QAClBtG,MAAM,EAAE;UAAEzE,EAAE,EAAEpB,QAAQ;UAAE8F,IAAI,EAAE;YAAEpC,OAAO,EAAEpB;UAAW;QAAE;MACxD,CAAC,CAAC,GACA,IAAI;IAAA;MAAAyH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEjB;AAACvK,EAAA,CArdQF,SAAS;EAAA,QAYAV,UAAU,EACxBD,SAAS,EAGTA,SAAS,EAaX6B,cAAc;AAAA;AAAAyL,EAAA,GA7BP3M,SAAS;AAudlB,eAAA4M,GAAA,gBAAe7N,KAAK,CAAC8N,IAAI,CAAC7M,SAAS,CAAC;AAAC,IAAA2M,EAAA,EAAAC,GAAA;AAAAE,YAAA,CAAAH,EAAA;AAAAG,YAAA,CAAAF,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}